<!DOCTYPE html><html lang="es" data-theme="dark"> <head><!-- CRITICAL: Initialize theme BEFORE any rendering to prevent flash --><script>
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = savedTheme || (prefersDark ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        })();
    </script><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generadores de Código | Recursos DuocUC</title><meta name="description" content="Repositorio de materiales del programa Analista Programador Computacional - DuocUC Online 2025. 10 bimestres, 25+ asignaturas, 65+ tecnologías."><!-- SEO Meta Tags --><meta name="author" content="DuocUC - Escuela de Informática"><meta name="keywords" content="DuocUC, Analista Programador, Computacional, Ingeniería Software, Desarrollo Web, Fullstack, DevOps, Cloud Computing, Java, Python, React, Spring Boot"><meta name="robots" content="index, follow"><link rel="canonical" href="https://fos-duoc.github.io/Analista-Programador-Computacional-DuocUC/recursos/generadores/"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://fos-duoc.github.io/Analista-Programador-Computacional-DuocUC/recursos/generadores/"><meta property="og:title" content="Generadores de Código | Recursos DuocUC"><meta property="og:description" content="Repositorio de materiales del programa Analista Programador Computacional - DuocUC Online 2025. 10 bimestres, 25+ asignaturas, 65+ tecnologías."><meta property="og:image" content="https://fos-duoc.github.io/Analista-Programador-Computacional-DuocUC/og-image.png"><meta property="og:site_name" content="Analista Programador Computacional - DuocUC"><meta property="og:locale" content="es_CL"><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://fos-duoc.github.io/Analista-Programador-Computacional-DuocUC/recursos/generadores/"><meta name="twitter:title" content="Generadores de Código | Recursos DuocUC"><meta name="twitter:description" content="Repositorio de materiales del programa Analista Programador Computacional - DuocUC Online 2025. 10 bimestres, 25+ asignaturas, 65+ tecnologías."><meta name="twitter:image" content="https://fos-duoc.github.io/Analista-Programador-Computacional-DuocUC/og-image.png"><!-- JSON-LD Structured Data --><script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "EducationalOrganization",
      "name": "DuocUC - Escuela de Informática",
      "description": "Programa Analista Programador Computacional e Ingeniería en Desarrollo de Software",
      "url": "https://fos-duoc.github.io/Analista-Programador-Computacional-DuocUC",
      "logo": "https://raw.githubusercontent.com/devicons/devicon/master/icons/java/java-original.svg",
      "sameAs": [
        "https://github.com/fos-duoc/Analista-Programador-Computacional-DuocUC"
      ],
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Programas de Estudio",
        "itemListElement": [
          {
            "@type": "Course",
            "name": "Analista Programador Computacional",
            "description": "Carrera técnica de 10 bimestres en desarrollo de software",
            "provider": {
              "@type": "Organization",
              "name": "DuocUC"
            },
            "educationalLevel": "Técnico de Nivel Superior",
            "timeRequired": "P20M"
          },
          {
            "@type": "Course",
            "name": "Ingeniería en Desarrollo de Software",
            "description": "Continuación profesional de 7 bimestres adicionales",
            "provider": {
              "@type": "Organization",
              "name": "DuocUC"
            },
            "educationalLevel": "Profesional",
            "timeRequired": "P14M"
          }
        ]
      }
    }
    </script><!-- Cache Control --><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><!-- View Transitions --><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/Analista-Programador-Computacional-DuocUC/assets/ClientRouter.astro_astro_type_script_index_0_lang.QW52Ox2j.js"></script><!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400&family=Playfair+Display:wght@400;500;600;700&family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400&family=Space+Grotesk:wght@300;400;500;600;700&family=Sora:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet"><!-- Icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css"><!-- AOS --><link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"><!-- Main Styles with dynamic cache busting --><link rel="stylesheet" href="/Analista-Programador-Computacional-DuocUC/assets/css/style.css?v=mju4qqit"><link rel="icon" href="https://raw.githubusercontent.com/devicons/devicon/master/icons/java/java-original.svg"><link rel="stylesheet" href="/Analista-Programador-Computacional-DuocUC/assets/index.KAwNFd0X.css">
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0;mix-blend-mode:plus-lighter}to{opacity:1;mix-blend-mode:plus-lighter}}@keyframes astroFadeOut{0%{opacity:1;mix-blend-mode:plus-lighter}to{opacity:0;mix-blend-mode:plus-lighter}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media(prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style>
<link rel="stylesheet" href="/Analista-Programador-Computacional-DuocUC/assets/index.CShgjMo_.css">
<link rel="stylesheet" href="/Analista-Programador-Computacional-DuocUC/assets/index.B6f3_OW0.css"></head> <body> <!-- Scroll Progress Bar --> <div id="scroll-progress" class="scroll-progress-bar"></div> <!-- Scroll Navigation Buttons (Static FAB) --> <!-- Jump to Footer - Top Right (appears after some scroll) --> <button id="scroll-to-bottom" class="scroll-nav-btn scroll-down-btn" aria-label="Ir al footer"> <i class="fas fa-angles-down"></i> </button> <!-- Back to Top - Bottom Right (always visible) --> <button id="back-to-top" class="scroll-nav-btn scroll-up-btn" aria-label="Volver arriba"> <i class="fas fa-angles-up"></i> </button> <!-- Toast Notifications Container --> <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div> <!-- Command Palette --> <div id="command-palette" class="command-palette"> <div class="command-palette-overlay"></div> <div class="command-palette-modal"> <div class="command-palette-header"> <div class="command-search-wrapper"> <i class="fas fa-search command-search-icon"></i> <input type="text" id="command-search" class="command-search" placeholder="Buscar páginas, tecnologías, acciones..." autocomplete="off"> <div class="command-shortcut-hint"> <kbd>ESC</kbd> cerrar
</div> </div> </div> <div class="command-palette-body"> <div id="command-results" class="command-results"> <!-- Results populated by JS --> </div> </div> <div class="command-palette-footer"> <div class="command-footer-hints"> <span><kbd>↑</kbd><kbd>↓</kbd> navegar</span> <span><kbd>↵</kbd> seleccionar</span> <span><kbd>⌘</kbd><kbd>K</kbd> abrir</span> </div> </div> </div> </div>  <header class="header" data-astro-transition-persist="astro-l7r54iwe-1"> <div class="header-content"> <a href="/Analista-Programador-Computacional-DuocUC/inicio" class="logo"> <div class="logo-icon"> <i class="fas fa-code"></i> </div> <div class="logo-text"> <span class="logo-main">Duoc UC</span> <span class="logo-sub">Escuela de Informática</span> </div> </a> <!-- Hamburger Menu Button (Mobile) --> <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Abrir menú de navegación" aria-expanded="false" aria-controls="mobile-nav"> <span class="hamburger-line"></span> <span class="hamburger-line"></span> <span class="hamburger-line"></span> </button> <nav class="nav" id="main-nav"> <a href="/Analista-Programador-Computacional-DuocUC/inicio" class="nav-link " data-premium-tooltip="Inicio|Dashboard principal con Plan de Estudios y visión general de la carrera|17 Bimestres,2 Carreras,Stats|navigation|fa-home|NAVEGACIÓN">Inicio</a> <a href="/Analista-Programador-Computacional-DuocUC/sala-de-estudio" class="nav-link " data-premium-tooltip="Sala de Estudio|Explora las asignaturas con información detallada: contenidos, evaluaciones, tecnologías y recursos|APC,IDS,40+ Asignaturas|navigation|fa-book-reader|ESTUDIO">Sala de Estudio</a> <a href="/Analista-Programador-Computacional-DuocUC/stacks" class="nav-link " data-premium-tooltip="Stacks Tecnológicos|150+ tecnologías con rankings de Stack Overflow y GitHub Octoverse 2024|Cloud DW,Terminal CLI,AI/LLM|navigation|fa-layer-group|TECNOLOGÍAS">Stacks</a> <a href="/Analista-Programador-Computacional-DuocUC/arquitecturas" class="nav-link " data-premium-tooltip="Arquitecturas|Patrones de diseño, pipelines de datos, metodologías ágiles y DevOps|Clean Arch,Scrum,CI/CD|navigation|fa-sitemap|ARQUITECTURA">Arquitecturas</a> <a href="/Analista-Programador-Computacional-DuocUC/recursos" class="nav-link active" data-premium-tooltip="Recursos|Herramientas interactivas, videos educativos, certificaciones y más|Gantt,SQL Gen,Quizzes|navigation|fa-tools|HERRAMIENTAS">Recursos</a> <a href="/Analista-Programador-Computacional-DuocUC/proyectos" class="nav-link " data-premium-tooltip="Proyectos|Roadmap de aprendizaje y proyectos para construir tu portafolio profesional|Estudio,Trabajo,Portfolio|navigation|fa-project-diagram|PROYECTOS">Proyectos</a> <!-- Dropdown para más páginas --> <div class="nav-dropdown"> <button class="nav-link dropdown-trigger">
Más <i class="fas fa-chevron-down"></i> </button> <div class="dropdown-menu"> <a href="/Analista-Programador-Computacional-DuocUC/trayectorias" class="dropdown-item " data-premium-tooltip="Career Paths|6 trayectorias profesionales con roadmaps, salarios y certificaciones|Full-Stack,DevOps,Data|navigation|fa-route|CARRERAS"> <i class="fas fa-route"></i> Trayectorias
</a> <a href="/Analista-Programador-Computacional-DuocUC/portafolio" class="dropdown-item " data-premium-tooltip="Portafolio Guiado|Guía paso a paso para construir un portafolio profesional impactante|5 Pasos,Checklist,Templates|navigation|fa-briefcase|PORTAFOLIO"> <i class="fas fa-briefcase"></i> Portafolio
</a> <a href="/Analista-Programador-Computacional-DuocUC/laboratorios" class="dropdown-item " data-premium-tooltip="Laboratorios|Práctica de código con ejercicios interactivos y plataformas|Python,JS,SQL,Git|navigation|fa-flask|PRÁCTICA"> <i class="fas fa-flask"></i> Laboratorios
</a> <a href="/Analista-Programador-Computacional-DuocUC/comunidad" class="dropdown-item " data-premium-tooltip="Comunidad|Networking con comunidades tech chilenas, eventos y mentoría|8 Comunidades,70K+ Miembros|navigation|fa-users|NETWORKING"> <i class="fas fa-users"></i> Comunidad
</a> </div> </div> </nav> <div class="header-actions"> <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme" data-premium-tooltip="Cambiar Tema|Alternar entre modo oscuro y claro para mejor experiencia visual||feature|fa-adjust|PREFERENCIAS"> <i class="fas fa-moon" id="theme-icon-dark"></i> <i class="fas fa-sun" id="theme-icon-light"></i> </button> <div class="repo-icons"> <a href="https://github.com/fos-duoc/Analista-Programador-Computacional-DuocUC" target="_blank" class="repo-icon-btn github" data-premium-tooltip="GitHub|Repositorio principal del proyecto con todos los materiales del curso|Código,Issues,PRs|info|fa-code-branch|REPOSITORIO"> <i class="fab fa-github"></i> </a> <a href="https://gitlab.com/" target="_blank" class="repo-icon-btn gitlab" data-premium-tooltip="GitLab|Mirror del repositorio en GitLab con CI/CD integrado|CI/CD,Pipelines|info|fa-code-merge|REPOSITORIO"> <i class="fab fa-gitlab"></i> </a> <a href="https://bitbucket.org/" target="_blank" class="repo-icon-btn bitbucket" data-premium-tooltip="BitBucket|Mirror en Atlassian BitBucket para integración con Jira|Atlassian,Jira|info|fa-code|REPOSITORIO"> <i class="fab fa-bitbucket"></i> </a> <a href="https://dev.azure.com/" target="_blank" class="repo-icon-btn azure" data-premium-tooltip="Azure DevOps|Mirror en Microsoft Azure DevOps para pipelines enterprise|Pipelines,Boards|info|fa-cloud|REPOSITORIO"> <i class="fab fa-microsoft"></i> </a> </div> </div> </div> <!-- Mobile Navigation Drawer --> <nav class="mobile-nav" id="mobile-nav" aria-label="Navegación móvil"> <div class="mobile-nav-content"> <div class="mobile-nav-header"> <span class="mobile-nav-title">Navegación</span> <button class="mobile-nav-close" id="mobile-nav-close" aria-label="Cerrar menú"> <i class="fas fa-times"></i> </button> </div> <div class="mobile-nav-links"> <a href="/Analista-Programador-Computacional-DuocUC/inicio" class="mobile-nav-link "> <i class="fas fa-home"></i> Inicio
</a> <a href="/Analista-Programador-Computacional-DuocUC/sala-de-estudio" class="mobile-nav-link "> <i class="fas fa-book-reader"></i> Sala de Estudio
</a> <a href="/Analista-Programador-Computacional-DuocUC/stacks" class="mobile-nav-link "> <i class="fas fa-layer-group"></i> Stacks
</a> <a href="/Analista-Programador-Computacional-DuocUC/arquitecturas" class="mobile-nav-link "> <i class="fas fa-sitemap"></i> Arquitecturas
</a> <a href="/Analista-Programador-Computacional-DuocUC/recursos" class="mobile-nav-link active"> <i class="fas fa-tools"></i> Recursos
</a> <a href="/Analista-Programador-Computacional-DuocUC/proyectos" class="mobile-nav-link "> <i class="fas fa-project-diagram"></i> Proyectos
</a> <div class="mobile-nav-divider"></div> <span class="mobile-nav-section-title">Más secciones</span> <a href="/Analista-Programador-Computacional-DuocUC/trayectorias" class="mobile-nav-link "> <i class="fas fa-route"></i> Trayectorias
</a> <a href="/Analista-Programador-Computacional-DuocUC/portafolio" class="mobile-nav-link "> <i class="fas fa-briefcase"></i> Portafolio
</a> <a href="/Analista-Programador-Computacional-DuocUC/laboratorios" class="mobile-nav-link "> <i class="fas fa-flask"></i> Laboratorios
</a> <a href="/Analista-Programador-Computacional-DuocUC/comunidad" class="mobile-nav-link "> <i class="fas fa-users"></i> Comunidad
</a> </div> <div class="mobile-nav-footer"> <div class="mobile-nav-repos"> <a href="https://github.com/fos-duoc/Analista-Programador-Computacional-DuocUC" target="_blank" class="mobile-repo-icon github"> <i class="fab fa-github"></i> </a> <a href="https://gitlab.com/" target="_blank" class="mobile-repo-icon gitlab"> <i class="fab fa-gitlab"></i> </a> <a href="https://bitbucket.org/" target="_blank" class="mobile-repo-icon bitbucket"> <i class="fab fa-bitbucket"></i> </a> <a href="https://dev.azure.com/" target="_blank" class="mobile-repo-icon azure"> <i class="fab fa-microsoft"></i> </a> </div> </div> </div> </nav> <!-- Mobile Nav Overlay --> <div class="mobile-nav-overlay" id="mobile-nav-overlay"></div> </header> <script>
    // Theme toggle function - globally accessible
    function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        html.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        console.log('Theme toggled to:', newTheme);
    }

    // Initialize header functionality
    function initHeader() {
        const header = document.querySelector('.header');
        const themeToggle = document.getElementById('theme-toggle');

        // Header scroll effect
        function handleScroll() {
            if (window.scrollY > 50) {
                header?.classList.add('scrolled');
            } else {
                header?.classList.remove('scrolled');
            }
        }

        // Remove old listener and add new one
        window.removeEventListener('scroll', handleScroll);
        window.addEventListener('scroll', handleScroll);
        handleScroll();

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.onclick = function(e) {
                e.preventDefault();
                const href = this.getAttribute('href');
                if (href && href !== '#') {
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            };
        });

        // Theme Toggle - Use onclick to avoid duplicate listeners
        if (themeToggle) {
            themeToggle.onclick = toggleTheme;
        }

        // Mobile Menu
        initMobileMenu();

        // Dropdown menu with delay
        initDropdownMenu();

        // Update active nav link
        updateActiveNavLink();
    }

    // Initialize Mobile Menu
    function initMobileMenu() {
        const menuToggle = document.getElementById('mobile-menu-toggle');
        const mobileNav = document.getElementById('mobile-nav');
        const mobileNavClose = document.getElementById('mobile-nav-close');
        const mobileNavOverlay = document.getElementById('mobile-nav-overlay');
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

        if (!menuToggle || !mobileNav) return;

        function openMobileMenu() {
            mobileNav.classList.add('open');
            mobileNavOverlay?.classList.add('visible');
            menuToggle.classList.add('active');
            menuToggle.setAttribute('aria-expanded', 'true');
            document.body.style.overflow = 'hidden'; // Prevent scroll
        }

        function closeMobileMenu() {
            mobileNav.classList.remove('open');
            mobileNavOverlay?.classList.remove('visible');
            menuToggle.classList.remove('active');
            menuToggle.setAttribute('aria-expanded', 'false');
            document.body.style.overflow = ''; // Restore scroll
        }

        // Toggle menu on hamburger click
        menuToggle.onclick = (e) => {
            e.preventDefault();
            if (mobileNav.classList.contains('open')) {
                closeMobileMenu();
            } else {
                openMobileMenu();
            }
        };

        // Close on X button
        if (mobileNavClose) {
            mobileNavClose.onclick = closeMobileMenu;
        }

        // Close on overlay click
        if (mobileNavOverlay) {
            mobileNavOverlay.onclick = closeMobileMenu;
        }

        // Close on link click
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', () => {
                closeMobileMenu();
            });
        });

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mobileNav.classList.contains('open')) {
                closeMobileMenu();
            }
        });

        // Close on resize to desktop
        window.addEventListener('resize', () => {
            if (window.innerWidth > 1024 && mobileNav.classList.contains('open')) {
                closeMobileMenu();
            }
        });
    }

    // Initialize dropdown with delay behavior
    function initDropdownMenu() {
        const dropdown = document.querySelector('.nav-dropdown');
        const trigger = document.querySelector('.dropdown-trigger');
        const menu = document.querySelector('.dropdown-menu');

        if (!dropdown || !trigger || !menu) return;

        let closeTimeout = null;
        const CLOSE_DELAY = 400; // ms antes de cerrar

        // Abrir al hacer hover en el trigger
        trigger.onmouseenter = () => {
            if (closeTimeout) {
                clearTimeout(closeTimeout);
                closeTimeout = null;
            }
            dropdown.classList.add('open');
        };

        // También abrir al hacer click
        trigger.onclick = (e) => {
            e.preventDefault();
            if (closeTimeout) {
                clearTimeout(closeTimeout);
                closeTimeout = null;
            }
            dropdown.classList.toggle('open');
        };

        // Mantener abierto mientras el mouse está en el menú
        menu.onmouseenter = () => {
            if (closeTimeout) {
                clearTimeout(closeTimeout);
                closeTimeout = null;
            }
        };

        // Cerrar con delay cuando sale del dropdown
        dropdown.onmouseleave = () => {
            closeTimeout = setTimeout(() => {
                dropdown.classList.remove('open');
            }, CLOSE_DELAY);
        };

        // Cerrar al hacer click fuera
        document.addEventListener('click', (e) => {
            if (!dropdown.contains(e.target)) {
                dropdown.classList.remove('open');
            }
        });

        // Cerrar con Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                dropdown.classList.remove('open');
            }
        });
    }

    // Update active navigation link
    function updateActiveNavLink() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav-link');

        navLinks.forEach(link => {
            link.classList.remove('active');
            const href = link.getAttribute('href');
            if (href) {
                if (currentPath.includes('/inicio') && href.includes('/inicio')) {
                    link.classList.add('active');
                } else if (currentPath.includes('/sala-de-estudio') && href.includes('/sala-de-estudio')) {
                    link.classList.add('active');
                } else if (currentPath.includes('/stacks') && href.includes('/stacks')) {
                    link.classList.add('active');
                } else if (currentPath.includes('/arquitecturas') && href.includes('/arquitecturas')) {
                    link.classList.add('active');
                } else if (currentPath.includes('/recursos') && href.includes('/recursos')) {
                    link.classList.add('active');
                } else if (currentPath.includes('/proyectos') && href.includes('/proyectos')) {
                    link.classList.add('active');
                }
            }
        });
    }

    // Run on initial page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initHeader);
    } else {
        initHeader();
    }

    // Run after Astro view transitions
    document.addEventListener('astro:page-load', initHeader);

    // Preserve theme during transitions
    document.addEventListener('astro:before-swap', (event) => {
        const theme = localStorage.getItem('theme') || 'dark';
        event.newDocument.documentElement.setAttribute('data-theme', theme);
    });
</script>  <div class="resources-layout" data-astro-cid-vygbcpwr> <!-- Sticky Sidebar Navigation --> <aside class="resources-sidebar" id="resources-sidebar" data-astro-cid-vygbcpwr> <div class="sidebar-header" data-astro-cid-vygbcpwr> <span class="sidebar-title" data-astro-cid-vygbcpwr>Recursos</span> <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar" data-astro-cid-vygbcpwr> <i class="fas fa-chevron-left" data-astro-cid-vygbcpwr></i> </button> </div> <!-- Category Navigation --> <nav class="sidebar-nav" data-astro-cid-vygbcpwr> <a href="/Analista-Programador-Computacional-DuocUC/recursos/" class="nav-category-link " data-category="overview" data-astro-cid-vygbcpwr> <i class="fas fa-home category-icon cyan" data-astro-cid-vygbcpwr></i> <div class="category-info" data-astro-cid-vygbcpwr> <span class="category-name" data-astro-cid-vygbcpwr>Vista General</span> <span class="category-meta" data-astro-cid-vygbcpwr>6 categorías</span> </div> <i class="fas fa-chevron-right nav-arrow" data-astro-cid-vygbcpwr></i> </a><a href="/Analista-Programador-Computacional-DuocUC/recursos/generadores/" class="nav-category-link active" data-category="generadores" data-astro-cid-vygbcpwr> <i class="fas fa-code category-icon cyan" data-astro-cid-vygbcpwr></i> <div class="category-info" data-astro-cid-vygbcpwr> <span class="category-name" data-astro-cid-vygbcpwr>Generadores de Código</span> <span class="category-meta" data-astro-cid-vygbcpwr>6 herramientas</span> </div> <i class="fas fa-chevron-right nav-arrow" data-astro-cid-vygbcpwr></i> </a><a href="/Analista-Programador-Computacional-DuocUC/recursos/utilidades/" class="nav-category-link " data-category="utilidades" data-astro-cid-vygbcpwr> <i class="fas fa-tools category-icon amber" data-astro-cid-vygbcpwr></i> <div class="category-info" data-astro-cid-vygbcpwr> <span class="category-name" data-astro-cid-vygbcpwr>Utilidades</span> <span class="category-meta" data-astro-cid-vygbcpwr>4 herramientas</span> </div> <i class="fas fa-chevron-right nav-arrow" data-astro-cid-vygbcpwr></i> </a><a href="/Analista-Programador-Computacional-DuocUC/recursos/gestion/" class="nav-category-link " data-category="gestion" data-astro-cid-vygbcpwr> <i class="fas fa-tasks category-icon teal" data-astro-cid-vygbcpwr></i> <div class="category-info" data-astro-cid-vygbcpwr> <span class="category-name" data-astro-cid-vygbcpwr>Gestión de Proyectos</span> <span class="category-meta" data-astro-cid-vygbcpwr>2 herramientas</span> </div> <i class="fas fa-chevron-right nav-arrow" data-astro-cid-vygbcpwr></i> </a><a href="/Analista-Programador-Computacional-DuocUC/recursos/aprendizaje/" class="nav-category-link " data-category="aprendizaje" data-astro-cid-vygbcpwr> <i class="fas fa-book-open category-icon blue" data-astro-cid-vygbcpwr></i> <div class="category-info" data-astro-cid-vygbcpwr> <span class="category-name" data-astro-cid-vygbcpwr>Herramientas para Estudiantes</span> <span class="category-meta" data-astro-cid-vygbcpwr>5 secciones</span> </div> <i class="fas fa-chevron-right nav-arrow" data-astro-cid-vygbcpwr></i> </a><a href="/Analista-Programador-Computacional-DuocUC/recursos/carrera/" class="nav-category-link " data-category="carrera" data-astro-cid-vygbcpwr> <i class="fas fa-briefcase category-icon purple" data-astro-cid-vygbcpwr></i> <div class="category-info" data-astro-cid-vygbcpwr> <span class="category-name" data-astro-cid-vygbcpwr>Certificaciones Recomendadas</span> <span class="category-meta" data-astro-cid-vygbcpwr>3 secciones</span> </div> <i class="fas fa-chevron-right nav-arrow" data-astro-cid-vygbcpwr></i> </a><a href="/Analista-Programador-Computacional-DuocUC/recursos/informacion/" class="nav-category-link " data-category="informacion" data-astro-cid-vygbcpwr> <i class="fas fa-tachometer-alt category-icon green" data-astro-cid-vygbcpwr></i> <div class="category-info" data-astro-cid-vygbcpwr> <span class="category-name" data-astro-cid-vygbcpwr>Web Vitals Dashboard</span> <span class="category-meta" data-astro-cid-vygbcpwr>3 secciones</span> </div> <i class="fas fa-chevron-right nav-arrow" data-astro-cid-vygbcpwr></i> </a> </nav> <!-- Quick Jump --> <div class="sidebar-footer" data-astro-cid-vygbcpwr> <span class="footer-label" data-astro-cid-vygbcpwr>Acceso Rápido</span> <div class="quick-actions" data-astro-cid-vygbcpwr> <button class="quick-btn" data-scroll="top" title="Ir arriba" data-astro-cid-vygbcpwr> <i class="fas fa-arrow-up" data-astro-cid-vygbcpwr></i> </button> <button class="quick-btn" data-scroll="bottom" title="Ir abajo" data-astro-cid-vygbcpwr> <i class="fas fa-arrow-down" data-astro-cid-vygbcpwr></i> </button> </div> </div> </aside> <!-- Main Content Area --> <main class="resources-content" data-astro-cid-vygbcpwr> <!-- Page Header --> <div class="category-header-bar cyan" data-astro-cid-vygbcpwr> <i class="fas fa-code" data-astro-cid-vygbcpwr></i> <h1 data-astro-cid-vygbcpwr>Generadores de Código</h1> <span class="category-count" data-astro-cid-vygbcpwr>6 herramientas</span> </div> <!-- Page Content (slot) -->  <div class="generators-page" data-astro-cid-trdnz7tl> <!-- Quick Nav --> <nav class="page-nav" aria-label="Navegación de sección" data-astro-cid-trdnz7tl> <a href="#java-generator" class="nav-chip" data-astro-cid-trdnz7tl> <i class="devicon-java-plain" data-astro-cid-trdnz7tl></i> <span data-astro-cid-trdnz7tl>Java</span> </a> <a href="#sql-generator" class="nav-chip" data-astro-cid-trdnz7tl> <i class="fas fa-database" data-astro-cid-trdnz7tl></i> <span data-astro-cid-trdnz7tl>SQL</span> </a> <a href="#er-diagram" class="nav-chip" data-astro-cid-trdnz7tl> <i class="fas fa-project-diagram" data-astro-cid-trdnz7tl></i> <span data-astro-cid-trdnz7tl>ER Diagram</span> </a> <a href="#python-generator" class="nav-chip" data-astro-cid-trdnz7tl> <i class="devicon-python-plain" data-astro-cid-trdnz7tl></i> <span data-astro-cid-trdnz7tl>Python</span> </a> <a href="#dashboard-builder" class="nav-chip" data-astro-cid-trdnz7tl> <i class="fas fa-chart-bar" data-astro-cid-trdnz7tl></i> <span data-astro-cid-trdnz7tl>Dashboard</span> </a> <a href="#streamlit-generator" class="nav-chip" data-astro-cid-trdnz7tl> <i class="fas fa-stream" data-astro-cid-trdnz7tl></i> <span data-astro-cid-trdnz7tl>Streamlit</span> </a> </nav> <!-- Components --> <section id="java-generator" data-astro-cid-trdnz7tl> <section id="java-generator" class="java-generator-section" data-astro-cid-edthixh3> <div class="java-container" data-astro-cid-edthixh3> <!-- Header --> <div class="java-header" data-aos="fade-up" data-astro-cid-edthixh3> <div class="header-icon" data-astro-cid-edthixh3> <i class="devicon-java-plain colored" data-astro-cid-edthixh3></i> </div> <div class="header-content" data-astro-cid-edthixh3> <h2 data-astro-cid-edthixh3>Generador de Clases Java</h2> <p data-astro-cid-edthixh3>Crea clases, métodos y objetos siguiendo las mejores prácticas de POO</p> </div> <div class="header-badges" data-astro-cid-edthixh3> <span class="badge java" data-astro-cid-edthixh3>Java 17+</span> <span class="badge oop" data-astro-cid-edthixh3>POO</span> <span class="badge clean" data-astro-cid-edthixh3>Clean Code</span> </div> </div> <!-- Main Generator --> <div class="generator-layout" data-aos="fade-up" data-aos-delay="100" data-astro-cid-edthixh3> <!-- Left Panel - Configuration --> <div class="config-panel" data-astro-cid-edthixh3> <div class="panel-header" data-astro-cid-edthixh3> <i class="fas fa-cog" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Configuración</span> </div> <!-- Class Configuration --> <div class="config-section" data-astro-cid-edthixh3> <h4 data-astro-cid-edthixh3><i class="fas fa-cube" data-astro-cid-edthixh3></i> Clase</h4> <div class="form-group" data-astro-cid-edthixh3> <label data-astro-cid-edthixh3>Nombre de la Clase</label> <input type="text" id="java-class-name" placeholder="Persona" value="Persona" data-astro-cid-edthixh3> </div> <div class="form-group" data-astro-cid-edthixh3> <label data-astro-cid-edthixh3>Paquete</label> <input type="text" id="java-package" placeholder="com.ejemplo.modelo" value="com.ejemplo.modelo" data-astro-cid-edthixh3> </div> <div class="form-row" data-astro-cid-edthixh3> <div class="form-group" data-astro-cid-edthixh3> <label data-astro-cid-edthixh3>Modificador</label> <select id="java-class-modifier" data-astro-cid-edthixh3> <option value="public" selected data-astro-cid-edthixh3>public</option> <option value="protected" data-astro-cid-edthixh3>protected</option> <option value="" data-astro-cid-edthixh3>default</option> </select> </div> <div class="form-group" data-astro-cid-edthixh3> <label data-astro-cid-edthixh3>Tipo</label> <select id="java-class-type" data-astro-cid-edthixh3> <option value="class" selected data-astro-cid-edthixh3>class</option> <option value="abstract class" data-astro-cid-edthixh3>abstract class</option> <option value="interface" data-astro-cid-edthixh3>interface</option> <option value="record" data-astro-cid-edthixh3>record</option> <option value="enum" data-astro-cid-edthixh3>enum</option> </select> </div> </div> <div class="form-group" data-astro-cid-edthixh3> <label data-astro-cid-edthixh3>Extiende (Herencia)</label> <input type="text" id="java-extends" placeholder="ClasePadre (opcional)" data-astro-cid-edthixh3> </div> <div class="form-group" data-astro-cid-edthixh3> <label data-astro-cid-edthixh3>Implementa (Interfaces)</label> <input type="text" id="java-implements" placeholder="Serializable, Comparable (separar con coma)" data-astro-cid-edthixh3> </div> </div> <!-- Attributes --> <div class="config-section" data-astro-cid-edthixh3> <h4 data-astro-cid-edthixh3><i class="fas fa-database" data-astro-cid-edthixh3></i> Atributos</h4> <div id="java-attributes-list" class="attributes-list" data-astro-cid-edthixh3> <!-- Dynamic attributes --> </div> <button type="button" class="btn-add" id="java-add-attribute" data-astro-cid-edthixh3> <i class="fas fa-plus" data-astro-cid-edthixh3></i> Agregar Atributo
</button> </div> <!-- Methods --> <div class="config-section" data-astro-cid-edthixh3> <h4 data-astro-cid-edthixh3><i class="fas fa-code" data-astro-cid-edthixh3></i> Métodos</h4> <div id="java-methods-list" class="methods-list" data-astro-cid-edthixh3> <!-- Dynamic methods --> </div> <button type="button" class="btn-add" id="java-add-method" data-astro-cid-edthixh3> <i class="fas fa-plus" data-astro-cid-edthixh3></i> Agregar Método
</button> </div> <!-- Options --> <div class="config-section" data-astro-cid-edthixh3> <h4 data-astro-cid-edthixh3><i class="fas fa-sliders-h" data-astro-cid-edthixh3></i> Opciones</h4> <div class="options-grid" data-astro-cid-edthixh3> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-constructor" checked data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>Constructor</span> </label> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-getters" checked data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>Getters</span> </label> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-setters" checked data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>Setters</span> </label> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-tostring" checked data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>toString()</span> </label> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-equals" data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>equals() & hashCode()</span> </label> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-builder" data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>Builder Pattern</span> </label> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-javadoc" checked data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>Javadoc</span> </label> <label class="checkbox-option" data-astro-cid-edthixh3> <input type="checkbox" id="java-generate-validation" data-astro-cid-edthixh3> <span data-astro-cid-edthixh3>Validaciones</span> </label> </div> </div> <button type="button" class="btn-generate" id="java-generate-btn" data-astro-cid-edthixh3> <i class="fas fa-magic" data-astro-cid-edthixh3></i> Generar Código
</button> </div> <!-- Right Panel - Code Output --> <div class="output-panel" data-astro-cid-edthixh3> <div class="panel-header" data-astro-cid-edthixh3> <div class="panel-title" data-astro-cid-edthixh3> <i class="fas fa-file-code" data-astro-cid-edthixh3></i> <span id="java-filename" data-astro-cid-edthixh3>Persona.java</span> </div> <div class="panel-actions" data-astro-cid-edthixh3> <button type="button" class="btn-icon" id="java-copy-btn" title="Copiar código" data-astro-cid-edthixh3> <i class="fas fa-copy" data-astro-cid-edthixh3></i> </button> <button type="button" class="btn-icon" id="java-download-btn" title="Descargar archivo" data-astro-cid-edthixh3> <i class="fas fa-download" data-astro-cid-edthixh3></i> </button> <button type="button" class="btn-icon" id="java-fullscreen-btn" title="Pantalla completa" data-astro-cid-edthixh3> <i class="fas fa-expand" data-astro-cid-edthixh3></i> </button> </div> </div> <div class="code-output" data-astro-cid-edthixh3> <pre data-astro-cid-edthixh3><code id="java-code-output" class="language-java" data-astro-cid-edthixh3>// Configura tu clase y presiona "Generar Código"</code></pre> </div> <div class="output-footer" data-astro-cid-edthixh3> <span class="line-count" data-astro-cid-edthixh3><i class="fas fa-align-left" data-astro-cid-edthixh3></i> <span id="java-line-count" data-astro-cid-edthixh3>1</span> líneas</span> <span class="char-count" data-astro-cid-edthixh3><i class="fas fa-text-width" data-astro-cid-edthixh3></i> <span id="java-char-count" data-astro-cid-edthixh3>0</span> caracteres</span> </div> </div> </div> <!-- Quick Templates --> <div class="templates-section" data-aos="fade-up" data-aos-delay="200" data-astro-cid-edthixh3> <h4 data-astro-cid-edthixh3><i class="fas fa-layer-group" data-astro-cid-edthixh3></i> Plantillas Rápidas</h4> <div class="templates-grid" data-astro-cid-edthixh3> <button type="button" class="template-btn" data-template="entity" data-astro-cid-edthixh3> <i class="fas fa-table" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Entity JPA</span> </button> <button type="button" class="template-btn" data-template="dto" data-astro-cid-edthixh3> <i class="fas fa-exchange-alt" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>DTO</span> </button> <button type="button" class="template-btn" data-template="service" data-astro-cid-edthixh3> <i class="fas fa-cogs" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Service</span> </button> <button type="button" class="template-btn" data-template="repository" data-astro-cid-edthixh3> <i class="fas fa-database" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Repository</span> </button> <button type="button" class="template-btn" data-template="controller" data-astro-cid-edthixh3> <i class="fas fa-sitemap" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Controller</span> </button> <button type="button" class="template-btn" data-template="singleton" data-astro-cid-edthixh3> <i class="fas fa-dot-circle" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Singleton</span> </button> <button type="button" class="template-btn" data-template="factory" data-astro-cid-edthixh3> <i class="fas fa-industry" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Factory</span> </button> <button type="button" class="template-btn" data-template="observer" data-astro-cid-edthixh3> <i class="fas fa-eye" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Observer</span> </button> </div> </div> <!-- UML Preview --> <div class="uml-preview" data-aos="fade-up" data-aos-delay="300" data-astro-cid-edthixh3> <div class="panel-header" data-astro-cid-edthixh3> <i class="fas fa-project-diagram" data-astro-cid-edthixh3></i> <span data-astro-cid-edthixh3>Vista UML</span> </div> <div class="uml-diagram" id="java-uml-diagram" data-astro-cid-edthixh3> <div class="uml-class" data-astro-cid-edthixh3> <div class="uml-header" data-astro-cid-edthixh3>Persona</div> <div class="uml-attributes" id="uml-attributes" data-astro-cid-edthixh3>
- nombre: String<br data-astro-cid-edthixh3>
- edad: int
</div> <div class="uml-methods" id="uml-methods" data-astro-cid-edthixh3>
+ getNombre(): String<br data-astro-cid-edthixh3>
+ setNombre(String): void<br data-astro-cid-edthixh3>
+ getEdad(): int<br data-astro-cid-edthixh3>
+ setEdad(int): void
</div> </div> </div> </div> </div> </section>  <script>
document.addEventListener('astro:page-load', function() {
    // Data Types
    const javaTypes = ['String', 'int', 'long', 'double', 'float', 'boolean', 'char', 'byte', 'Integer', 'Long', 'Double', 'Float', 'Boolean', 'List<String>', 'List<Integer>', 'Map<String, Object>', 'Set<String>', 'Date', 'LocalDate', 'LocalDateTime', 'BigDecimal', 'Object'];
    const modifiers = ['private', 'protected', 'public', ''];

    // Elements
    const classNameInput = document.getElementById('java-class-name');
    const packageInput = document.getElementById('java-package');
    const classModifier = document.getElementById('java-class-modifier');
    const classType = document.getElementById('java-class-type');
    const extendsInput = document.getElementById('java-extends');
    const implementsInput = document.getElementById('java-implements');
    const attributesList = document.getElementById('java-attributes-list');
    const methodsList = document.getElementById('java-methods-list');
    const generateBtn = document.getElementById('java-generate-btn');
    const codeOutput = document.getElementById('java-code-output');
    const copyBtn = document.getElementById('java-copy-btn');
    const downloadBtn = document.getElementById('java-download-btn');
    const filenameEl = document.getElementById('java-filename');
    const lineCountEl = document.getElementById('java-line-count');
    const charCountEl = document.getElementById('java-char-count');

    if (!generateBtn) return;

    // Add default attributes
    addAttribute('nombre', 'String', 'private');
    addAttribute('edad', 'int', 'private');

    function addAttribute(name = '', type = 'String', modifier = 'private') {
        const item = document.createElement('div');
        item.className = 'attribute-item';
        item.innerHTML = `
            <select class="attr-modifier">
                ${modifiers.map(m => `<option value="${m}" ${m === modifier ? 'selected' : ''}>${m || 'default'}</option>`).join('')}
            </select>
            <select class="attr-type">
                ${javaTypes.map(t => `<option value="${t}" ${t === type ? 'selected' : ''}>${t}</option>`).join('')}
            </select>
            <input type="text" class="attr-name" placeholder="nombre" value="${name}">
            <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
        `;
        attributesList.appendChild(item);

        item.querySelector('.btn-remove').addEventListener('click', () => item.remove());
    }

    function addMethod(name = '', returnType = 'void', modifier = 'public', params = '') {
        const item = document.createElement('div');
        item.className = 'method-item';
        item.innerHTML = `
            <select class="method-modifier">
                ${modifiers.map(m => `<option value="${m}" ${m === modifier ? 'selected' : ''}>${m || 'default'}</option>`).join('')}
            </select>
            <select class="method-return">
                ${['void', ...javaTypes].map(t => `<option value="${t}" ${t === returnType ? 'selected' : ''}>${t}</option>`).join('')}
            </select>
            <input type="text" class="method-name" placeholder="metodo" value="${name}">
            <input type="text" class="method-params" placeholder="params" value="${params}" style="width: 80px;">
            <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
        `;
        methodsList.appendChild(item);

        item.querySelector('.btn-remove').addEventListener('click', () => item.remove());
    }

    document.getElementById('java-add-attribute').addEventListener('click', () => addAttribute());
    document.getElementById('java-add-method').addEventListener('click', () => addMethod());

    // Generate Code
    generateBtn.addEventListener('click', generateJavaCode);

    function generateJavaCode() {
        const className = classNameInput.value || 'MiClase';
        const pkg = packageInput.value;
        const modifier = classModifier.value;
        const type = classType.value;
        const extendsClass = extendsInput.value;
        const implementsList = implementsInput.value;

        const options = {
            constructor: document.getElementById('java-generate-constructor').checked,
            getters: document.getElementById('java-generate-getters').checked,
            setters: document.getElementById('java-generate-setters').checked,
            toString: document.getElementById('java-generate-tostring').checked,
            equals: document.getElementById('java-generate-equals').checked,
            builder: document.getElementById('java-generate-builder').checked,
            javadoc: document.getElementById('java-generate-javadoc').checked,
            validation: document.getElementById('java-generate-validation').checked
        };

        // Collect attributes
        const attributes = [];
        attributesList.querySelectorAll('.attribute-item').forEach(item => {
            const name = item.querySelector('.attr-name').value;
            if (name) {
                attributes.push({
                    modifier: item.querySelector('.attr-modifier').value,
                    type: item.querySelector('.attr-type').value,
                    name: name
                });
            }
        });

        // Collect methods
        const methods = [];
        methodsList.querySelectorAll('.method-item').forEach(item => {
            const name = item.querySelector('.method-name').value;
            if (name) {
                methods.push({
                    modifier: item.querySelector('.method-modifier').value,
                    returnType: item.querySelector('.method-return').value,
                    name: name,
                    params: item.querySelector('.method-params').value
                });
            }
        });

        // Generate code
        let code = '';

        // Package
        if (pkg) {
            code += `package ${pkg};\n\n`;
        }

        // Imports
        const imports = new Set();
        if (options.equals) imports.add('import java.util.Objects;');
        if (attributes.some(a => a.type === 'List<String>' || a.type === 'List<Integer>')) imports.add('import java.util.List;');
        if (attributes.some(a => a.type.startsWith('Map'))) imports.add('import java.util.Map;');
        if (attributes.some(a => a.type.startsWith('Set'))) imports.add('import java.util.Set;');
        if (attributes.some(a => a.type === 'Date')) imports.add('import java.util.Date;');
        if (attributes.some(a => a.type === 'LocalDate')) imports.add('import java.time.LocalDate;');
        if (attributes.some(a => a.type === 'LocalDateTime')) imports.add('import java.time.LocalDateTime;');
        if (attributes.some(a => a.type === 'BigDecimal')) imports.add('import java.math.BigDecimal;');

        if (imports.size > 0) {
            code += Array.from(imports).sort().join('\n') + '\n\n';
        }

        // Javadoc
        if (options.javadoc) {
            code += `/**\n * Clase ${className}\n * @author Generador Java DuocUC\n * @version 1.0\n */\n`;
        }

        // Class declaration
        code += modifier ? `${modifier} ` : '';
        code += `${type} ${className}`;
        if (extendsClass) code += ` extends ${extendsClass}`;
        if (implementsList) code += ` implements ${implementsList}`;
        code += ' {\n\n';

        // Attributes
        if (attributes.length > 0) {
            code += '    // Atributos\n';
            attributes.forEach(attr => {
                code += `    ${attr.modifier ? attr.modifier + ' ' : ''}${attr.type} ${attr.name};\n`;
            });
            code += '\n';
        }

        // Constructor
        if (options.constructor && attributes.length > 0) {
            if (options.javadoc) {
                code += '    /**\n     * Constructor con todos los atributos\n';
                attributes.forEach(a => code += `     * @param ${a.name} ${a.type}\n`);
                code += '     */\n';
            }
            code += `    public ${className}(`;
            code += attributes.map(a => `${a.type} ${a.name}`).join(', ');
            code += ') {\n';
            if (options.validation) {
                attributes.filter(a => a.type === 'String').forEach(a => {
                    code += `        if (${a.name} == null || ${a.name}.isEmpty()) {\n`;
                    code += `            throw new IllegalArgumentException("${a.name} no puede ser nulo o vacío");\n`;
                    code += '        }\n';
                });
            }
            attributes.forEach(a => code += `        this.${a.name} = ${a.name};\n`);
            code += '    }\n\n';

            // Empty constructor
            code += `    public ${className}() {\n    }\n\n`;
        }

        // Getters
        if (options.getters) {
            attributes.forEach(attr => {
                const methodName = (attr.type === 'boolean' ? 'is' : 'get') + capitalize(attr.name);
                if (options.javadoc) {
                    code += `    /**\n     * @return ${attr.type}\n     */\n`;
                }
                code += `    public ${attr.type} ${methodName}() {\n`;
                code += `        return this.${attr.name};\n`;
                code += '    }\n\n';
            });
        }

        // Setters
        if (options.setters) {
            attributes.forEach(attr => {
                if (options.javadoc) {
                    code += `    /**\n     * @param ${attr.name} ${attr.type}\n     */\n`;
                }
                code += `    public void set${capitalize(attr.name)}(${attr.type} ${attr.name}) {\n`;
                if (options.validation && attr.type === 'String') {
                    code += `        if (${attr.name} == null || ${attr.name}.isEmpty()) {\n`;
                    code += `            throw new IllegalArgumentException("${attr.name} no puede ser nulo o vacío");\n`;
                    code += '        }\n';
                }
                code += `        this.${attr.name} = ${attr.name};\n`;
                code += '    }\n\n';
            });
        }

        // Custom methods
        methods.forEach(method => {
            code += `    ${method.modifier ? method.modifier + ' ' : ''}${method.returnType} ${method.name}(${method.params}) {\n`;
            if (method.returnType !== 'void') {
                code += `        // TODO: Implementar lógica\n`;
                code += `        return ${getDefaultReturn(method.returnType)};\n`;
            } else {
                code += '        // TODO: Implementar lógica\n';
            }
            code += '    }\n\n';
        });

        // toString
        if (options.toString && attributes.length > 0) {
            code += '    @Override\n';
            code += '    public String toString() {\n';
            code += `        return "${className}{" +\n`;
            attributes.forEach((attr, i) => {
                const sep = i < attributes.length - 1 ? ' +' : '';
                if (attr.type === 'String') {
                    code += `            "${attr.name}='" + ${attr.name} + '\\'' +${sep}\n`;
                } else {
                    code += `            ", ${attr.name}=" + ${attr.name}${sep}\n`;
                }
            });
            code += '            "}";\n';
            code += '    }\n\n';
        }

        // equals & hashCode
        if (options.equals && attributes.length > 0) {
            code += '    @Override\n';
            code += '    public boolean equals(Object o) {\n';
            code += '        if (this == o) return true;\n';
            code += '        if (o == null || getClass() != o.getClass()) return false;\n';
            code += `        ${className} that = (${className}) o;\n`;
            code += '        return ';
            code += attributes.map(a => {
                if (['int', 'long', 'double', 'float', 'boolean', 'char', 'byte'].includes(a.type)) {
                    return `${a.name} == that.${a.name}`;
                }
                return `Objects.equals(${a.name}, that.${a.name})`;
            }).join(' &&\n               ');
            code += ';\n';
            code += '    }\n\n';

            code += '    @Override\n';
            code += '    public int hashCode() {\n';
            code += '        return Objects.hash(' + attributes.map(a => a.name).join(', ') + ');\n';
            code += '    }\n\n';
        }

        // Builder Pattern
        if (options.builder && attributes.length > 0) {
            code += `    public static Builder builder() {\n`;
            code += `        return new Builder();\n`;
            code += '    }\n\n';

            code += `    public static class Builder {\n`;
            attributes.forEach(a => code += `        private ${a.type} ${a.name};\n`);
            code += '\n';
            attributes.forEach(a => {
                code += `        public Builder ${a.name}(${a.type} ${a.name}) {\n`;
                code += `            this.${a.name} = ${a.name};\n`;
                code += '            return this;\n';
                code += '        }\n\n';
            });
            code += `        public ${className} build() {\n`;
            code += `            ${className} obj = new ${className}();\n`;
            attributes.forEach(a => code += `            obj.${a.name} = this.${a.name};\n`);
            code += '            return obj;\n';
            code += '        }\n';
            code += '    }\n';
        }

        code += '}\n';

        // Update output
        codeOutput.textContent = code;
        filenameEl.textContent = `${className}.java`;
        lineCountEl.textContent = code.split('\n').length;
        charCountEl.textContent = code.length;

        // Update UML
        updateUML(className, attributes, methods, options);
    }

    function capitalize(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
    }

    function getDefaultReturn(type) {
        const defaults = {
            'int': '0', 'long': '0L', 'double': '0.0', 'float': '0.0f',
            'boolean': 'false', 'char': "' '", 'byte': '0',
            'String': '""', 'void': ''
        };
        return defaults[type] || 'null';
    }

    function updateUML(className, attributes, methods, options) {
        const umlHeader = document.querySelector('.uml-header');
        const umlAttrs = document.getElementById('uml-attributes');
        const umlMethods = document.getElementById('uml-methods');

        if (umlHeader) umlHeader.textContent = className;

        if (umlAttrs) {
            umlAttrs.innerHTML = attributes.map(a => {
                const vis = a.modifier === 'private' ? '-' : a.modifier === 'protected' ? '#' : '+';
                return `${vis} ${a.name}: ${a.type}`;
            }).join('<br>') || '(sin atributos)';
        }

        if (umlMethods) {
            let methodsHtml = '';
            if (options.getters) {
                methodsHtml += attributes.map(a => `+ get${capitalize(a.name)}(): ${a.type}`).join('<br>');
            }
            if (options.setters) {
                if (methodsHtml) methodsHtml += '<br>';
                methodsHtml += attributes.map(a => `+ set${capitalize(a.name)}(${a.type}): void`).join('<br>');
            }
            methods.forEach(m => {
                if (methodsHtml) methodsHtml += '<br>';
                const vis = m.modifier === 'private' ? '-' : m.modifier === 'protected' ? '#' : '+';
                methodsHtml += `${vis} ${m.name}(${m.params}): ${m.returnType}`;
            });
            umlMethods.innerHTML = methodsHtml || '(sin métodos)';
        }
    }

    // Copy button
    copyBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(codeOutput.textContent);
        copyBtn.innerHTML = '<i class="fas fa-check"></i>';
        setTimeout(() => copyBtn.innerHTML = '<i class="fas fa-copy"></i>', 2000);
    });

    // Download button
    downloadBtn.addEventListener('click', () => {
        const blob = new Blob([codeOutput.textContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filenameEl.textContent;
        a.click();
        URL.revokeObjectURL(url);
    });

    // Templates
    const templates = {
        entity: {
            className: 'Usuario',
            package: 'com.ejemplo.entity',
            attributes: [
                { name: 'id', type: 'Long', modifier: 'private' },
                { name: 'nombre', type: 'String', modifier: 'private' },
                { name: 'email', type: 'String', modifier: 'private' },
                { name: 'fechaCreacion', type: 'LocalDateTime', modifier: 'private' }
            ]
        },
        dto: {
            className: 'UsuarioDTO',
            package: 'com.ejemplo.dto',
            attributes: [
                { name: 'id', type: 'Long', modifier: 'private' },
                { name: 'nombre', type: 'String', modifier: 'private' },
                { name: 'email', type: 'String', modifier: 'private' }
            ]
        },
        service: {
            className: 'UsuarioService',
            package: 'com.ejemplo.service',
            classType: 'interface',
            methods: [
                { name: 'findById', returnType: 'Object', modifier: 'public', params: 'Long id' },
                { name: 'findAll', returnType: 'List<Object>', modifier: 'public', params: '' },
                { name: 'save', returnType: 'Object', modifier: 'public', params: 'Object entity' },
                { name: 'delete', returnType: 'void', modifier: 'public', params: 'Long id' }
            ]
        },
        repository: {
            className: 'UsuarioRepository',
            package: 'com.ejemplo.repository',
            classType: 'interface',
            methods: [
                { name: 'findById', returnType: 'Object', modifier: 'public', params: 'Long id' },
                { name: 'findByEmail', returnType: 'Object', modifier: 'public', params: 'String email' },
                { name: 'save', returnType: 'Object', modifier: 'public', params: 'Object entity' },
                { name: 'deleteById', returnType: 'void', modifier: 'public', params: 'Long id' }
            ]
        },
        controller: {
            className: 'UsuarioController',
            package: 'com.ejemplo.controller',
            methods: [
                { name: 'getAll', returnType: 'List<Object>', modifier: 'public', params: '' },
                { name: 'getById', returnType: 'Object', modifier: 'public', params: 'Long id' },
                { name: 'create', returnType: 'Object', modifier: 'public', params: 'Object dto' },
                { name: 'update', returnType: 'Object', modifier: 'public', params: 'Long id, Object dto' },
                { name: 'delete', returnType: 'void', modifier: 'public', params: 'Long id' }
            ]
        },
        singleton: {
            className: 'ConfigManager',
            package: 'com.ejemplo.util',
            attributes: [
                { name: 'instance', type: 'ConfigManager', modifier: 'private' }
            ],
            methods: [
                { name: 'getInstance', returnType: 'ConfigManager', modifier: 'public', params: '' }
            ]
        },
        factory: {
            className: 'VehiculoFactory',
            package: 'com.ejemplo.factory',
            methods: [
                { name: 'crearVehiculo', returnType: 'Object', modifier: 'public', params: 'String tipo' }
            ]
        },
        observer: {
            className: 'EventListener',
            package: 'com.ejemplo.observer',
            classType: 'interface',
            methods: [
                { name: 'onEvent', returnType: 'void', modifier: 'public', params: 'Object event' }
            ]
        }
    };

    document.querySelectorAll('.template-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const templateName = btn.dataset.template;
            const template = templates[templateName];
            if (!template) return;

            classNameInput.value = template.className || '';
            packageInput.value = template.package || '';
            if (template.classType) {
                classType.value = template.classType;
            } else {
                classType.value = 'class';
            }

            // Clear and add attributes
            attributesList.innerHTML = '';
            (template.attributes || []).forEach(a => addAttribute(a.name, a.type, a.modifier));

            // Clear and add methods
            methodsList.innerHTML = '';
            (template.methods || []).forEach(m => addMethod(m.name, m.returnType, m.modifier, m.params));

            generateJavaCode();
        });
    });

    // Initial generation
    generateJavaCode();
});
</script> </section> <section id="sql-generator" data-astro-cid-trdnz7tl> <section id="sql-generator" class="tool-section" data-astro-cid-qebz2yho> <div class="tool-container" data-astro-cid-qebz2yho> <!-- Header --> <div class="tool-header" data-astro-cid-qebz2yho> <div class="tool-icon sql-icon" data-astro-cid-qebz2yho> <i class="fas fa-database" data-astro-cid-qebz2yho></i> </div> <div class="tool-title" data-astro-cid-qebz2yho> <h2 data-astro-cid-qebz2yho>Generador de Queries SQL</h2> <p data-astro-cid-qebz2yho>Constructor visual de consultas SQL para aprender y practicar</p> </div> <div class="dialect-badge" data-astro-cid-qebz2yho> <i class="fas fa-code" data-astro-cid-qebz2yho></i> <span data-astro-cid-qebz2yho>SQL Estándar</span> </div> </div> <div class="sql-tool" data-astro-cid-qebz2yho> <!-- Query Type Selector --> <div class="query-type-selector" data-astro-cid-qebz2yho> <button class="type-btn active" data-type="SELECT" data-astro-cid-qebz2yho> <i class="fas fa-search" data-astro-cid-qebz2yho></i> SELECT
</button> <button class="type-btn" data-type="INSERT" data-astro-cid-qebz2yho> <i class="fas fa-plus" data-astro-cid-qebz2yho></i> INSERT
</button> <button class="type-btn" data-type="UPDATE" data-astro-cid-qebz2yho> <i class="fas fa-edit" data-astro-cid-qebz2yho></i> UPDATE
</button> <button class="type-btn" data-type="DELETE" data-astro-cid-qebz2yho> <i class="fas fa-trash" data-astro-cid-qebz2yho></i> DELETE
</button> </div> <!-- Builder Area --> <div class="builder-area" data-astro-cid-qebz2yho> <!-- SELECT Builder --> <div class="builder-panel" id="select-builder" data-astro-cid-qebz2yho> <!-- Table Selection --> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>FROM</span> <span class="tooltip-icon" title="Tabla de la cual obtener datos" data-astro-cid-qebz2yho> <i class="fas fa-info-circle" data-astro-cid-qebz2yho></i> </span> </label> <select id="select-table" class="builder-select" data-astro-cid-qebz2yho> <option value="" data-astro-cid-qebz2yho>Selecciona una tabla...</option> <option value="usuarios" data-astro-cid-qebz2yho>usuarios</option> <option value="productos" data-astro-cid-qebz2yho>productos</option> <option value="pedidos" data-astro-cid-qebz2yho>pedidos</option> <option value="categorias" data-astro-cid-qebz2yho>categorias</option> </select> </div> <!-- Columns Selection --> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>SELECT</span> <span class="tooltip-icon" title="Columnas a obtener" data-astro-cid-qebz2yho> <i class="fas fa-info-circle" data-astro-cid-qebz2yho></i> </span> </label> <div class="columns-container" id="columns-container" data-astro-cid-qebz2yho> <div class="column-chips" id="column-chips" data-astro-cid-qebz2yho> <span class="column-chip all-columns" data-column="*" data-astro-cid-qebz2yho>
* (todas)
</span> </div> <div class="available-columns" id="available-columns" data-astro-cid-qebz2yho> <!-- Populated by JS based on selected table --> </div> </div> </div> <!-- WHERE Conditions --> <div class="builder-row conditions-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>WHERE</span> <span class="tooltip-icon" title="Condiciones de filtro" data-astro-cid-qebz2yho> <i class="fas fa-info-circle" data-astro-cid-qebz2yho></i> </span> </label> <div class="conditions-container" id="conditions-container" data-astro-cid-qebz2yho> <div class="conditions-list" id="conditions-list" data-astro-cid-qebz2yho> <!-- Conditions added by JS --> </div> <button class="add-condition-btn" id="add-condition" data-astro-cid-qebz2yho> <i class="fas fa-plus" data-astro-cid-qebz2yho></i> Agregar Condición
</button> </div> </div> <!-- ORDER BY --> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>ORDER BY</span> <span class="tooltip-icon" title="Ordenar resultados" data-astro-cid-qebz2yho> <i class="fas fa-info-circle" data-astro-cid-qebz2yho></i> </span> </label> <div class="order-container" data-astro-cid-qebz2yho> <select id="order-column" class="builder-select small" data-astro-cid-qebz2yho> <option value="" data-astro-cid-qebz2yho>Sin ordenar</option> </select> <select id="order-direction" class="builder-select tiny" data-astro-cid-qebz2yho> <option value="ASC" data-astro-cid-qebz2yho>ASC</option> <option value="DESC" data-astro-cid-qebz2yho>DESC</option> </select> </div> </div> <!-- LIMIT --> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>LIMIT</span> <span class="tooltip-icon" title="Limitar número de resultados" data-astro-cid-qebz2yho> <i class="fas fa-info-circle" data-astro-cid-qebz2yho></i> </span> </label> <input type="number" id="limit-value" class="builder-input small" placeholder="Sin límite" min="1" max="1000" data-astro-cid-qebz2yho> </div> </div> <!-- INSERT Builder --> <div class="builder-panel hidden" id="insert-builder" data-astro-cid-qebz2yho> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>INTO</span> </label> <select id="insert-table" class="builder-select" data-astro-cid-qebz2yho> <option value="" data-astro-cid-qebz2yho>Selecciona una tabla...</option> <option value="usuarios" data-astro-cid-qebz2yho>usuarios</option> <option value="productos" data-astro-cid-qebz2yho>productos</option> <option value="pedidos" data-astro-cid-qebz2yho>pedidos</option> </select> </div> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>VALUES</span> </label> <div class="values-container" id="insert-values-container" data-astro-cid-qebz2yho> <!-- Populated by JS --> </div> </div> </div> <!-- UPDATE Builder --> <div class="builder-panel hidden" id="update-builder" data-astro-cid-qebz2yho> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>UPDATE</span> </label> <select id="update-table" class="builder-select" data-astro-cid-qebz2yho> <option value="" data-astro-cid-qebz2yho>Selecciona una tabla...</option> <option value="usuarios" data-astro-cid-qebz2yho>usuarios</option> <option value="productos" data-astro-cid-qebz2yho>productos</option> <option value="pedidos" data-astro-cid-qebz2yho>pedidos</option> </select> </div> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>SET</span> </label> <div class="set-container" id="update-set-container" data-astro-cid-qebz2yho> <!-- Populated by JS --> </div> </div> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>WHERE</span> </label> <div class="conditions-container" id="update-conditions-container" data-astro-cid-qebz2yho> <div class="conditions-list" id="update-conditions-list" data-astro-cid-qebz2yho></div> <button class="add-condition-btn" id="add-update-condition" data-astro-cid-qebz2yho> <i class="fas fa-plus" data-astro-cid-qebz2yho></i> Agregar Condición
</button> </div> </div> </div> <!-- DELETE Builder --> <div class="builder-panel hidden" id="delete-builder" data-astro-cid-qebz2yho> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>FROM</span> </label> <select id="delete-table" class="builder-select" data-astro-cid-qebz2yho> <option value="" data-astro-cid-qebz2yho>Selecciona una tabla...</option> <option value="usuarios" data-astro-cid-qebz2yho>usuarios</option> <option value="productos" data-astro-cid-qebz2yho>productos</option> <option value="pedidos" data-astro-cid-qebz2yho>pedidos</option> </select> </div> <div class="builder-row" data-astro-cid-qebz2yho> <label class="row-label" data-astro-cid-qebz2yho> <span class="keyword" data-astro-cid-qebz2yho>WHERE</span> <span class="warning-badge" data-astro-cid-qebz2yho> <i class="fas fa-exclamation-triangle" data-astro-cid-qebz2yho></i> Requerido
</span> </label> <div class="conditions-container" id="delete-conditions-container" data-astro-cid-qebz2yho> <div class="conditions-list" id="delete-conditions-list" data-astro-cid-qebz2yho></div> <button class="add-condition-btn" id="add-delete-condition" data-astro-cid-qebz2yho> <i class="fas fa-plus" data-astro-cid-qebz2yho></i> Agregar Condición
</button> </div> </div> </div> </div> <!-- Query Preview --> <div class="query-preview" data-astro-cid-qebz2yho> <div class="preview-header" data-astro-cid-qebz2yho> <h4 data-astro-cid-qebz2yho><i class="fas fa-code" data-astro-cid-qebz2yho></i> Query Generada</h4> <div class="preview-actions" data-astro-cid-qebz2yho> <button id="format-query" class="preview-btn" title="Formatear" data-astro-cid-qebz2yho> <i class="fas fa-align-left" data-astro-cid-qebz2yho></i> </button> <button id="copy-query" class="preview-btn" title="Copiar" data-astro-cid-qebz2yho> <i class="fas fa-copy" data-astro-cid-qebz2yho></i> </button> <button id="clear-query" class="preview-btn" title="Limpiar" data-astro-cid-qebz2yho> <i class="fas fa-eraser" data-astro-cid-qebz2yho></i> </button> </div> </div> <pre class="query-code" data-astro-cid-qebz2yho><code id="generated-query" data-astro-cid-qebz2yho>-- Selecciona una tabla para comenzar</code></pre> <div class="copy-feedback" id="sql-copy-feedback" data-astro-cid-qebz2yho> <i class="fas fa-check" data-astro-cid-qebz2yho></i> Query copiada
</div> </div> <!-- Schema Reference --> <div class="schema-reference" data-astro-cid-qebz2yho> <div class="schema-header" data-astro-cid-qebz2yho> <h4 data-astro-cid-qebz2yho><i class="fas fa-table" data-astro-cid-qebz2yho></i> Esquema de Tablas</h4> <button id="toggle-schema" class="toggle-btn" data-astro-cid-qebz2yho> <i class="fas fa-chevron-down" data-astro-cid-qebz2yho></i> </button> </div> <div class="schema-content" id="schema-content" data-astro-cid-qebz2yho> <div class="schema-table" data-astro-cid-qebz2yho> <h5 data-astro-cid-qebz2yho>usuarios</h5> <ul data-astro-cid-qebz2yho> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>id</span> <span class="col-type" data-astro-cid-qebz2yho>INT PK</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>nombre</span> <span class="col-type" data-astro-cid-qebz2yho>VARCHAR(100)</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>email</span> <span class="col-type" data-astro-cid-qebz2yho>VARCHAR(255)</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>edad</span> <span class="col-type" data-astro-cid-qebz2yho>INT</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>activo</span> <span class="col-type" data-astro-cid-qebz2yho>BOOLEAN</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>created_at</span> <span class="col-type" data-astro-cid-qebz2yho>DATETIME</span></li> </ul> </div> <div class="schema-table" data-astro-cid-qebz2yho> <h5 data-astro-cid-qebz2yho>productos</h5> <ul data-astro-cid-qebz2yho> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>id</span> <span class="col-type" data-astro-cid-qebz2yho>INT PK</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>nombre</span> <span class="col-type" data-astro-cid-qebz2yho>VARCHAR(200)</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>precio</span> <span class="col-type" data-astro-cid-qebz2yho>DECIMAL(10,2)</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>stock</span> <span class="col-type" data-astro-cid-qebz2yho>INT</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>categoria_id</span> <span class="col-type" data-astro-cid-qebz2yho>INT FK</span></li> </ul> </div> <div class="schema-table" data-astro-cid-qebz2yho> <h5 data-astro-cid-qebz2yho>pedidos</h5> <ul data-astro-cid-qebz2yho> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>id</span> <span class="col-type" data-astro-cid-qebz2yho>INT PK</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>usuario_id</span> <span class="col-type" data-astro-cid-qebz2yho>INT FK</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>fecha</span> <span class="col-type" data-astro-cid-qebz2yho>DATE</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>total</span> <span class="col-type" data-astro-cid-qebz2yho>DECIMAL(10,2)</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>estado</span> <span class="col-type" data-astro-cid-qebz2yho>VARCHAR(50)</span></li> </ul> </div> <div class="schema-table" data-astro-cid-qebz2yho> <h5 data-astro-cid-qebz2yho>categorias</h5> <ul data-astro-cid-qebz2yho> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>id</span> <span class="col-type" data-astro-cid-qebz2yho>INT PK</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>nombre</span> <span class="col-type" data-astro-cid-qebz2yho>VARCHAR(100)</span></li> <li data-astro-cid-qebz2yho><span class="col-name" data-astro-cid-qebz2yho>descripcion</span> <span class="col-type" data-astro-cid-qebz2yho>TEXT</span></li> </ul> </div> </div> </div> </div> </div> </section> <script type="module" src="/Analista-Programador-Computacional-DuocUC/assets/SQLQueryGeneratorSection.astro_astro_type_script_index_0_lang.CesMVOov.js"></script>  </section> <section id="er-diagram" data-astro-cid-trdnz7tl> <section id="er-generator" class="er-generator-section" data-astro-cid-t5jkcxdz> <div class="er-container" data-astro-cid-t5jkcxdz> <!-- Header --> <div class="er-header" data-aos="fade-up" data-astro-cid-t5jkcxdz> <div class="header-icon" data-astro-cid-t5jkcxdz> <i class="fas fa-project-diagram" data-astro-cid-t5jkcxdz></i> </div> <div class="header-content" data-astro-cid-t5jkcxdz> <h2 data-astro-cid-t5jkcxdz>Generador de Diagramas E-R</h2> <p data-astro-cid-t5jkcxdz>Aprende modelamiento de datos creando diagramas Entidad-Relación interactivos</p> </div> <div class="header-badges" data-astro-cid-t5jkcxdz> <span class="badge db" data-astro-cid-t5jkcxdz>Bases de Datos</span> <span class="badge chen" data-astro-cid-t5jkcxdz>Notación Chen</span> <span class="badge beginner" data-astro-cid-t5jkcxdz>Educativo</span> </div> </div> <!-- Learning Panel --> <div class="learning-panel" data-aos="fade-up" data-aos-delay="50" data-astro-cid-t5jkcxdz> <div class="concept-cards" data-astro-cid-t5jkcxdz> <div class="concept-card" data-astro-cid-t5jkcxdz> <div class="concept-icon entity-icon" data-astro-cid-t5jkcxdz> <i class="fas fa-square" data-astro-cid-t5jkcxdz></i> </div> <h4 data-astro-cid-t5jkcxdz>Entidad</h4> <p data-astro-cid-t5jkcxdz>Objeto del mundo real con existencia independiente (ej: Cliente, Producto)</p> </div> <div class="concept-card" data-astro-cid-t5jkcxdz> <div class="concept-icon attribute-icon" data-astro-cid-t5jkcxdz> <i class="fas fa-circle" data-astro-cid-t5jkcxdz></i> </div> <h4 data-astro-cid-t5jkcxdz>Atributo</h4> <p data-astro-cid-t5jkcxdz>Propiedad que describe una entidad (ej: nombre, fecha, precio)</p> </div> <div class="concept-card" data-astro-cid-t5jkcxdz> <div class="concept-icon relation-icon" data-astro-cid-t5jkcxdz> <i class="fas fa-diamond" data-astro-cid-t5jkcxdz></i> </div> <h4 data-astro-cid-t5jkcxdz>Relación</h4> <p data-astro-cid-t5jkcxdz>Asociación entre entidades (ej: Cliente REALIZA Pedido)</p> </div> <div class="concept-card" data-astro-cid-t5jkcxdz> <div class="concept-icon cardinality-icon" data-astro-cid-t5jkcxdz> <i class="fas fa-arrows-alt-h" data-astro-cid-t5jkcxdz></i> </div> <h4 data-astro-cid-t5jkcxdz>Cardinalidad</h4> <p data-astro-cid-t5jkcxdz>Cantidad de instancias en la relación (1:1, 1:N, N:M)</p> </div> </div> </div> <!-- Main Generator --> <div class="generator-layout" data-aos="fade-up" data-aos-delay="100" data-astro-cid-t5jkcxdz> <!-- Left Panel - Configuration --> <div class="config-panel" data-astro-cid-t5jkcxdz> <div class="panel-header" data-astro-cid-t5jkcxdz> <i class="fas fa-cog" data-astro-cid-t5jkcxdz></i> <span data-astro-cid-t5jkcxdz>Constructor E-R</span> </div> <!-- Entities Section --> <div class="config-section" data-astro-cid-t5jkcxdz> <h4 data-astro-cid-t5jkcxdz><i class="fas fa-square" data-astro-cid-t5jkcxdz></i> Entidades</h4> <div id="er-entities-list" class="entities-list" data-astro-cid-t5jkcxdz> <!-- Dynamic entities --> </div> <button type="button" class="btn-add" id="er-add-entity" data-astro-cid-t5jkcxdz> <i class="fas fa-plus" data-astro-cid-t5jkcxdz></i> Agregar Entidad
</button> </div> <!-- Relations Section --> <div class="config-section" data-astro-cid-t5jkcxdz> <h4 data-astro-cid-t5jkcxdz><i class="fas fa-link" data-astro-cid-t5jkcxdz></i> Relaciones</h4> <div id="er-relations-list" class="relations-list" data-astro-cid-t5jkcxdz> <!-- Dynamic relations --> </div> <button type="button" class="btn-add" id="er-add-relation" data-astro-cid-t5jkcxdz> <i class="fas fa-plus" data-astro-cid-t5jkcxdz></i> Agregar Relación
</button> </div> <!-- Quick Templates --> <div class="config-section" data-astro-cid-t5jkcxdz> <h4 data-astro-cid-t5jkcxdz><i class="fas fa-layer-group" data-astro-cid-t5jkcxdz></i> Ejemplos</h4> <div class="templates-mini" data-astro-cid-t5jkcxdz> <button type="button" class="template-mini-btn" data-template="ecommerce" data-astro-cid-t5jkcxdz> <i class="fas fa-shopping-cart" data-astro-cid-t5jkcxdz></i> E-Commerce
</button> <button type="button" class="template-mini-btn" data-template="universidad" data-astro-cid-t5jkcxdz> <i class="fas fa-graduation-cap" data-astro-cid-t5jkcxdz></i> Universidad
</button> <button type="button" class="template-mini-btn" data-template="biblioteca" data-astro-cid-t5jkcxdz> <i class="fas fa-book" data-astro-cid-t5jkcxdz></i> Biblioteca
</button> <button type="button" class="template-mini-btn" data-template="hospital" data-astro-cid-t5jkcxdz> <i class="fas fa-hospital" data-astro-cid-t5jkcxdz></i> Hospital
</button> </div> </div> <button type="button" class="btn-generate" id="er-generate-btn" data-astro-cid-t5jkcxdz> <i class="fas fa-magic" data-astro-cid-t5jkcxdz></i> Generar Diagrama
</button> </div> <!-- Right Panel - Diagram Canvas --> <div class="diagram-panel" data-astro-cid-t5jkcxdz> <div class="panel-header" data-astro-cid-t5jkcxdz> <div class="panel-title" data-astro-cid-t5jkcxdz> <i class="fas fa-project-diagram" data-astro-cid-t5jkcxdz></i> <span data-astro-cid-t5jkcxdz>Diagrama E-R</span> </div> <div class="panel-actions" data-astro-cid-t5jkcxdz> <button type="button" class="btn-icon" id="er-export-png" title="Exportar PNG" data-astro-cid-t5jkcxdz> <i class="fas fa-image" data-astro-cid-t5jkcxdz></i> </button> <button type="button" class="btn-icon" id="er-export-sql" title="Generar SQL" data-astro-cid-t5jkcxdz> <i class="fas fa-database" data-astro-cid-t5jkcxdz></i> </button> <button type="button" class="btn-icon" id="er-clear" title="Limpiar" data-astro-cid-t5jkcxdz> <i class="fas fa-trash" data-astro-cid-t5jkcxdz></i> </button> </div> </div> <div class="diagram-canvas" id="er-canvas" data-astro-cid-t5jkcxdz> <div class="canvas-placeholder" data-astro-cid-t5jkcxdz> <i class="fas fa-mouse-pointer" data-astro-cid-t5jkcxdz></i> <p data-astro-cid-t5jkcxdz>Agrega entidades y relaciones, luego presiona "Generar Diagrama"</p> </div> </div> </div> </div> <!-- SQL Output --> <div class="sql-output-section" data-aos="fade-up" data-aos-delay="200" id="er-sql-section" style="display: none;" data-astro-cid-t5jkcxdz> <div class="panel-header" data-astro-cid-t5jkcxdz> <i class="fas fa-database" data-astro-cid-t5jkcxdz></i> <span data-astro-cid-t5jkcxdz>Script SQL Generado</span> <button type="button" class="btn-icon" id="er-copy-sql" title="Copiar SQL" data-astro-cid-t5jkcxdz> <i class="fas fa-copy" data-astro-cid-t5jkcxdz></i> </button> </div> <div class="sql-output" data-astro-cid-t5jkcxdz> <pre data-astro-cid-t5jkcxdz><code id="er-sql-code" class="language-sql" data-astro-cid-t5jkcxdz></code></pre> </div> </div> <!-- Cardinality Guide --> <div class="cardinality-guide" data-aos="fade-up" data-aos-delay="300" data-astro-cid-t5jkcxdz> <h4 data-astro-cid-t5jkcxdz><i class="fas fa-info-circle" data-astro-cid-t5jkcxdz></i> Guía de Cardinalidades</h4> <div class="cardinality-examples" data-astro-cid-t5jkcxdz> <div class="cardinality-item" data-astro-cid-t5jkcxdz> <div class="cardinality-visual" data-astro-cid-t5jkcxdz> <span class="entity-box" data-astro-cid-t5jkcxdz>A</span> <span class="line" data-astro-cid-t5jkcxdz>─── 1:1 ───</span> <span class="entity-box" data-astro-cid-t5jkcxdz>B</span> </div> <div class="cardinality-desc" data-astro-cid-t5jkcxdz> <strong data-astro-cid-t5jkcxdz>Uno a Uno (1:1)</strong> <p data-astro-cid-t5jkcxdz>Cada instancia de A se relaciona con una única instancia de B y viceversa.</p> <span class="example" data-astro-cid-t5jkcxdz>Ej: Persona ↔ Pasaporte</span> </div> </div> <div class="cardinality-item" data-astro-cid-t5jkcxdz> <div class="cardinality-visual" data-astro-cid-t5jkcxdz> <span class="entity-box" data-astro-cid-t5jkcxdz>A</span> <span class="line" data-astro-cid-t5jkcxdz>─── 1:N ───</span> <span class="entity-box" data-astro-cid-t5jkcxdz>B</span> </div> <div class="cardinality-desc" data-astro-cid-t5jkcxdz> <strong data-astro-cid-t5jkcxdz>Uno a Muchos (1:N)</strong> <p data-astro-cid-t5jkcxdz>Cada instancia de A se relaciona con muchas instancias de B.</p> <span class="example" data-astro-cid-t5jkcxdz>Ej: Cliente → Pedidos</span> </div> </div> <div class="cardinality-item" data-astro-cid-t5jkcxdz> <div class="cardinality-visual" data-astro-cid-t5jkcxdz> <span class="entity-box" data-astro-cid-t5jkcxdz>A</span> <span class="line" data-astro-cid-t5jkcxdz>─── N:M ───</span> <span class="entity-box" data-astro-cid-t5jkcxdz>B</span> </div> <div class="cardinality-desc" data-astro-cid-t5jkcxdz> <strong data-astro-cid-t5jkcxdz>Muchos a Muchos (N:M)</strong> <p data-astro-cid-t5jkcxdz>Múltiples instancias de A se relacionan con múltiples de B.</p> <span class="example" data-astro-cid-t5jkcxdz>Ej: Estudiantes ↔ Cursos</span> </div> </div> </div> </div> </div> </section>  <script>
document.addEventListener('astro:page-load', function() {
    const entitiesList = document.getElementById('er-entities-list');
    const relationsList = document.getElementById('er-relations-list');
    const addEntityBtn = document.getElementById('er-add-entity');
    const addRelationBtn = document.getElementById('er-add-relation');
    const generateBtn = document.getElementById('er-generate-btn');
    const canvas = document.getElementById('er-canvas');
    const sqlSection = document.getElementById('er-sql-section');
    const sqlCode = document.getElementById('er-sql-code');
    const copySqlBtn = document.getElementById('er-copy-sql');
    const exportSqlBtn = document.getElementById('er-export-sql');
    const clearBtn = document.getElementById('er-clear');

    if (!generateBtn) return;

    const dataTypes = ['INT', 'VARCHAR(50)', 'VARCHAR(100)', 'VARCHAR(255)', 'TEXT', 'DATE', 'DATETIME', 'DECIMAL(10,2)', 'BOOLEAN', 'BIGINT'];
    let entityCounter = 0;
    let relationCounter = 0;

    function addEntity(name = '', attributes = []) {
        entityCounter++;
        const id = `entity-${entityCounter}`;
        const item = document.createElement('div');
        item.className = 'entity-item';
        item.dataset.entityId = id;
        item.innerHTML = `
            <div class="entity-header">
                <input type="text" class="entity-name" placeholder="NombreEntidad" value="${name}">
                <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
            </div>
            <div class="attributes-mini" data-entity="${id}"></div>
            <div class="add-attr-row">
                <input type="text" class="new-attr-name" placeholder="atributo">
                <select class="new-attr-type">
                    ${dataTypes.map(t => `<option value="${t}">${t}</option>`).join('')}
                </select>
                <label style="display:flex;align-items:center;gap:0.2rem;font-size:0.7rem;color:#3b82f6;">
                    <input type="checkbox" class="new-attr-pk"> PK
                </label>
                <button type="button" class="btn-add-attr"><i class="fas fa-plus"></i></button>
            </div>
        `;

        entitiesList.appendChild(item);

        const attrsContainer = item.querySelector('.attributes-mini');
        const nameInput = item.querySelector('.new-attr-name');
        const typeSelect = item.querySelector('.new-attr-type');
        const pkCheckbox = item.querySelector('.new-attr-pk');
        const addAttrBtn = item.querySelector('.btn-add-attr');

        // Add predefined attributes
        attributes.forEach(attr => addAttributeTag(attrsContainer, attr.name, attr.type, attr.pk));

        addAttrBtn.addEventListener('click', () => {
            const attrName = nameInput.value.trim();
            if (attrName) {
                addAttributeTag(attrsContainer, attrName, typeSelect.value, pkCheckbox.checked);
                nameInput.value = '';
                pkCheckbox.checked = false;
                updateRelationSelects();
            }
        });

        nameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addAttrBtn.click();
        });

        item.querySelector('.btn-remove').addEventListener('click', () => {
            item.remove();
            updateRelationSelects();
        });

        updateRelationSelects();
    }

    function addAttributeTag(container, name, type, isPK = false) {
        const tag = document.createElement('span');
        tag.className = `attr-tag ${isPK ? 'pk' : ''}`;
        tag.innerHTML = `
            ${isPK ? '<i class="fas fa-key"></i>' : ''}
            ${name}
            <button type="button"><i class="fas fa-times"></i></button>
        `;
        tag.dataset.attrName = name;
        tag.dataset.attrType = type;
        tag.dataset.attrPk = isPK;
        tag.querySelector('button').addEventListener('click', () => tag.remove());
        container.appendChild(tag);
    }

    function addRelation(entity1 = '', entity2 = '', name = '', cardinality = '1:N') {
        relationCounter++;
        const item = document.createElement('div');
        item.className = 'relation-item';
        item.innerHTML = `
            <div class="relation-header">
                <input type="text" class="relation-name" placeholder="RELACION" value="${name}">
                <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
            </div>
            <div class="relation-row">
                <select class="relation-entity1"></select>
                <select class="cardinality-select">
                    <option value="1:1" ${cardinality === '1:1' ? 'selected' : ''}>1:1</option>
                    <option value="1:N" ${cardinality === '1:N' ? 'selected' : ''}>1:N</option>
                    <option value="N:M" ${cardinality === 'N:M' ? 'selected' : ''}>N:M</option>
                </select>
                <select class="relation-entity2"></select>
            </div>
        `;

        relationsList.appendChild(item);
        item.querySelector('.btn-remove').addEventListener('click', () => item.remove());

        // Populate entity selects
        const select1 = item.querySelector('.relation-entity1');
        const select2 = item.querySelector('.relation-entity2');
        populateEntitySelect(select1, entity1);
        populateEntitySelect(select2, entity2);
    }

    function populateEntitySelect(select, selectedValue = '') {
        select.innerHTML = '<option value="">Seleccionar...</option>';
        entitiesList.querySelectorAll('.entity-item').forEach(entity => {
            const name = entity.querySelector('.entity-name').value || 'Sin nombre';
            const option = document.createElement('option');
            option.value = name;
            option.textContent = name;
            if (name === selectedValue) option.selected = true;
            select.appendChild(option);
        });
    }

    function updateRelationSelects() {
        relationsList.querySelectorAll('.relation-item').forEach(item => {
            const select1 = item.querySelector('.relation-entity1');
            const select2 = item.querySelector('.relation-entity2');
            const val1 = select1.value;
            const val2 = select2.value;
            populateEntitySelect(select1, val1);
            populateEntitySelect(select2, val2);
        });
    }

    addEntityBtn.addEventListener('click', () => addEntity());
    addRelationBtn.addEventListener('click', () => addRelation());

    // Generate Diagram
    generateBtn.addEventListener('click', () => {
        const entities = collectEntities();
        const relations = collectRelations();

        if (entities.length === 0) {
            alert('Agrega al menos una entidad');
            return;
        }

        renderDiagram(entities, relations);
        generateSQL(entities, relations);
    });

    function collectEntities() {
        const entities = [];
        entitiesList.querySelectorAll('.entity-item').forEach(item => {
            const name = item.querySelector('.entity-name').value.trim() || 'Entidad';
            const attrs = [];
            item.querySelectorAll('.attr-tag').forEach(tag => {
                attrs.push({
                    name: tag.dataset.attrName,
                    type: tag.dataset.attrType,
                    pk: tag.dataset.attrPk === 'true'
                });
            });
            entities.push({ name, attributes: attrs });
        });
        return entities;
    }

    function collectRelations() {
        const relations = [];
        relationsList.querySelectorAll('.relation-item').forEach(item => {
            const name = item.querySelector('.relation-name').value.trim() || 'RELACION';
            const entity1 = item.querySelector('.relation-entity1').value;
            const entity2 = item.querySelector('.relation-entity2').value;
            const cardinality = item.querySelector('.cardinality-select').value;
            if (entity1 && entity2) {
                relations.push({ name, entity1, entity2, cardinality });
            }
        });
        return relations;
    }

    function renderDiagram(entities, relations) {
        canvas.innerHTML = '';

        const diagram = document.createElement('div');
        diagram.className = 'er-diagram';

        // Entities row
        const entitiesRow = document.createElement('div');
        entitiesRow.className = 'entities-row';

        entities.forEach(entity => {
            const entityEl = document.createElement('div');
            entityEl.className = 'er-entity';
            entityEl.innerHTML = `
                <div class="er-entity-name">${entity.name}</div>
                <div class="er-entity-attrs">
                    ${entity.attributes.map(a => `
                        <div class="er-attr ${a.pk ? 'pk' : ''}">${a.name}: ${a.type}</div>
                    `).join('')}
                </div>
            `;
            entitiesRow.appendChild(entityEl);
        });

        diagram.appendChild(entitiesRow);

        // Relations
        if (relations.length > 0) {
            const relationsRow = document.createElement('div');
            relationsRow.className = 'relations-row';

            relations.forEach(rel => {
                const relEl = document.createElement('div');
                relEl.className = 'er-relation';
                const [card1, card2] = rel.cardinality.split(':');
                relEl.innerHTML = `
                    <span class="er-relation-entity">${rel.entity1}</span>
                    <span class="er-cardinality">${card1}</span>
                    <span class="er-relation-line">───</span>
                    <div class="er-relation-diamond"><span>${rel.name}</span></div>
                    <span class="er-relation-line">───</span>
                    <span class="er-cardinality">${card2}</span>
                    <span class="er-relation-entity">${rel.entity2}</span>
                `;
                relationsRow.appendChild(relEl);
            });

            diagram.appendChild(relationsRow);
        }

        canvas.appendChild(diagram);
    }

    function generateSQL(entities, relations) {
        let sql = '-- Script SQL generado desde Diagrama E-R\n';
        sql += '-- Generador DuocUC - Modelamiento de Datos\n\n';

        // Create tables for entities
        entities.forEach(entity => {
            const tableName = entity.name.toLowerCase().replace(/\s+/g, '_');
            sql += `CREATE TABLE ${tableName} (\n`;

            const cols = [];
            const pks = [];
            entity.attributes.forEach(attr => {
                const colName = attr.name.toLowerCase().replace(/\s+/g, '_');
                cols.push(`    ${colName} ${attr.type}${attr.pk ? ' NOT NULL' : ''}`);
                if (attr.pk) pks.push(colName);
            });

            sql += cols.join(',\n');
            if (pks.length > 0) {
                sql += `,\n    PRIMARY KEY (${pks.join(', ')})`;
            }
            sql += '\n);\n\n';
        });

        // Create junction tables for N:M relations
        relations.forEach(rel => {
            if (rel.cardinality === 'N:M') {
                const table1 = rel.entity1.toLowerCase().replace(/\s+/g, '_');
                const table2 = rel.entity2.toLowerCase().replace(/\s+/g, '_');
                const junctionTable = `${table1}_${table2}`;

                sql += `-- Tabla intermedia para relación N:M\n`;
                sql += `CREATE TABLE ${junctionTable} (\n`;
                sql += `    ${table1}_id INT NOT NULL,\n`;
                sql += `    ${table2}_id INT NOT NULL,\n`;
                sql += `    PRIMARY KEY (${table1}_id, ${table2}_id),\n`;
                sql += `    FOREIGN KEY (${table1}_id) REFERENCES ${table1}(id),\n`;
                sql += `    FOREIGN KEY (${table2}_id) REFERENCES ${table2}(id)\n`;
                sql += `);\n\n`;
            } else if (rel.cardinality === '1:N') {
                const table2 = rel.entity2.toLowerCase().replace(/\s+/g, '_');
                const table1 = rel.entity1.toLowerCase().replace(/\s+/g, '_');
                sql += `-- FK para relación 1:N (agregar a ${table2})\n`;
                sql += `-- ALTER TABLE ${table2} ADD COLUMN ${table1}_id INT;\n`;
                sql += `-- ALTER TABLE ${table2} ADD FOREIGN KEY (${table1}_id) REFERENCES ${table1}(id);\n\n`;
            }
        });

        sqlCode.textContent = sql;
        sqlSection.style.display = 'block';
    }

    // Copy SQL
    copySqlBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(sqlCode.textContent);
        copySqlBtn.innerHTML = '<i class="fas fa-check"></i>';
        setTimeout(() => copySqlBtn.innerHTML = '<i class="fas fa-copy"></i>', 2000);
    });

    exportSqlBtn.addEventListener('click', () => {
        const entities = collectEntities();
        const relations = collectRelations();
        generateSQL(entities, relations);
        sqlSection.style.display = 'block';
        sqlSection.scrollIntoView({ behavior: 'smooth' });
    });

    clearBtn.addEventListener('click', () => {
        entitiesList.innerHTML = '';
        relationsList.innerHTML = '';
        canvas.innerHTML = `
            <div class="canvas-placeholder">
                <i class="fas fa-mouse-pointer"></i>
                <p>Agrega entidades y relaciones, luego presiona "Generar Diagrama"</p>
            </div>
        `;
        sqlSection.style.display = 'none';
        entityCounter = 0;
        relationCounter = 0;
    });

    // Templates
    const templates = {
        ecommerce: {
            entities: [
                { name: 'Cliente', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'email', type: 'VARCHAR(100)', pk: false }
                ]},
                { name: 'Pedido', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'fecha', type: 'DATETIME', pk: false },
                    { name: 'total', type: 'DECIMAL(10,2)', pk: false }
                ]},
                { name: 'Producto', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'precio', type: 'DECIMAL(10,2)', pk: false }
                ]}
            ],
            relations: [
                { entity1: 'Cliente', entity2: 'Pedido', name: 'REALIZA', cardinality: '1:N' },
                { entity1: 'Pedido', entity2: 'Producto', name: 'CONTIENE', cardinality: 'N:M' }
            ]
        },
        universidad: {
            entities: [
                { name: 'Estudiante', attributes: [
                    { name: 'rut', type: 'VARCHAR(12)', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'carrera', type: 'VARCHAR(50)', pk: false }
                ]},
                { name: 'Curso', attributes: [
                    { name: 'codigo', type: 'VARCHAR(10)', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'creditos', type: 'INT', pk: false }
                ]},
                { name: 'Profesor', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'departamento', type: 'VARCHAR(50)', pk: false }
                ]}
            ],
            relations: [
                { entity1: 'Estudiante', entity2: 'Curso', name: 'INSCRIBE', cardinality: 'N:M' },
                { entity1: 'Profesor', entity2: 'Curso', name: 'IMPARTE', cardinality: '1:N' }
            ]
        },
        biblioteca: {
            entities: [
                { name: 'Libro', attributes: [
                    { name: 'isbn', type: 'VARCHAR(20)', pk: true },
                    { name: 'titulo', type: 'VARCHAR(200)', pk: false },
                    { name: 'anio', type: 'INT', pk: false }
                ]},
                { name: 'Autor', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'nacionalidad', type: 'VARCHAR(50)', pk: false }
                ]},
                { name: 'Socio', attributes: [
                    { name: 'numero', type: 'INT', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'email', type: 'VARCHAR(100)', pk: false }
                ]}
            ],
            relations: [
                { entity1: 'Libro', entity2: 'Autor', name: 'ESCRITO_POR', cardinality: 'N:M' },
                { entity1: 'Socio', entity2: 'Libro', name: 'PRESTA', cardinality: 'N:M' }
            ]
        },
        hospital: {
            entities: [
                { name: 'Paciente', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'fecha_nac', type: 'DATE', pk: false }
                ]},
                { name: 'Medico', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'nombre', type: 'VARCHAR(100)', pk: false },
                    { name: 'especialidad', type: 'VARCHAR(50)', pk: false }
                ]},
                { name: 'Cita', attributes: [
                    { name: 'id', type: 'INT', pk: true },
                    { name: 'fecha', type: 'DATETIME', pk: false },
                    { name: 'motivo', type: 'TEXT', pk: false }
                ]}
            ],
            relations: [
                { entity1: 'Paciente', entity2: 'Cita', name: 'TIENE', cardinality: '1:N' },
                { entity1: 'Medico', entity2: 'Cita', name: 'ATIENDE', cardinality: '1:N' }
            ]
        }
    };

    document.querySelectorAll('.template-mini-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const templateName = btn.dataset.template;
            const template = templates[templateName];
            if (!template) return;

            // Clear existing
            entitiesList.innerHTML = '';
            relationsList.innerHTML = '';
            entityCounter = 0;
            relationCounter = 0;

            // Add entities
            template.entities.forEach(e => addEntity(e.name, e.attributes));

            // Add relations after a small delay to ensure selects are populated
            setTimeout(() => {
                template.relations.forEach(r => addRelation(r.entity1, r.entity2, r.name, r.cardinality));
                generateBtn.click();
            }, 100);
        });
    });

    // Initialize with example
    addEntity('Cliente', [
        { name: 'id', type: 'INT', pk: true },
        { name: 'nombre', type: 'VARCHAR(100)', pk: false }
    ]);
    addEntity('Pedido', [
        { name: 'id', type: 'INT', pk: true },
        { name: 'fecha', type: 'DATE', pk: false }
    ]);
});
</script> </section> <section id="python-generator" data-astro-cid-trdnz7tl> <section id="python-generator" class="python-generator-section" data-astro-cid-hsdvckff> <div class="python-container" data-astro-cid-hsdvckff> <!-- Header --> <div class="python-header" data-aos="fade-up" data-astro-cid-hsdvckff> <div class="header-icon" data-astro-cid-hsdvckff> <i class="devicon-python-plain colored" data-astro-cid-hsdvckff></i> </div> <div class="header-content" data-astro-cid-hsdvckff> <h2 data-astro-cid-hsdvckff>Generador de Código Python</h2> <p data-astro-cid-hsdvckff>Crea clases, funciones y dataclasses siguiendo PEP 8 y mejores prácticas</p> </div> <div class="header-badges" data-astro-cid-hsdvckff> <span class="badge python" data-astro-cid-hsdvckff>Python 3.10+</span> <span class="badge pep" data-astro-cid-hsdvckff>PEP 8</span> <span class="badge typing" data-astro-cid-hsdvckff>Type Hints</span> </div> </div> <!-- Generator Layout --> <div class="generator-layout" data-aos="fade-up" data-aos-delay="100" data-astro-cid-hsdvckff> <!-- Config Panel --> <div class="config-panel" data-astro-cid-hsdvckff> <div class="panel-header" data-astro-cid-hsdvckff> <i class="fas fa-cog" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Configuración</span> </div> <!-- Code Type Selection --> <div class="config-section" data-astro-cid-hsdvckff> <h4 data-astro-cid-hsdvckff><i class="fas fa-code" data-astro-cid-hsdvckff></i> Tipo de Código</h4> <div class="code-type-selector" data-astro-cid-hsdvckff> <button type="button" class="type-btn active" data-type="class" data-astro-cid-hsdvckff> <i class="fas fa-cube" data-astro-cid-hsdvckff></i> Clase
</button> <button type="button" class="type-btn" data-type="dataclass" data-astro-cid-hsdvckff> <i class="fas fa-database" data-astro-cid-hsdvckff></i> Dataclass
</button> <button type="button" class="type-btn" data-type="function" data-astro-cid-hsdvckff> <i class="fas fa-code" data-astro-cid-hsdvckff></i> Función
</button> <button type="button" class="type-btn" data-type="async" data-astro-cid-hsdvckff> <i class="fas fa-bolt" data-astro-cid-hsdvckff></i> Async
</button> </div> </div> <!-- Class/Function Config --> <div class="config-section" id="py-class-config" data-astro-cid-hsdvckff> <h4 data-astro-cid-hsdvckff><i class="fas fa-cube" data-astro-cid-hsdvckff></i> Configuración de Clase</h4> <div class="form-group" data-astro-cid-hsdvckff> <label data-astro-cid-hsdvckff>Nombre de la Clase</label> <input type="text" id="py-class-name" placeholder="MiClase" value="Usuario" data-astro-cid-hsdvckff> </div> <div class="form-group" data-astro-cid-hsdvckff> <label data-astro-cid-hsdvckff>Hereda de (opcional)</label> <input type="text" id="py-base-class" placeholder="BaseClass, ABC" data-astro-cid-hsdvckff> </div> <div class="form-group" data-astro-cid-hsdvckff> <label data-astro-cid-hsdvckff>Docstring</label> <textarea id="py-docstring" rows="2" placeholder="Descripción de la clase" data-astro-cid-hsdvckff>Clase que representa un usuario del sistema.</textarea> </div> </div> <!-- Function Config (hidden by default) --> <div class="config-section" id="py-function-config" style="display: none;" data-astro-cid-hsdvckff> <h4 data-astro-cid-hsdvckff><i class="fas fa-code" data-astro-cid-hsdvckff></i> Configuración de Función</h4> <div class="form-group" data-astro-cid-hsdvckff> <label data-astro-cid-hsdvckff>Nombre de la Función</label> <input type="text" id="py-func-name" placeholder="mi_funcion" value="calcular_total" data-astro-cid-hsdvckff> </div> <div class="form-group" data-astro-cid-hsdvckff> <label data-astro-cid-hsdvckff>Tipo de Retorno</label> <select id="py-func-return" data-astro-cid-hsdvckff> <option value="None" data-astro-cid-hsdvckff>None</option> <option value="str" data-astro-cid-hsdvckff>str</option> <option value="int" data-astro-cid-hsdvckff>int</option> <option value="float" selected data-astro-cid-hsdvckff>float</option> <option value="bool" data-astro-cid-hsdvckff>bool</option> <option value="list" data-astro-cid-hsdvckff>list</option> <option value="dict" data-astro-cid-hsdvckff>dict</option> <option value="tuple" data-astro-cid-hsdvckff>tuple</option> <option value="Any" data-astro-cid-hsdvckff>Any</option> </select> </div> <div class="form-group" data-astro-cid-hsdvckff> <label data-astro-cid-hsdvckff>Docstring</label> <textarea id="py-func-docstring" rows="2" placeholder="Descripción de la función" data-astro-cid-hsdvckff>Calcula el total con impuestos aplicados.</textarea> </div> </div> <!-- Attributes/Parameters --> <div class="config-section" data-astro-cid-hsdvckff> <h4 id="py-attrs-title" data-astro-cid-hsdvckff><i class="fas fa-list" data-astro-cid-hsdvckff></i> Atributos</h4> <div id="py-attributes-list" class="attributes-list" data-astro-cid-hsdvckff> <!-- Dynamic attributes --> </div> <button type="button" class="btn-add" id="py-add-attribute" data-astro-cid-hsdvckff> <i class="fas fa-plus" data-astro-cid-hsdvckff></i> <span id="py-add-btn-text" data-astro-cid-hsdvckff>Agregar Atributo</span> </button> </div> <!-- Methods (for classes) --> <div class="config-section" id="py-methods-section" data-astro-cid-hsdvckff> <h4 data-astro-cid-hsdvckff><i class="fas fa-cogs" data-astro-cid-hsdvckff></i> Métodos</h4> <div id="py-methods-list" class="methods-list" data-astro-cid-hsdvckff> <!-- Dynamic methods --> </div> <button type="button" class="btn-add" id="py-add-method" data-astro-cid-hsdvckff> <i class="fas fa-plus" data-astro-cid-hsdvckff></i> Agregar Método
</button> </div> <!-- Options --> <div class="config-section" data-astro-cid-hsdvckff> <h4 data-astro-cid-hsdvckff><i class="fas fa-sliders-h" data-astro-cid-hsdvckff></i> Opciones</h4> <div class="options-grid" data-astro-cid-hsdvckff> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-type-hints" checked data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>Type Hints</span> </label> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-docstrings" checked data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>Docstrings</span> </label> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-init" checked data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>__init__</span> </label> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-repr" checked data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>__repr__</span> </label> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-str" data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>__str__</span> </label> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-eq" data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>__eq__</span> </label> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-properties" checked data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>Properties</span> </label> <label class="checkbox-option" data-astro-cid-hsdvckff> <input type="checkbox" id="py-validation" data-astro-cid-hsdvckff> <span data-astro-cid-hsdvckff>Validaciones</span> </label> </div> </div> <button type="button" class="btn-generate" id="py-generate-btn" data-astro-cid-hsdvckff> <i class="fas fa-magic" data-astro-cid-hsdvckff></i> Generar Código
</button> </div> <!-- Output Panel --> <div class="output-panel" data-astro-cid-hsdvckff> <div class="panel-header" data-astro-cid-hsdvckff> <div class="panel-title" data-astro-cid-hsdvckff> <i class="fas fa-file-code" data-astro-cid-hsdvckff></i> <span id="py-filename" data-astro-cid-hsdvckff>usuario.py</span> </div> <div class="panel-actions" data-astro-cid-hsdvckff> <button type="button" class="btn-icon" id="py-copy-btn" title="Copiar código" data-astro-cid-hsdvckff> <i class="fas fa-copy" data-astro-cid-hsdvckff></i> </button> <button type="button" class="btn-icon" id="py-download-btn" title="Descargar archivo" data-astro-cid-hsdvckff> <i class="fas fa-download" data-astro-cid-hsdvckff></i> </button> </div> </div> <div class="code-output" data-astro-cid-hsdvckff> <pre data-astro-cid-hsdvckff><code id="py-code-output" class="language-python" data-astro-cid-hsdvckff># Configura tu código y presiona "Generar Código"</code></pre> </div> <div class="output-footer" data-astro-cid-hsdvckff> <span class="line-count" data-astro-cid-hsdvckff><i class="fas fa-align-left" data-astro-cid-hsdvckff></i> <span id="py-line-count" data-astro-cid-hsdvckff>1</span> líneas</span> <span class="char-count" data-astro-cid-hsdvckff><i class="fas fa-text-width" data-astro-cid-hsdvckff></i> <span id="py-char-count" data-astro-cid-hsdvckff>0</span> caracteres</span> </div> </div> </div> <!-- Quick Templates --> <div class="templates-section" data-aos="fade-up" data-aos-delay="200" data-astro-cid-hsdvckff> <h4 data-astro-cid-hsdvckff><i class="fas fa-layer-group" data-astro-cid-hsdvckff></i> Plantillas Rápidas</h4> <div class="templates-grid" data-astro-cid-hsdvckff> <button type="button" class="template-btn" data-template="model" data-astro-cid-hsdvckff> <i class="fas fa-database" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Model</span> </button> <button type="button" class="template-btn" data-template="service" data-astro-cid-hsdvckff> <i class="fas fa-cogs" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Service</span> </button> <button type="button" class="template-btn" data-template="api" data-astro-cid-hsdvckff> <i class="fas fa-plug" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>FastAPI</span> </button> <button type="button" class="template-btn" data-template="singleton" data-astro-cid-hsdvckff> <i class="fas fa-dot-circle" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Singleton</span> </button> <button type="button" class="template-btn" data-template="factory" data-astro-cid-hsdvckff> <i class="fas fa-industry" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Factory</span> </button> <button type="button" class="template-btn" data-template="decorator" data-astro-cid-hsdvckff> <i class="fas fa-at" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Decorator</span> </button> <button type="button" class="template-btn" data-template="context" data-astro-cid-hsdvckff> <i class="fas fa-sign-in-alt" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Context Manager</span> </button> <button type="button" class="template-btn" data-template="pytest" data-astro-cid-hsdvckff> <i class="fas fa-vial" data-astro-cid-hsdvckff></i> <span data-astro-cid-hsdvckff>Pytest</span> </button> </div> </div> <!-- PEP 8 Tips --> <div class="tips-section" data-aos="fade-up" data-aos-delay="300" data-astro-cid-hsdvckff> <h4 data-astro-cid-hsdvckff><i class="fas fa-lightbulb" data-astro-cid-hsdvckff></i> Tips PEP 8</h4> <div class="tips-grid" data-astro-cid-hsdvckff> <div class="tip-card" data-astro-cid-hsdvckff> <span class="tip-icon" data-astro-cid-hsdvckff>📝</span> <strong data-astro-cid-hsdvckff>Nombres</strong> <p data-astro-cid-hsdvckff>Clases en CamelCase, funciones y variables en snake_case</p> </div> <div class="tip-card" data-astro-cid-hsdvckff> <span class="tip-icon" data-astro-cid-hsdvckff>📏</span> <strong data-astro-cid-hsdvckff>Líneas</strong> <p data-astro-cid-hsdvckff>Máximo 79 caracteres por línea (99 para código, 72 para docstrings)</p> </div> <div class="tip-card" data-astro-cid-hsdvckff> <span class="tip-icon" data-astro-cid-hsdvckff>🔤</span> <strong data-astro-cid-hsdvckff>Type Hints</strong> <p data-astro-cid-hsdvckff>Usar anotaciones de tipo para mejor documentación y autocompletado</p> </div> <div class="tip-card" data-astro-cid-hsdvckff> <span class="tip-icon" data-astro-cid-hsdvckff>📚</span> <strong data-astro-cid-hsdvckff>Docstrings</strong> <p data-astro-cid-hsdvckff>Triple comillas para documentar módulos, clases y funciones</p> </div> </div> </div> </div> </section>  <script>
document.addEventListener('astro:page-load', function() {
    const pythonTypes = ['str', 'int', 'float', 'bool', 'list', 'dict', 'tuple', 'set', 'Any', 'Optional[str]', 'Optional[int]', 'List[str]', 'List[int]', 'Dict[str, Any]'];

    // Elements
    const typeBtns = document.querySelectorAll('.type-btn');
    const classConfig = document.getElementById('py-class-config');
    const functionConfig = document.getElementById('py-function-config');
    const methodsSection = document.getElementById('py-methods-section');
    const attrsTitle = document.getElementById('py-attrs-title');
    const addBtnText = document.getElementById('py-add-btn-text');
    const attributesList = document.getElementById('py-attributes-list');
    const methodsList = document.getElementById('py-methods-list');
    const generateBtn = document.getElementById('py-generate-btn');
    const codeOutput = document.getElementById('py-code-output');
    const copyBtn = document.getElementById('py-copy-btn');
    const downloadBtn = document.getElementById('py-download-btn');
    const filenameEl = document.getElementById('py-filename');
    const lineCountEl = document.getElementById('py-line-count');
    const charCountEl = document.getElementById('py-char-count');

    if (!generateBtn) return;

    let currentType = 'class';

    // Type selector
    typeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            typeBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            currentType = btn.dataset.type;
            updateUI();
        });
    });

    function updateUI() {
        const isClass = currentType === 'class' || currentType === 'dataclass';
        const isFunction = currentType === 'function' || currentType === 'async';

        classConfig.style.display = isClass ? 'block' : 'none';
        functionConfig.style.display = isFunction ? 'block' : 'none';
        methodsSection.style.display = isClass ? 'block' : 'none';

        if (isFunction) {
            attrsTitle.innerHTML = '<i class="fas fa-list"></i> Parámetros';
            addBtnText.textContent = 'Agregar Parámetro';
        } else {
            attrsTitle.innerHTML = '<i class="fas fa-list"></i> Atributos';
            addBtnText.textContent = 'Agregar Atributo';
        }
    }

    // Add default attributes
    addAttribute('nombre', 'str', '');
    addAttribute('edad', 'int', '0');

    function addAttribute(name = '', type = 'str', defaultVal = '') {
        const item = document.createElement('div');
        item.className = 'attribute-item';
        item.innerHTML = `
            <input type="text" class="attr-name" placeholder="nombre" value="${name}" style="flex:2;">
            <select class="attr-type">
                ${pythonTypes.map(t => `<option value="${t}" ${t === type ? 'selected' : ''}>${t}</option>`).join('')}
            </select>
            <input type="text" class="attr-default" placeholder="default" value="${defaultVal}" style="flex:1;">
            <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
        `;
        attributesList.appendChild(item);
        item.querySelector('.btn-remove').addEventListener('click', () => item.remove());
    }

    function addMethod(name = '', returnType = 'None', params = '') {
        const item = document.createElement('div');
        item.className = 'method-item';
        item.innerHTML = `
            <input type="text" class="method-name" placeholder="metodo" value="${name}" style="flex:2;">
            <select class="method-return">
                ${['None', ...pythonTypes].map(t => `<option value="${t}" ${t === returnType ? 'selected' : ''}>${t}</option>`).join('')}
            </select>
            <input type="text" class="method-params" placeholder="params" value="${params}" style="flex:1.5;">
            <button type="button" class="btn-remove"><i class="fas fa-times"></i></button>
        `;
        methodsList.appendChild(item);
        item.querySelector('.btn-remove').addEventListener('click', () => item.remove());
    }

    document.getElementById('py-add-attribute').addEventListener('click', () => addAttribute());
    document.getElementById('py-add-method').addEventListener('click', () => addMethod());

    // Generate Code
    generateBtn.addEventListener('click', generatePythonCode);

    function generatePythonCode() {
        const options = {
            typeHints: document.getElementById('py-type-hints').checked,
            docstrings: document.getElementById('py-docstrings').checked,
            init: document.getElementById('py-init').checked,
            repr: document.getElementById('py-repr').checked,
            str: document.getElementById('py-str').checked,
            eq: document.getElementById('py-eq').checked,
            properties: document.getElementById('py-properties').checked,
            validation: document.getElementById('py-validation').checked
        };

        const attributes = collectAttributes();
        const methods = collectMethods();

        let code = '';

        if (currentType === 'class') {
            code = generateClass(attributes, methods, options);
        } else if (currentType === 'dataclass') {
            code = generateDataclass(attributes, options);
        } else if (currentType === 'function') {
            code = generateFunction(attributes, options);
        } else if (currentType === 'async') {
            code = generateAsyncFunction(attributes, options);
        }

        codeOutput.textContent = code;
        updateStats(code);
    }

    function collectAttributes() {
        const attrs = [];
        attributesList.querySelectorAll('.attribute-item').forEach(item => {
            const name = item.querySelector('.attr-name').value.trim();
            if (name) {
                attrs.push({
                    name: name,
                    type: item.querySelector('.attr-type').value,
                    default: item.querySelector('.attr-default').value.trim()
                });
            }
        });
        return attrs;
    }

    function collectMethods() {
        const meths = [];
        methodsList.querySelectorAll('.method-item').forEach(item => {
            const name = item.querySelector('.method-name').value.trim();
            if (name) {
                meths.push({
                    name: name,
                    returnType: item.querySelector('.method-return').value,
                    params: item.querySelector('.method-params').value.trim()
                });
            }
        });
        return meths;
    }

    function generateClass(attributes, methods, options) {
        const className = document.getElementById('py-class-name').value || 'MiClase';
        const baseClass = document.getElementById('py-base-class').value;
        const docstring = document.getElementById('py-docstring').value;

        let code = '"""Módulo que contiene la clase ' + className + '."""\n\n';

        // Imports
        const imports = new Set();
        if (options.typeHints) imports.add('from typing import Optional, List, Dict, Any');
        if (attributes.some(a => a.type.includes('Optional'))) imports.add('from typing import Optional');

        if (imports.size > 0) {
            code += Array.from(imports).join('\n') + '\n\n';
        }

        // Class declaration
        code += `class ${className}`;
        if (baseClass) code += `(${baseClass})`;
        code += ':\n';

        // Docstring
        if (options.docstrings && docstring) {
            code += `    """${docstring}"""\n\n`;
        }

        // __init__
        if (options.init && attributes.length > 0) {
            code += '    def __init__(self';
            attributes.forEach(attr => {
                if (options.typeHints) {
                    code += `, ${attr.name}: ${attr.type}`;
                } else {
                    code += `, ${attr.name}`;
                }
                if (attr.default) code += ` = ${formatDefault(attr.default, attr.type)}`;
            });
            code += ')';
            if (options.typeHints) code += ' -> None';
            code += ':\n';

            if (options.docstrings) {
                code += '        """Inicializa una nueva instancia.\n\n';
                code += '        Args:\n';
                attributes.forEach(a => code += `            ${a.name}: ${a.type}\n`);
                code += '        """\n';
            }

            if (options.validation) {
                attributes.filter(a => a.type === 'str').forEach(a => {
                    code += `        if not ${a.name}:\n`;
                    code += `            raise ValueError("${a.name} no puede estar vacío")\n`;
                });
            }

            attributes.forEach(attr => {
                code += `        self._${attr.name} = ${attr.name}\n`;
            });
            code += '\n';
        }

        // Properties
        if (options.properties && attributes.length > 0) {
            attributes.forEach(attr => {
                code += '    @property\n';
                code += `    def ${attr.name}(self)`;
                if (options.typeHints) code += ` -> ${attr.type}`;
                code += ':\n';
                if (options.docstrings) {
                    code += `        """Obtiene ${attr.name}."""\n`;
                }
                code += `        return self._${attr.name}\n\n`;

                code += `    @${attr.name}.setter\n`;
                code += `    def ${attr.name}(self, value`;
                if (options.typeHints) code += `: ${attr.type}`;
                code += ')';
                if (options.typeHints) code += ' -> None';
                code += ':\n';
                if (options.docstrings) {
                    code += `        """Establece ${attr.name}."""\n`;
                }
                if (options.validation && attr.type === 'str') {
                    code += '        if not value:\n';
                    code += `            raise ValueError("${attr.name} no puede estar vacío")\n`;
                }
                code += `        self._${attr.name} = value\n\n`;
            });
        }

        // Custom methods
        methods.forEach(method => {
            code += `    def ${method.name}(self`;
            if (method.params) code += `, ${method.params}`;
            code += ')';
            if (options.typeHints) code += ` -> ${method.returnType}`;
            code += ':\n';
            if (options.docstrings) {
                code += `        """${method.name} method."""\n`;
            }
            if (method.returnType !== 'None') {
                code += `        # TODO: Implementar lógica\n`;
                code += `        pass\n\n`;
            } else {
                code += '        # TODO: Implementar lógica\n';
                code += '        pass\n\n';
            }
        });

        // __repr__
        if (options.repr && attributes.length > 0) {
            code += '    def __repr__(self)';
            if (options.typeHints) code += ' -> str';
            code += ':\n';
            if (options.docstrings) {
                code += '        """Representación del objeto."""\n';
            }
            code += `        return f"${className}(`;
            code += attributes.map(a => `${a.name}={self._${a.name}!r}`).join(', ');
            code += ')"\n\n';
        }

        // __str__
        if (options.str && attributes.length > 0) {
            code += '    def __str__(self)';
            if (options.typeHints) code += ' -> str';
            code += ':\n';
            if (options.docstrings) {
                code += '        """Cadena legible del objeto."""\n';
            }
            code += `        return f"${className}: `;
            code += attributes.map(a => `${a.name}={self._${a.name}}`).join(', ');
            code += '"\n\n';
        }

        // __eq__
        if (options.eq && attributes.length > 0) {
            code += '    def __eq__(self, other';
            if (options.typeHints) code += ': object';
            code += ')';
            if (options.typeHints) code += ' -> bool';
            code += ':\n';
            if (options.docstrings) {
                code += '        """Compara igualdad con otro objeto."""\n';
            }
            code += `        if not isinstance(other, ${className}):\n`;
            code += '            return False\n';
            code += '        return (\n';
            code += attributes.map(a => `            self._${a.name} == other._${a.name}`).join(' and\n');
            code += '\n        )\n';
        }

        filenameEl.textContent = `${className.toLowerCase()}.py`;
        return code;
    }

    function generateDataclass(attributes, options) {
        const className = document.getElementById('py-class-name').value || 'MiDataclass';
        const docstring = document.getElementById('py-docstring').value;

        let code = '"""Módulo que contiene la dataclass ' + className + '."""\n\n';
        code += 'from dataclasses import dataclass, field\n';
        if (options.typeHints) {
            code += 'from typing import Optional, List, Dict, Any\n';
        }
        code += '\n\n';

        // Decorator
        let decoratorArgs = [];
        if (options.eq) decoratorArgs.push('eq=True');
        if (!options.repr) decoratorArgs.push('repr=False');

        code += '@dataclass';
        if (decoratorArgs.length > 0) {
            code += `(${decoratorArgs.join(', ')})`;
        }
        code += '\n';

        code += `class ${className}:\n`;

        if (options.docstrings && docstring) {
            code += `    """${docstring}"""\n\n`;
        }

        // Attributes
        attributes.forEach(attr => {
            code += `    ${attr.name}`;
            if (options.typeHints) code += `: ${attr.type}`;
            if (attr.default) {
                code += ` = ${formatDefault(attr.default, attr.type)}`;
            }
            code += '\n';
        });

        filenameEl.textContent = `${className.toLowerCase()}.py`;
        return code;
    }

    function generateFunction(attributes, options) {
        const funcName = document.getElementById('py-func-name').value || 'mi_funcion';
        const returnType = document.getElementById('py-func-return').value;
        const docstring = document.getElementById('py-func-docstring').value;

        let code = '"""Módulo con función ' + funcName + '."""\n\n';

        if (options.typeHints) {
            code += 'from typing import Optional, List, Dict, Any\n\n\n';
        }

        code += `def ${funcName}(`;
        code += attributes.map(a => {
            let param = a.name;
            if (options.typeHints) param += `: ${a.type}`;
            if (a.default) param += ` = ${formatDefault(a.default, a.type)}`;
            return param;
        }).join(', ');
        code += ')';
        if (options.typeHints) code += ` -> ${returnType}`;
        code += ':\n';

        if (options.docstrings && docstring) {
            code += `    """${docstring}\n\n`;
            if (attributes.length > 0) {
                code += '    Args:\n';
                attributes.forEach(a => code += `        ${a.name}: ${a.type}\n`);
                code += '\n';
            }
            code += `    Returns:\n        ${returnType}\n`;
            code += '    """\n';
        }

        code += '    # TODO: Implementar lógica\n';
        if (returnType !== 'None') {
            code += `    return ${getDefaultReturn(returnType)}\n`;
        } else {
            code += '    pass\n';
        }

        filenameEl.textContent = `${funcName}.py`;
        return code;
    }

    function generateAsyncFunction(attributes, options) {
        const funcName = document.getElementById('py-func-name').value || 'mi_funcion_async';
        const returnType = document.getElementById('py-func-return').value;
        const docstring = document.getElementById('py-func-docstring').value;

        let code = '"""Módulo con función asíncrona ' + funcName + '."""\n\n';
        code += 'import asyncio\n';

        if (options.typeHints) {
            code += 'from typing import Optional, List, Dict, Any\n';
        }
        code += '\n\n';

        code += `async def ${funcName}(`;
        code += attributes.map(a => {
            let param = a.name;
            if (options.typeHints) param += `: ${a.type}`;
            if (a.default) param += ` = ${formatDefault(a.default, a.type)}`;
            return param;
        }).join(', ');
        code += ')';
        if (options.typeHints) code += ` -> ${returnType}`;
        code += ':\n';

        if (options.docstrings && docstring) {
            code += `    """${docstring}\n\n`;
            if (attributes.length > 0) {
                code += '    Args:\n';
                attributes.forEach(a => code += `        ${a.name}: ${a.type}\n`);
                code += '\n';
            }
            code += `    Returns:\n        ${returnType}\n`;
            code += '    """\n';
        }

        code += '    # TODO: Implementar lógica asíncrona\n';
        code += '    await asyncio.sleep(0)  # placeholder\n';
        if (returnType !== 'None') {
            code += `    return ${getDefaultReturn(returnType)}\n`;
        }

        filenameEl.textContent = `${funcName}.py`;
        return code;
    }

    function formatDefault(val, type) {
        if (type === 'str' && !val.startsWith('"') && !val.startsWith("'")) {
            return `"${val}"`;
        }
        return val;
    }

    function getDefaultReturn(type) {
        const defaults = {
            'str': '""',
            'int': '0',
            'float': '0.0',
            'bool': 'False',
            'list': '[]',
            'dict': '{}',
            'tuple': '()',
            'set': 'set()',
            'Any': 'None'
        };
        return defaults[type] || 'None';
    }

    function updateStats(code) {
        lineCountEl.textContent = code.split('\n').length;
        charCountEl.textContent = code.length;
    }

    // Copy button
    copyBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(codeOutput.textContent);
        copyBtn.innerHTML = '<i class="fas fa-check"></i>';
        setTimeout(() => copyBtn.innerHTML = '<i class="fas fa-copy"></i>', 2000);
    });

    // Download button
    downloadBtn.addEventListener('click', () => {
        const blob = new Blob([codeOutput.textContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filenameEl.textContent;
        a.click();
        URL.revokeObjectURL(url);
    });

    // Templates
    const templates = {
        model: {
            type: 'dataclass',
            className: 'Usuario',
            docstring: 'Modelo de datos para usuario.',
            attributes: [
                { name: 'id', type: 'int', default: '' },
                { name: 'nombre', type: 'str', default: '' },
                { name: 'email', type: 'str', default: '' },
                { name: 'activo', type: 'bool', default: 'True' }
            ]
        },
        service: {
            type: 'class',
            className: 'UsuarioService',
            docstring: 'Servicio para gestión de usuarios.',
            attributes: [
                { name: 'repository', type: 'Any', default: '' }
            ],
            methods: [
                { name: 'get_by_id', returnType: 'Optional[Any]', params: 'id: int' },
                { name: 'create', returnType: 'Any', params: 'data: dict' },
                { name: 'update', returnType: 'Any', params: 'id: int, data: dict' },
                { name: 'delete', returnType: 'bool', params: 'id: int' }
            ]
        },
        api: {
            type: 'function',
            funcName: 'get_usuarios',
            returnType: 'List[dict]',
            docstring: 'Endpoint para obtener lista de usuarios.',
            attributes: [
                { name: 'skip', type: 'int', default: '0' },
                { name: 'limit', type: 'int', default: '100' }
            ]
        },
        singleton: {
            type: 'class',
            className: 'ConfigManager',
            docstring: 'Patrón Singleton para configuración.',
            attributes: [],
            methods: [
                { name: 'get_instance', returnType: 'ConfigManager', params: 'cls' },
                { name: 'get_config', returnType: 'Dict[str, Any]', params: 'key: str' }
            ]
        },
        factory: {
            type: 'class',
            className: 'VehiculoFactory',
            docstring: 'Factory para crear vehículos.',
            attributes: [],
            methods: [
                { name: 'crear_vehiculo', returnType: 'Any', params: 'tipo: str' }
            ]
        },
        decorator: {
            type: 'function',
            funcName: 'mi_decorator',
            returnType: 'Any',
            docstring: 'Decorator personalizado.',
            attributes: [
                { name: 'func', type: 'Any', default: '' }
            ]
        },
        context: {
            type: 'class',
            className: 'MiContextManager',
            docstring: 'Context manager personalizado.',
            attributes: [
                { name: 'resource', type: 'Any', default: '' }
            ],
            methods: [
                { name: '__enter__', returnType: 'Any', params: '' },
                { name: '__exit__', returnType: 'None', params: 'exc_type, exc_val, exc_tb' }
            ]
        },
        pytest: {
            type: 'function',
            funcName: 'test_ejemplo',
            returnType: 'None',
            docstring: 'Test unitario de ejemplo.',
            attributes: []
        }
    };

    document.querySelectorAll('.template-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const templateName = btn.dataset.template;
            const template = templates[templateName];
            if (!template) return;

            // Set type
            currentType = template.type;
            typeBtns.forEach(b => {
                b.classList.toggle('active', b.dataset.type === template.type);
            });
            updateUI();

            // Set values
            if (template.className) {
                document.getElementById('py-class-name').value = template.className;
            }
            if (template.funcName) {
                document.getElementById('py-func-name').value = template.funcName;
            }
            if (template.returnType) {
                document.getElementById('py-func-return').value = template.returnType;
            }
            if (template.docstring) {
                const docEl = template.type === 'function' || template.type === 'async'
                    ? document.getElementById('py-func-docstring')
                    : document.getElementById('py-docstring');
                if (docEl) docEl.value = template.docstring;
            }

            // Clear and add attributes
            attributesList.innerHTML = '';
            (template.attributes || []).forEach(a => addAttribute(a.name, a.type, a.default));

            // Clear and add methods
            methodsList.innerHTML = '';
            (template.methods || []).forEach(m => addMethod(m.name, m.returnType, m.params));

            generatePythonCode();
        });
    });

    // Initial generation
    generatePythonCode();
});
</script> </section> <section id="dashboard-builder" data-astro-cid-trdnz7tl> <section id="dashboard-builder" class="dashboard-builder-section" data-astro-cid-bx7az3qs> <div class="dashboard-container" data-astro-cid-bx7az3qs> <!-- Header --> <div class="dashboard-header" data-aos="fade-up" data-astro-cid-bx7az3qs> <div class="header-icon" data-astro-cid-bx7az3qs> <i class="fas fa-chart-line" data-astro-cid-bx7az3qs></i> </div> <div class="header-content" data-astro-cid-bx7az3qs> <h2 data-astro-cid-bx7az3qs>Constructor de Dashboards</h2> <p data-astro-cid-bx7az3qs>Diseña dashboards interactivos estilo Tableau/Power BI con drag & drop</p> </div> <div class="header-badges" data-astro-cid-bx7az3qs> <span class="badge bi" data-astro-cid-bx7az3qs>Business Intelligence</span> <span class="badge viz" data-astro-cid-bx7az3qs>Data Viz</span> <span class="badge drag" data-astro-cid-bx7az3qs>Drag & Drop</span> </div> </div> <!-- Builder Layout --> <div class="builder-layout" data-aos="fade-up" data-aos-delay="100" data-astro-cid-bx7az3qs> <!-- Left Sidebar - Components --> <div class="components-sidebar" data-astro-cid-bx7az3qs> <div class="sidebar-header" data-astro-cid-bx7az3qs> <i class="fas fa-shapes" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Componentes</span> </div> <!-- Charts --> <div class="component-group" data-astro-cid-bx7az3qs> <h5 data-astro-cid-bx7az3qs><i class="fas fa-chart-bar" data-astro-cid-bx7az3qs></i> Gráficos</h5> <div class="component-list" data-astro-cid-bx7az3qs> <div class="draggable-component" draggable="true" data-type="bar-chart" data-astro-cid-bx7az3qs> <i class="fas fa-chart-bar" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Barras</span> </div> <div class="draggable-component" draggable="true" data-type="line-chart" data-astro-cid-bx7az3qs> <i class="fas fa-chart-line" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Líneas</span> </div> <div class="draggable-component" draggable="true" data-type="pie-chart" data-astro-cid-bx7az3qs> <i class="fas fa-chart-pie" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Pastel</span> </div> <div class="draggable-component" draggable="true" data-type="area-chart" data-astro-cid-bx7az3qs> <i class="fas fa-chart-area" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Área</span> </div> </div> </div> <!-- KPIs --> <div class="component-group" data-astro-cid-bx7az3qs> <h5 data-astro-cid-bx7az3qs><i class="fas fa-tachometer-alt" data-astro-cid-bx7az3qs></i> KPIs</h5> <div class="component-list" data-astro-cid-bx7az3qs> <div class="draggable-component" draggable="true" data-type="kpi-card" data-astro-cid-bx7az3qs> <i class="fas fa-hashtag" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>KPI</span> </div> <div class="draggable-component" draggable="true" data-type="gauge" data-astro-cid-bx7az3qs> <i class="fas fa-tachometer-alt" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Gauge</span> </div> </div> </div> </div> <!-- Canvas Area --> <div class="canvas-area" data-astro-cid-bx7az3qs> <div class="canvas-toolbar" data-astro-cid-bx7az3qs> <span class="dashboard-title" contenteditable="true" data-astro-cid-bx7az3qs>Mi Dashboard</span> <div class="toolbar-right" data-astro-cid-bx7az3qs> <button class="toolbar-btn" id="db-clear-canvas" title="Limpiar" data-astro-cid-bx7az3qs> <i class="fas fa-trash" data-astro-cid-bx7az3qs></i> </button> <button class="toolbar-btn" id="db-export-code" title="Exportar código" data-astro-cid-bx7az3qs> <i class="fas fa-code" data-astro-cid-bx7az3qs></i> </button> </div> </div> <div class="dashboard-canvas" id="dashboard-canvas" data-astro-cid-bx7az3qs> <div class="canvas-grid" data-astro-cid-bx7az3qs> <!-- Components will be dropped here --> </div> <div class="drop-zone-placeholder" data-astro-cid-bx7az3qs> <i class="fas fa-mouse-pointer" data-astro-cid-bx7az3qs></i> <p data-astro-cid-bx7az3qs>Arrastra componentes aquí</p> </div> </div> </div> <!-- Right Sidebar - Properties --> <div class="properties-sidebar" data-astro-cid-bx7az3qs> <div class="sidebar-header" data-astro-cid-bx7az3qs> <i class="fas fa-sliders-h" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Propiedades</span> </div> <div id="properties-content" class="properties-content" data-astro-cid-bx7az3qs> <div class="no-selection" data-astro-cid-bx7az3qs> <i class="fas fa-hand-pointer" data-astro-cid-bx7az3qs></i> <p data-astro-cid-bx7az3qs>Selecciona un componente</p> </div> </div> <!-- Templates --> <div class="templates-section" data-astro-cid-bx7az3qs> <div class="sidebar-header" data-astro-cid-bx7az3qs> <i class="fas fa-magic" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Templates</span> </div> <div class="templates-list" data-astro-cid-bx7az3qs> <div class="template-card" data-template="sales" data-astro-cid-bx7az3qs> <i class="fas fa-shopping-cart" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Ventas</span> </div> <div class="template-card" data-template="marketing" data-astro-cid-bx7az3qs> <i class="fas fa-bullhorn" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Marketing</span> </div> <div class="template-card" data-template="finance" data-astro-cid-bx7az3qs> <i class="fas fa-dollar-sign" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Finanzas</span> </div> <div class="template-card" data-template="operations" data-astro-cid-bx7az3qs> <i class="fas fa-cogs" data-astro-cid-bx7az3qs></i> <span data-astro-cid-bx7az3qs>Operaciones</span> </div> </div> </div> </div> </div> </div> <!-- Code Export Modal --> <div id="code-modal" class="code-modal" data-astro-cid-bx7az3qs> <div class="modal-content" data-astro-cid-bx7az3qs> <div class="modal-header" data-astro-cid-bx7az3qs> <h3 data-astro-cid-bx7az3qs>Código del Dashboard</h3> <button id="close-modal" class="close-btn" data-astro-cid-bx7az3qs>&times;</button> </div> <div class="code-tabs" data-astro-cid-bx7az3qs> <button class="code-tab active" data-lang="python" data-astro-cid-bx7az3qs>Python</button> <button class="code-tab" data-lang="html" data-astro-cid-bx7az3qs>HTML</button> </div> <div class="code-output" data-astro-cid-bx7az3qs> <pre data-astro-cid-bx7az3qs><code id="generated-code" data-astro-cid-bx7az3qs></code></pre> </div> <button id="copy-generated-code" class="copy-btn" data-astro-cid-bx7az3qs> <i class="fas fa-copy" data-astro-cid-bx7az3qs></i> Copiar Código
</button> </div> </div> </section>  <script>
document.addEventListener('astro:page-load', function() {
    const canvas = document.getElementById('dashboard-canvas');
    const canvasGrid = canvas?.querySelector('.canvas-grid');
    const propertiesContent = document.getElementById('properties-content');
    const codeModal = document.getElementById('code-modal');
    const generatedCode = document.getElementById('generated-code');
    const exportBtn = document.getElementById('db-export-code');
    const closeModalBtn = document.getElementById('close-modal');
    const clearBtn = document.getElementById('db-clear-canvas');
    const copyCodeBtn = document.getElementById('copy-generated-code');
    const codeTabs = document.querySelectorAll('.code-tab');

    if (!canvas) return;

    let components = [];
    let selectedComponent = null;
    let componentCounter = 0;
    let currentCodeTab = 'python';

    // Drag and Drop
    document.querySelectorAll('.draggable-component').forEach(function(comp) {
        comp.addEventListener('dragstart', function(e) {
            e.dataTransfer.setData('componentType', comp.dataset.type);
        });
    });

    canvas.addEventListener('dragover', function(e) {
        e.preventDefault();
        canvas.classList.add('drag-over');
    });

    canvas.addEventListener('dragleave', function() {
        canvas.classList.remove('drag-over');
    });

    canvas.addEventListener('drop', function(e) {
        e.preventDefault();
        canvas.classList.remove('drag-over');
        var type = e.dataTransfer.getData('componentType');
        if (type) {
            addComponent(type);
        }
    });

    function addComponent(type, config) {
        config = config || {};
        componentCounter++;
        var id = 'comp-' + componentCounter;

        var component = {
            id: id,
            type: type,
            title: config.title || getDefaultTitle(type),
            gridColumn: config.gridColumn || 'span 4',
            gridRow: config.gridRow || 'span 2',
            color: config.color || '#8b5cf6',
            data: config.data || getDefaultData(type)
        };

        components.push(component);
        renderComponent(component);
        canvas.classList.add('has-components');
    }

    function getDefaultTitle(type) {
        var titles = {
            'bar-chart': 'Gráfico de Barras',
            'line-chart': 'Gráfico de Líneas',
            'pie-chart': 'Gráfico de Pastel',
            'area-chart': 'Gráfico de Área',
            'kpi-card': 'KPI',
            'gauge': 'Gauge'
        };
        return titles[type] || 'Componente';
    }

    function getDefaultData(type) {
        if (type === 'bar-chart' || type === 'line-chart' || type === 'area-chart') {
            return { labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May'], values: [65, 59, 80, 81, 56] };
        }
        if (type === 'pie-chart') {
            return { labels: ['A', 'B', 'C', 'D'], values: [35, 25, 25, 15] };
        }
        if (type === 'kpi-card') {
            return { value: '$125,430', label: 'Ventas Totales', change: '+12.5%' };
        }
        if (type === 'gauge') {
            return { value: 75, max: 100 };
        }
        return {};
    }

    function renderComponent(component) {
        var el = document.createElement('div');
        el.className = 'dropped-component';
        el.id = component.id;
        el.style.gridColumn = component.gridColumn;
        el.style.gridRow = component.gridRow;

        var headerHtml = '<div class="component-header">' +
            '<span class="component-title">' + component.title + '</span>' +
            '<div class="component-actions">' +
                '<button class="comp-btn delete-btn" title="Eliminar"><i class="fas fa-times"></i></button>' +
            '</div>' +
        '</div>';

        var previewHtml = '<div class="component-preview">' + getPreviewHtml(component) + '</div>';

        el.innerHTML = headerHtml + previewHtml;

        el.querySelector('.delete-btn').addEventListener('click', function(e) {
            e.stopPropagation();
            removeComponent(component.id);
        });

        el.addEventListener('click', function() {
            selectComponent(component);
        });

        canvasGrid.appendChild(el);
    }

    function getPreviewHtml(component) {
        if (component.type === 'bar-chart') {
            var bars = '';
            var values = component.data.values || [65, 59, 80, 81, 56];
            for (var i = 0; i < values.length; i++) {
                bars += '<div class="bar" style="height: ' + values[i] + '%"></div>';
            }
            return '<div class="chart-preview"><div class="bar-chart-preview">' + bars + '</div></div>';
        }
        if (component.type === 'kpi-card') {
            return '<div style="text-align: center;">' +
                '<div style="font-size: 2rem; font-weight: 700; color: #8b5cf6;">' + component.data.value + '</div>' +
                '<div style="color: #94a3b8; font-size: 0.85rem;">' + component.data.label + '</div>' +
                '<div style="color: #10b981; font-size: 0.8rem;">' + component.data.change + '</div>' +
            '</div>';
        }
        return '<div style="color: #64748b;"><i class="fas fa-chart-bar" style="font-size: 3rem; opacity: 0.3;"></i></div>';
    }

    function removeComponent(id) {
        components = components.filter(function(c) { return c.id !== id; });
        var el = document.getElementById(id);
        if (el) el.remove();
        if (components.length === 0) {
            canvas.classList.remove('has-components');
        }
    }

    function selectComponent(component) {
        document.querySelectorAll('.dropped-component').forEach(function(el) {
            el.classList.remove('selected');
        });
        document.getElementById(component.id).classList.add('selected');
        selectedComponent = component;
        showProperties(component);
    }

    function showProperties(component) {
        propertiesContent.innerHTML =
            '<div class="property-group">' +
                '<label>Título</label>' +
                '<input type="text" id="prop-title" value="' + component.title + '">' +
            '</div>' +
            '<div class="property-group">' +
                '<label>Ancho (columnas)</label>' +
                '<input type="number" id="prop-cols" min="1" max="12" value="' + parseInt(component.gridColumn.replace('span ', '')) + '">' +
            '</div>';

        document.getElementById('prop-title').addEventListener('change', function(e) {
            component.title = e.target.value;
            document.querySelector('#' + component.id + ' .component-title').textContent = e.target.value;
        });

        document.getElementById('prop-cols').addEventListener('change', function(e) {
            component.gridColumn = 'span ' + e.target.value;
            document.getElementById(component.id).style.gridColumn = component.gridColumn;
        });
    }

    // Clear canvas
    clearBtn?.addEventListener('click', function() {
        canvasGrid.innerHTML = '';
        components = [];
        componentCounter = 0;
        canvas.classList.remove('has-components');
        propertiesContent.innerHTML = '<div class="no-selection"><i class="fas fa-hand-pointer"></i><p>Selecciona un componente</p></div>';
    });

    // Export code
    exportBtn?.addEventListener('click', function() {
        generatedCode.textContent = generatePythonCode();
        codeModal.classList.add('active');
    });

    closeModalBtn?.addEventListener('click', function() {
        codeModal.classList.remove('active');
    });

    codeTabs.forEach(function(tab) {
        tab.addEventListener('click', function() {
            codeTabs.forEach(function(t) { t.classList.remove('active'); });
            tab.classList.add('active');
            currentCodeTab = tab.dataset.lang;
            generatedCode.textContent = currentCodeTab === 'python' ? generatePythonCode() : generateHTMLCode();
        });
    });

    function generatePythonCode() {
        var code = '# Dashboard generado con DashboardBuilder\n';
        code += 'import plotly.express as px\n';
        code += 'import pandas as pd\n';
        code += 'from dash import Dash, html, dcc\n\n';
        code += 'app = Dash(__name__)\n\n';
        code += 'app.layout = html.Div([\n';

        components.forEach(function(comp, i) {
            if (comp.type === 'bar-chart') {
                code += '    # ' + comp.title + '\n';
                code += '    dcc.Graph(\n';
                code += '        figure=px.bar(\n';
                code += '            x=' + JSON.stringify(comp.data.labels) + ',\n';
                code += '            y=' + JSON.stringify(comp.data.values) + ',\n';
                code += '            title="' + comp.title + '"\n';
                code += '        )\n';
                code += '    ),\n';
            } else if (comp.type === 'kpi-card') {
                code += '    html.Div([\n';
                code += '        html.H2("' + comp.data.value + '"),\n';
                code += '        html.P("' + comp.data.label + '")\n';
                code += '    ]),\n';
            }
        });

        code += '])\n\n';
        code += 'if __name__ == "__main__":\n';
        code += '    app.run_server(debug=True)\n';

        return code;
    }

    function generateHTMLCode() {
        var code = '<!DOCTYPE html>\n<html>\n<head>\n';
        code += '    <title>Mi Dashboard</title>\n';
        code += '    <script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>\n';
        code += '    <style>\n';
        code += '        .dashboard { display: grid; grid-template-columns: repeat(12, 1fr); gap: 1rem; padding: 2rem; }\n';
        code += '        .card { background: #1e293b; border-radius: 12px; padding: 1rem; }\n';
        code += '    </style>\n';
        code += '</head>\n<body>\n';
        code += '    <div class="dashboard">\n';

        components.forEach(function(comp, i) {
            code += '        <div class="card" style="grid-column: ' + comp.gridColumn + '; grid-row: ' + comp.gridRow + ';">\n';
            code += '            <h3>' + comp.title + '</h3>\n';
            if (comp.type.indexOf('chart') !== -1) {
                code += '            <canvas id="chart' + i + '"></canvas>\n';
            } else if (comp.type === 'kpi-card') {
                code += '            <div class="kpi">\n';
                code += '                <span class="value">' + comp.data.value + '</span>\n';
                code += '                <span class="label">' + comp.data.label + '</span>\n';
                code += '            </div>\n';
            }
            code += '        </div>\n';
        });

        code += '    </div>\n';
        code += '</body>\n</html>';

        return code;
    }

    copyCodeBtn?.addEventListener('click', function() {
        navigator.clipboard.writeText(generatedCode.textContent);
        copyCodeBtn.innerHTML = '<i class="fas fa-check"></i> Copiado!';
        setTimeout(function() {
            copyCodeBtn.innerHTML = '<i class="fas fa-copy"></i> Copiar Código';
        }, 2000);
    });

    // Templates
    var templates = {
        sales: [
            { type: 'kpi-card', gridColumn: 'span 3', gridRow: 'span 1', title: 'Ventas Totales', data: { value: '$125,430', label: 'Este mes', change: '+12.5%' } },
            { type: 'kpi-card', gridColumn: 'span 3', gridRow: 'span 1', title: 'Clientes', data: { value: '1,234', label: 'Activos', change: '+5.2%' } },
            { type: 'bar-chart', gridColumn: 'span 6', gridRow: 'span 2', title: 'Ventas por Mes' }
        ],
        marketing: [
            { type: 'line-chart', gridColumn: 'span 6', gridRow: 'span 2', title: 'Tráfico Web' },
            { type: 'kpi-card', gridColumn: 'span 6', gridRow: 'span 1', title: 'Conversiones', data: { value: '2.4%', label: 'Tasa', change: '+0.5%' } }
        ],
        finance: [
            { type: 'gauge', gridColumn: 'span 4', gridRow: 'span 2', title: 'Meta de Ingresos' },
            { type: 'bar-chart', gridColumn: 'span 8', gridRow: 'span 2', title: 'Ingresos vs Gastos' }
        ],
        operations: [
            { type: 'area-chart', gridColumn: 'span 12', gridRow: 'span 2', title: 'Producción Diaria' },
            { type: 'kpi-card', gridColumn: 'span 4', gridRow: 'span 1', title: 'Unidades', data: { value: '15,432', label: 'Producidas', change: '+3%' } }
        ]
    };

    document.querySelectorAll('.template-card').forEach(function(card) {
        card.addEventListener('click', function() {
            var templateName = card.dataset.template;
            var template = templates[templateName];
            if (!template) return;

            // Clear canvas
            canvasGrid.innerHTML = '';
            components = [];
            componentCounter = 0;

            // Add template components
            template.forEach(function(config) {
                addComponent(config.type, config);
            });
        });
    });
});
</script> </section> <section id="streamlit-generator" data-astro-cid-trdnz7tl> <section id="streamlit-generator" class="streamlit-generator-section" data-astro-cid-j5tve7gu> <div class="streamlit-header" data-astro-cid-j5tve7gu> <div class="header-icon" data-astro-cid-j5tve7gu> <img src="https://cdn.simpleicons.org/streamlit/FF4B4B" alt="Streamlit" width="48" height="48" data-astro-cid-j5tve7gu> </div> <div class="header-content" data-astro-cid-j5tve7gu> <h2 data-astro-cid-j5tve7gu>Streamlit App Generator</h2> <p data-astro-cid-j5tve7gu>Crea aplicaciones de datos interactivas con Python</p> </div> <div class="header-badges" data-astro-cid-j5tve7gu> <span class="badge python" data-astro-cid-j5tve7gu>Python 3.8+</span> <span class="badge streamlit" data-astro-cid-j5tve7gu>Streamlit 1.x</span> <span class="badge hot" data-astro-cid-j5tve7gu>Data Apps</span> </div> </div> <!-- Conceptos de Streamlit --> <div class="concept-cards" data-astro-cid-j5tve7gu> <div class="concept-card" data-astro-cid-j5tve7gu> <i class="fas fa-play-circle" data-astro-cid-j5tve7gu></i> <h4 data-astro-cid-j5tve7gu>Run Script</h4> <p data-astro-cid-j5tve7gu>Streamlit ejecuta tu script de arriba a abajo cada vez que hay una interacción</p> </div> <div class="concept-card" data-astro-cid-j5tve7gu> <i class="fas fa-sync-alt" data-astro-cid-j5tve7gu></i> <h4 data-astro-cid-j5tve7gu>Reactive</h4> <p data-astro-cid-j5tve7gu>Los widgets actualizan automáticamente el estado y re-ejecutan el app</p> </div> <div class="concept-card" data-astro-cid-j5tve7gu> <i class="fas fa-database" data-astro-cid-j5tve7gu></i> <h4 data-astro-cid-j5tve7gu>Cache</h4> <p data-astro-cid-j5tve7gu>@st.cache_data y @st.cache_resource optimizan rendimiento</p> </div> <div class="concept-card" data-astro-cid-j5tve7gu> <i class="fas fa-columns" data-astro-cid-j5tve7gu></i> <h4 data-astro-cid-j5tve7gu>Layouts</h4> <p data-astro-cid-j5tve7gu>Columnas, tabs, sidebar y expanders para organizar contenido</p> </div> </div> <div class="streamlit-builder" data-astro-cid-j5tve7gu> <!-- Panel de Componentes --> <div class="components-panel" data-astro-cid-j5tve7gu> <h3 data-astro-cid-j5tve7gu><i class="fas fa-puzzle-piece" data-astro-cid-j5tve7gu></i> Componentes</h3> <div class="component-category" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-heading" data-astro-cid-j5tve7gu></i> Texto</h4> <div class="component-items" data-astro-cid-j5tve7gu> <button class="component-btn" data-type="title" title="st.title()" data-astro-cid-j5tve7gu> <i class="fas fa-heading" data-astro-cid-j5tve7gu></i> Title
</button> <button class="component-btn" data-type="header" title="st.header()" data-astro-cid-j5tve7gu> <i class="fas fa-h-square" data-astro-cid-j5tve7gu></i> Header
</button> <button class="component-btn" data-type="subheader" title="st.subheader()" data-astro-cid-j5tve7gu> <i class="fas fa-text-height" data-astro-cid-j5tve7gu></i> Subheader
</button> <button class="component-btn" data-type="text" title="st.text()" data-astro-cid-j5tve7gu> <i class="fas fa-font" data-astro-cid-j5tve7gu></i> Text
</button> <button class="component-btn" data-type="markdown" title="st.markdown()" data-astro-cid-j5tve7gu> <i class="fab fa-markdown" data-astro-cid-j5tve7gu></i> Markdown
</button> <button class="component-btn" data-type="code" title="st.code()" data-astro-cid-j5tve7gu> <i class="fas fa-code" data-astro-cid-j5tve7gu></i> Code
</button> <button class="component-btn" data-type="latex" title="st.latex()" data-astro-cid-j5tve7gu> <i class="fas fa-square-root-alt" data-astro-cid-j5tve7gu></i> LaTeX
</button> </div> </div> <div class="component-category" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-sliders-h" data-astro-cid-j5tve7gu></i> Widgets</h4> <div class="component-items" data-astro-cid-j5tve7gu> <button class="component-btn" data-type="button" title="st.button()" data-astro-cid-j5tve7gu> <i class="fas fa-square" data-astro-cid-j5tve7gu></i> Button
</button> <button class="component-btn" data-type="checkbox" title="st.checkbox()" data-astro-cid-j5tve7gu> <i class="fas fa-check-square" data-astro-cid-j5tve7gu></i> Checkbox
</button> <button class="component-btn" data-type="radio" title="st.radio()" data-astro-cid-j5tve7gu> <i class="fas fa-dot-circle" data-astro-cid-j5tve7gu></i> Radio
</button> <button class="component-btn" data-type="selectbox" title="st.selectbox()" data-astro-cid-j5tve7gu> <i class="fas fa-caret-square-down" data-astro-cid-j5tve7gu></i> Selectbox
</button> <button class="component-btn" data-type="multiselect" title="st.multiselect()" data-astro-cid-j5tve7gu> <i class="fas fa-list-ul" data-astro-cid-j5tve7gu></i> Multiselect
</button> <button class="component-btn" data-type="slider" title="st.slider()" data-astro-cid-j5tve7gu> <i class="fas fa-sliders-h" data-astro-cid-j5tve7gu></i> Slider
</button> <button class="component-btn" data-type="text_input" title="st.text_input()" data-astro-cid-j5tve7gu> <i class="fas fa-i-cursor" data-astro-cid-j5tve7gu></i> Text Input
</button> <button class="component-btn" data-type="number_input" title="st.number_input()" data-astro-cid-j5tve7gu> <i class="fas fa-hashtag" data-astro-cid-j5tve7gu></i> Number Input
</button> <button class="component-btn" data-type="text_area" title="st.text_area()" data-astro-cid-j5tve7gu> <i class="fas fa-align-left" data-astro-cid-j5tve7gu></i> Text Area
</button> <button class="component-btn" data-type="date_input" title="st.date_input()" data-astro-cid-j5tve7gu> <i class="fas fa-calendar" data-astro-cid-j5tve7gu></i> Date Input
</button> <button class="component-btn" data-type="file_uploader" title="st.file_uploader()" data-astro-cid-j5tve7gu> <i class="fas fa-upload" data-astro-cid-j5tve7gu></i> File Uploader
</button> <button class="component-btn" data-type="color_picker" title="st.color_picker()" data-astro-cid-j5tve7gu> <i class="fas fa-palette" data-astro-cid-j5tve7gu></i> Color Picker
</button> </div> </div> <div class="component-category" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-chart-bar" data-astro-cid-j5tve7gu></i> Data & Charts</h4> <div class="component-items" data-astro-cid-j5tve7gu> <button class="component-btn" data-type="dataframe" title="st.dataframe()" data-astro-cid-j5tve7gu> <i class="fas fa-table" data-astro-cid-j5tve7gu></i> DataFrame
</button> <button class="component-btn" data-type="data_editor" title="st.data_editor()" data-astro-cid-j5tve7gu> <i class="fas fa-edit" data-astro-cid-j5tve7gu></i> Data Editor
</button> <button class="component-btn" data-type="metric" title="st.metric()" data-astro-cid-j5tve7gu> <i class="fas fa-tachometer-alt" data-astro-cid-j5tve7gu></i> Metric
</button> <button class="component-btn" data-type="line_chart" title="st.line_chart()" data-astro-cid-j5tve7gu> <i class="fas fa-chart-line" data-astro-cid-j5tve7gu></i> Line Chart
</button> <button class="component-btn" data-type="bar_chart" title="st.bar_chart()" data-astro-cid-j5tve7gu> <i class="fas fa-chart-bar" data-astro-cid-j5tve7gu></i> Bar Chart
</button> <button class="component-btn" data-type="area_chart" title="st.area_chart()" data-astro-cid-j5tve7gu> <i class="fas fa-chart-area" data-astro-cid-j5tve7gu></i> Area Chart
</button> <button class="component-btn" data-type="scatter_chart" title="st.scatter_chart()" data-astro-cid-j5tve7gu> <i class="fas fa-braille" data-astro-cid-j5tve7gu></i> Scatter Chart
</button> <button class="component-btn" data-type="map" title="st.map()" data-astro-cid-j5tve7gu> <i class="fas fa-map-marked-alt" data-astro-cid-j5tve7gu></i> Map
</button> <button class="component-btn" data-type="plotly" title="st.plotly_chart()" data-astro-cid-j5tve7gu> <i class="fas fa-chart-pie" data-astro-cid-j5tve7gu></i> Plotly Chart
</button> </div> </div> <div class="component-category" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-th-large" data-astro-cid-j5tve7gu></i> Layout</h4> <div class="component-items" data-astro-cid-j5tve7gu> <button class="component-btn" data-type="columns" title="st.columns()" data-astro-cid-j5tve7gu> <i class="fas fa-columns" data-astro-cid-j5tve7gu></i> Columns
</button> <button class="component-btn" data-type="tabs" title="st.tabs()" data-astro-cid-j5tve7gu> <i class="fas fa-folder" data-astro-cid-j5tve7gu></i> Tabs
</button> <button class="component-btn" data-type="expander" title="st.expander()" data-astro-cid-j5tve7gu> <i class="fas fa-expand-alt" data-astro-cid-j5tve7gu></i> Expander
</button> <button class="component-btn" data-type="container" title="st.container()" data-astro-cid-j5tve7gu> <i class="fas fa-box" data-astro-cid-j5tve7gu></i> Container
</button> <button class="component-btn" data-type="sidebar" title="st.sidebar" data-astro-cid-j5tve7gu> <i class="fas fa-bars" data-astro-cid-j5tve7gu></i> Sidebar
</button> </div> </div> <div class="component-category" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-bell" data-astro-cid-j5tve7gu></i> Feedback</h4> <div class="component-items" data-astro-cid-j5tve7gu> <button class="component-btn" data-type="success" title="st.success()" data-astro-cid-j5tve7gu> <i class="fas fa-check-circle" data-astro-cid-j5tve7gu></i> Success
</button> <button class="component-btn" data-type="info" title="st.info()" data-astro-cid-j5tve7gu> <i class="fas fa-info-circle" data-astro-cid-j5tve7gu></i> Info
</button> <button class="component-btn" data-type="warning" title="st.warning()" data-astro-cid-j5tve7gu> <i class="fas fa-exclamation-triangle" data-astro-cid-j5tve7gu></i> Warning
</button> <button class="component-btn" data-type="error" title="st.error()" data-astro-cid-j5tve7gu> <i class="fas fa-times-circle" data-astro-cid-j5tve7gu></i> Error
</button> <button class="component-btn" data-type="spinner" title="st.spinner()" data-astro-cid-j5tve7gu> <i class="fas fa-spinner" data-astro-cid-j5tve7gu></i> Spinner
</button> <button class="component-btn" data-type="progress" title="st.progress()" data-astro-cid-j5tve7gu> <i class="fas fa-tasks" data-astro-cid-j5tve7gu></i> Progress
</button> <button class="component-btn" data-type="balloons" title="st.balloons()" data-astro-cid-j5tve7gu> <i class="fas fa-birthday-cake" data-astro-cid-j5tve7gu></i> Balloons
</button> </div> </div> </div> <!-- Canvas del App --> <div class="app-canvas-container" data-astro-cid-j5tve7gu> <div class="canvas-toolbar" data-astro-cid-j5tve7gu> <h3 data-astro-cid-j5tve7gu><i class="fas fa-mobile-alt" data-astro-cid-j5tve7gu></i> App Preview</h3> <div class="toolbar-actions" data-astro-cid-j5tve7gu> <button id="clear-app-btn" class="btn-action" title="Limpiar app" data-astro-cid-j5tve7gu> <i class="fas fa-trash" data-astro-cid-j5tve7gu></i> </button> <button id="preview-app-btn" class="btn-action" title="Vista previa" data-astro-cid-j5tve7gu> <i class="fas fa-eye" data-astro-cid-j5tve7gu></i> </button> </div> </div> <div class="app-canvas" id="app-canvas" data-astro-cid-j5tve7gu> <div class="canvas-placeholder" data-astro-cid-j5tve7gu> <i class="fas fa-plus-circle" data-astro-cid-j5tve7gu></i> <p data-astro-cid-j5tve7gu>Haz clic en los componentes para agregarlos</p> <p class="hint" data-astro-cid-j5tve7gu>O usa una plantilla para comenzar rápido</p> </div> </div> </div> <!-- Panel de Propiedades --> <div class="properties-panel" data-astro-cid-j5tve7gu> <h3 data-astro-cid-j5tve7gu><i class="fas fa-cog" data-astro-cid-j5tve7gu></i> Propiedades</h3> <div id="properties-content" class="properties-content" data-astro-cid-j5tve7gu> <div class="no-selection" data-astro-cid-j5tve7gu> <i class="fas fa-mouse-pointer" data-astro-cid-j5tve7gu></i> <p data-astro-cid-j5tve7gu>Selecciona un componente para editar sus propiedades</p> </div> </div> </div> </div> <!-- Templates --> <div class="templates-section" data-astro-cid-j5tve7gu> <h3 data-astro-cid-j5tve7gu><i class="fas fa-magic" data-astro-cid-j5tve7gu></i> Plantillas Rápidas</h3> <div class="templates-grid" data-astro-cid-j5tve7gu> <button class="template-card" data-template="dashboard" data-astro-cid-j5tve7gu> <div class="template-icon" data-astro-cid-j5tve7gu> <i class="fas fa-tachometer-alt" data-astro-cid-j5tve7gu></i> </div> <h4 data-astro-cid-j5tve7gu>Dashboard Analytics</h4> <p data-astro-cid-j5tve7gu>Métricas, gráficos y filtros</p> </button> <button class="template-card" data-template="data-explorer" data-astro-cid-j5tve7gu> <div class="template-icon" data-astro-cid-j5tve7gu> <i class="fas fa-search" data-astro-cid-j5tve7gu></i> </div> <h4 data-astro-cid-j5tve7gu>Data Explorer</h4> <p data-astro-cid-j5tve7gu>Exploración de datasets</p> </button> <button class="template-card" data-template="ml-app" data-astro-cid-j5tve7gu> <div class="template-icon" data-astro-cid-j5tve7gu> <i class="fas fa-brain" data-astro-cid-j5tve7gu></i> </div> <h4 data-astro-cid-j5tve7gu>ML Predictor</h4> <p data-astro-cid-j5tve7gu>App de Machine Learning</p> </button> <button class="template-card" data-template="form-app" data-astro-cid-j5tve7gu> <div class="template-icon" data-astro-cid-j5tve7gu> <i class="fas fa-wpforms" data-astro-cid-j5tve7gu></i> </div> <h4 data-astro-cid-j5tve7gu>Form App</h4> <p data-astro-cid-j5tve7gu>Formulario con validación</p> </button> <button class="template-card" data-template="chat-app" data-astro-cid-j5tve7gu> <div class="template-icon" data-astro-cid-j5tve7gu> <i class="fas fa-comments" data-astro-cid-j5tve7gu></i> </div> <h4 data-astro-cid-j5tve7gu>Chat Interface</h4> <p data-astro-cid-j5tve7gu>Interfaz de chat/chatbot</p> </button> <button class="template-card" data-template="crud-app" data-astro-cid-j5tve7gu> <div class="template-icon" data-astro-cid-j5tve7gu> <i class="fas fa-database" data-astro-cid-j5tve7gu></i> </div> <h4 data-astro-cid-j5tve7gu>CRUD App</h4> <p data-astro-cid-j5tve7gu>Gestión de datos básica</p> </button> </div> </div> <!-- Código Generado --> <div class="code-output-section" data-astro-cid-j5tve7gu> <div class="code-header" data-astro-cid-j5tve7gu> <h3 data-astro-cid-j5tve7gu><i class="fas fa-file-code" data-astro-cid-j5tve7gu></i> Código Generado</h3> <div class="code-actions" data-astro-cid-j5tve7gu> <button id="copy-streamlit-code" class="btn-copy" title="Copiar código" data-astro-cid-j5tve7gu> <i class="fas fa-copy" data-astro-cid-j5tve7gu></i> Copiar
</button> <button id="download-streamlit-code" class="btn-download" title="Descargar archivo" data-astro-cid-j5tve7gu> <i class="fas fa-download" data-astro-cid-j5tve7gu></i> app.py
</button> </div> </div> <div class="code-output" data-astro-cid-j5tve7gu> <pre id="streamlit-code-output" data-astro-cid-j5tve7gu><code class="language-python" data-astro-cid-j5tve7gu># Tu app Streamlit aparecerá aquí
import streamlit as st

st.set_page_config(
    page_title="Mi App",
    page_icon="🚀",
    layout="wide"
)

st.title("¡Bienvenido a Streamlit!")
st.write("Agrega componentes para generar código.")</code></pre> </div> </div> <!-- Tips de Streamlit --> <div class="streamlit-tips" data-astro-cid-j5tve7gu> <h3 data-astro-cid-j5tve7gu><i class="fas fa-lightbulb" data-astro-cid-j5tve7gu></i> Tips de Streamlit</h3> <div class="tips-grid" data-astro-cid-j5tve7gu> <div class="tip-card" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-rocket" data-astro-cid-j5tve7gu></i> Inicio Rápido</h4> <code data-astro-cid-j5tve7gu>pip install streamlit</code> <code data-astro-cid-j5tve7gu>streamlit run app.py</code> </div> <div class="tip-card" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-bolt" data-astro-cid-j5tve7gu></i> Cache de Datos</h4> <code data-astro-cid-j5tve7gu>@st.cache_data</code> <p data-astro-cid-j5tve7gu>Cachea resultados de funciones que retornan datos</p> </div> <div class="tip-card" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-memory" data-astro-cid-j5tve7gu></i> Cache de Recursos</h4> <code data-astro-cid-j5tve7gu>@st.cache_resource</code> <p data-astro-cid-j5tve7gu>Para conexiones DB, modelos ML</p> </div> <div class="tip-card" data-astro-cid-j5tve7gu> <h4 data-astro-cid-j5tve7gu><i class="fas fa-save" data-astro-cid-j5tve7gu></i> Session State</h4> <code data-astro-cid-j5tve7gu>st.session_state</code> <p data-astro-cid-j5tve7gu>Persiste variables entre reruns</p> </div> </div> </div> </section>  <script>
  document.addEventListener('astro:page-load', () => {
    // Estado del app
    let components = [];
    let componentCounter = 0;
    let selectedComponent = null;

    const appCanvas = document.getElementById('app-canvas');
    const codeOutput = document.getElementById('streamlit-code-output');
    const propertiesContent = document.getElementById('properties-content');

    // Templates
    const templates = {
      'dashboard': [
        { type: 'title', props: { text: '📊 Analytics Dashboard' } },
        { type: 'sidebar', props: { text: 'Sidebar Content' }, children: [
          { type: 'header', props: { text: 'Filtros' } },
          { type: 'date_input', props: { label: 'Fecha inicio', key: 'start_date' } },
          { type: 'date_input', props: { label: 'Fecha fin', key: 'end_date' } },
          { type: 'multiselect', props: { label: 'Categorías', options: ['A', 'B', 'C'], key: 'categories' } }
        ]},
        { type: 'columns', props: { count: 3 }, children: [
          { type: 'metric', props: { label: 'Total Ventas', value: '$45,231', delta: '+12.5%' } },
          { type: 'metric', props: { label: 'Usuarios Activos', value: '2,345', delta: '+5.2%' } },
          { type: 'metric', props: { label: 'Conversión', value: '3.2%', delta: '-0.3%' } }
        ]},
        { type: 'line_chart', props: { title: 'Tendencia de Ventas' } },
        { type: 'columns', props: { count: 2 }, children: [
          { type: 'bar_chart', props: { title: 'Ventas por Categoría' } },
          { type: 'dataframe', props: { title: 'Detalle de Transacciones' } }
        ]}
      ],
      'data-explorer': [
        { type: 'title', props: { text: '🔍 Data Explorer' } },
        { type: 'file_uploader', props: { label: 'Cargar dataset', types: ['csv', 'xlsx'], key: 'uploaded_file' } },
        { type: 'tabs', props: { tabs: ['Vista Previa', 'Estadísticas', 'Visualización'] }, children: [
          { type: 'dataframe', props: { title: 'Datos' } },
          { type: 'text', props: { text: 'Estadísticas descriptivas' } },
          { type: 'selectbox', props: { label: 'Tipo de gráfico', options: ['Barras', 'Líneas', 'Dispersión'], key: 'chart_type' } }
        ]},
        { type: 'expander', props: { label: 'Filtros avanzados' }, children: [
          { type: 'multiselect', props: { label: 'Columnas', options: [], key: 'columns' } },
          { type: 'slider', props: { label: 'Rango de filas', min: 0, max: 100, key: 'row_range' } }
        ]}
      ],
      'ml-app': [
        { type: 'title', props: { text: '🤖 ML Predictor' } },
        { type: 'sidebar', props: {}, children: [
          { type: 'header', props: { text: 'Configuración del Modelo' } },
          { type: 'selectbox', props: { label: 'Algoritmo', options: ['Random Forest', 'XGBoost', 'Neural Network'], key: 'algorithm' } },
          { type: 'slider', props: { label: 'Train/Test Split', min: 0.1, max: 0.9, value: 0.8, key: 'split' } },
          { type: 'button', props: { label: 'Entrenar Modelo' } }
        ]},
        { type: 'header', props: { text: 'Datos de Entrada' } },
        { type: 'file_uploader', props: { label: 'Dataset de entrenamiento', types: ['csv'], key: 'train_data' } },
        { type: 'expander', props: { label: 'Métricas del Modelo' }, children: [
          { type: 'metric', props: { label: 'Accuracy', value: '0.95', delta: '' } },
          { type: 'metric', props: { label: 'F1 Score', value: '0.93', delta: '' } }
        ]},
        { type: 'header', props: { text: 'Predicción' } },
        { type: 'text_area', props: { label: 'Datos para predecir (JSON)', key: 'predict_data' } },
        { type: 'button', props: { label: 'Predecir', type: 'primary' } }
      ],
      'form-app': [
        { type: 'title', props: { text: '📝 Formulario de Registro' } },
        { type: 'text_input', props: { label: 'Nombre completo', key: 'name', placeholder: 'Ingrese su nombre' } },
        { type: 'text_input', props: { label: 'Email', key: 'email', placeholder: 'correo@ejemplo.com' } },
        { type: 'date_input', props: { label: 'Fecha de nacimiento', key: 'birthdate' } },
        { type: 'selectbox', props: { label: 'País', options: ['Chile', 'Argentina', 'Perú', 'Colombia', 'México'], key: 'country' } },
        { type: 'text_area', props: { label: 'Comentarios', key: 'comments', placeholder: 'Escriba aquí...' } },
        { type: 'checkbox', props: { label: 'Acepto los términos y condiciones', key: 'terms' } },
        { type: 'button', props: { label: 'Enviar', type: 'primary' } }
      ],
      'chat-app': [
        { type: 'title', props: { text: '💬 Chat Assistant' } },
        { type: 'sidebar', props: {}, children: [
          { type: 'header', props: { text: 'Configuración' } },
          { type: 'selectbox', props: { label: 'Modelo', options: ['GPT-4', 'Claude', 'Llama'], key: 'model' } },
          { type: 'slider', props: { label: 'Temperature', min: 0, max: 1, value: 0.7, key: 'temperature' } },
          { type: 'button', props: { label: 'Limpiar Chat' } }
        ]},
        { type: 'container', props: { height: 400 }, children: [
          { type: 'text', props: { text: '# Chat messages will appear here' } }
        ]},
        { type: 'text_input', props: { label: 'Tu mensaje', key: 'user_input', placeholder: 'Escribe tu mensaje...' } }
      ],
      'crud-app': [
        { type: 'title', props: { text: '🗄️ Gestión de Datos' } },
        { type: 'tabs', props: { tabs: ['Ver', 'Crear', 'Actualizar', 'Eliminar'] }, children: [
          { type: 'dataframe', props: { title: 'Registros' } },
          { type: 'text_input', props: { label: 'Nombre', key: 'new_name' } },
          { type: 'selectbox', props: { label: 'ID a actualizar', options: [], key: 'update_id' } },
          { type: 'selectbox', props: { label: 'ID a eliminar', options: [], key: 'delete_id' } }
        ]},
        { type: 'success', props: { text: 'Operación completada exitosamente' } }
      ]
    };

    // Agregar componente
    function addComponent(type, props = {}) {
      componentCounter++;
      const component = {
        id: `comp-${componentCounter}`,
        type,
        props: { ...getDefaultProps(type), ...props }
      };
      components.push(component);
      renderCanvas();
      generateCode();
      return component;
    }

    // Propiedades por defecto
    function getDefaultProps(type) {
      const defaults = {
        title: { text: 'Mi Aplicación' },
        header: { text: 'Sección' },
        subheader: { text: 'Subsección' },
        text: { text: 'Texto de ejemplo' },
        markdown: { text: '**Markdown** con *formato*' },
        code: { text: 'print("Hello World")', language: 'python' },
        latex: { text: 'E = mc^2' },
        button: { label: 'Botón', type: 'secondary' },
        checkbox: { label: 'Opción', key: 'checkbox_1', default: false },
        radio: { label: 'Opciones', options: ['A', 'B', 'C'], key: 'radio_1' },
        selectbox: { label: 'Seleccionar', options: ['Opción 1', 'Opción 2', 'Opción 3'], key: 'select_1' },
        multiselect: { label: 'Multi-selección', options: ['A', 'B', 'C'], key: 'multi_1', default: [] },
        slider: { label: 'Valor', min: 0, max: 100, value: 50, key: 'slider_1' },
        text_input: { label: 'Texto', key: 'text_1', placeholder: '' },
        number_input: { label: 'Número', min: 0, max: 100, value: 0, key: 'number_1' },
        text_area: { label: 'Área de texto', key: 'textarea_1', placeholder: '' },
        date_input: { label: 'Fecha', key: 'date_1' },
        file_uploader: { label: 'Archivo', types: ['csv', 'xlsx'], key: 'file_1' },
        color_picker: { label: 'Color', key: 'color_1', default: '#FF4B4B' },
        dataframe: { title: 'DataFrame' },
        data_editor: { title: 'Editor de Datos' },
        metric: { label: 'Métrica', value: '100', delta: '+10%' },
        line_chart: { title: 'Gráfico de Líneas' },
        bar_chart: { title: 'Gráfico de Barras' },
        area_chart: { title: 'Gráfico de Área' },
        scatter_chart: { title: 'Gráfico de Dispersión' },
        map: { title: 'Mapa' },
        plotly: { title: 'Gráfico Plotly' },
        columns: { count: 2 },
        tabs: { tabs: ['Tab 1', 'Tab 2'] },
        expander: { label: 'Expandir', expanded: false },
        container: { height: 300 },
        sidebar: {},
        success: { text: 'Éxito!' },
        info: { text: 'Información' },
        warning: { text: 'Advertencia' },
        error: { text: 'Error' },
        spinner: { text: 'Cargando...' },
        progress: { value: 50 },
        balloons: {}
      };
      return defaults[type] || {};
    }

    // Renderizar canvas
    function renderCanvas() {
      if (components.length === 0) {
        appCanvas.innerHTML = `
          <div class="canvas-placeholder">
            <i class="fas fa-plus-circle"></i>
            <p>Haz clic en los componentes para agregarlos</p>
            <p class="hint">O usa una plantilla para comenzar rápido</p>
          </div>
        `;
        return;
      }

      appCanvas.innerHTML = components.map(comp => renderComponent(comp)).join('');

      // Event listeners para componentes
      appCanvas.querySelectorAll('.app-component').forEach(el => {
        el.addEventListener('click', (e) => {
          if (!e.target.closest('.component-actions')) {
            selectComponent(el.dataset.id);
          }
        });
      });

      // Botones de eliminar
      appCanvas.querySelectorAll('.delete-comp').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const id = btn.closest('.app-component').dataset.id;
          deleteComponent(id);
        });
      });

      // Botones de mover arriba/abajo
      appCanvas.querySelectorAll('.move-up').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const id = btn.closest('.app-component').dataset.id;
          moveComponent(id, -1);
        });
      });

      appCanvas.querySelectorAll('.move-down').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const id = btn.closest('.app-component').dataset.id;
          moveComponent(id, 1);
        });
      });
    }

    // Renderizar un componente
    function renderComponent(comp) {
      const preview = getComponentPreview(comp);
      const isSelected = selectedComponent === comp.id ? 'selected' : '';

      return `
        <div class="app-component ${isSelected}" data-id="${comp.id}">
          <div class="component-header">
            <span class="component-type">st.${comp.type}()</span>
            <div class="component-actions">
              <button class="move-up" title="Mover arriba"><i class="fas fa-chevron-up"></i></button>
              <button class="move-down" title="Mover abajo"><i class="fas fa-chevron-down"></i></button>
              <button class="delete-comp" title="Eliminar"><i class="fas fa-times"></i></button>
            </div>
          </div>
          <div class="component-preview">${preview}</div>
        </div>
      `;
    }

    // Preview del componente
    function getComponentPreview(comp) {
      const { type, props } = comp;

      switch (type) {
        case 'title':
          return `<h1 style="margin:0;font-size:1.2rem;color:#f8fafc;">${props.text}</h1>`;
        case 'header':
          return `<h2 style="margin:0;font-size:1rem;color:#f8fafc;">${props.text}</h2>`;
        case 'subheader':
          return `<h3 style="margin:0;font-size:0.9rem;color:#f8fafc;">${props.text}</h3>`;
        case 'text':
          return `<p style="margin:0;color:#94a3b8;">${props.text}</p>`;
        case 'markdown':
          return `<p style="margin:0;color:#94a3b8;"><em>Markdown:</em> ${props.text.substring(0, 50)}...</p>`;
        case 'code':
          return `<code style="background:#1e293b;padding:0.25rem 0.5rem;border-radius:4px;font-size:0.8rem;">${props.text.substring(0, 40)}...</code>`;
        case 'button':
          return `<button style="padding:0.35rem 0.75rem;background:${props.type === 'primary' ? '#FF4B4B' : '#475569'};border:none;border-radius:4px;color:white;font-size:0.8rem;">${props.label}</button>`;
        case 'checkbox':
          return `<label style="display:flex;align-items:center;gap:0.5rem;color:#e2e8f0;font-size:0.85rem;"><input type="checkbox" ${props.default ? 'checked' : ''}> ${props.label}</label>`;
        case 'selectbox':
        case 'multiselect':
          return `<div><label style="color:#94a3b8;font-size:0.75rem;display:block;margin-bottom:0.25rem;">${props.label}</label><select style="width:100%;padding:0.35rem;background:#1e293b;border:1px solid #475569;border-radius:4px;color:#f8fafc;font-size:0.8rem;"><option>${props.options[0]}</option></select></div>`;
        case 'slider':
          return `<div><label style="color:#94a3b8;font-size:0.75rem;display:block;margin-bottom:0.25rem;">${props.label}: ${props.value}</label><input type="range" min="${props.min}" max="${props.max}" value="${props.value}" style="width:100%;"></div>`;
        case 'text_input':
        case 'number_input':
          return `<div><label style="color:#94a3b8;font-size:0.75rem;display:block;margin-bottom:0.25rem;">${props.label}</label><input type="${type === 'number_input' ? 'number' : 'text'}" placeholder="${props.placeholder || ''}" style="width:100%;padding:0.35rem;background:#1e293b;border:1px solid #475569;border-radius:4px;color:#f8fafc;font-size:0.8rem;"></div>`;
        case 'metric':
          return `<div style="text-align:center;"><div style="color:#94a3b8;font-size:0.75rem;">${props.label}</div><div style="font-size:1.5rem;font-weight:bold;color:#f8fafc;">${props.value}</div><div style="color:${props.delta?.startsWith('+') ? '#22c55e' : props.delta?.startsWith('-') ? '#ef4444' : '#64748b'};font-size:0.8rem;">${props.delta}</div></div>`;
        case 'line_chart':
        case 'bar_chart':
        case 'area_chart':
        case 'scatter_chart':
          return `<div style="text-align:center;padding:1rem;background:#1e293b;border-radius:4px;"><i class="fas fa-chart-${type.includes('line') ? 'line' : type.includes('bar') ? 'bar' : type.includes('area') ? 'area' : 'bar'}" style="font-size:2rem;color:#FF4B4B;"></i><div style="color:#94a3b8;font-size:0.8rem;margin-top:0.5rem;">${props.title}</div></div>`;
        case 'dataframe':
          return `<div style="text-align:center;padding:1rem;background:#1e293b;border-radius:4px;"><i class="fas fa-table" style="font-size:1.5rem;color:#FF4B4B;"></i><div style="color:#94a3b8;font-size:0.8rem;margin-top:0.5rem;">${props.title}</div></div>`;
        case 'columns':
          return `<div style="display:flex;gap:0.5rem;">${Array(props.count).fill(0).map((_, i) => `<div style="flex:1;background:#1e293b;padding:0.5rem;border-radius:4px;text-align:center;color:#64748b;font-size:0.75rem;">Col ${i+1}</div>`).join('')}</div>`;
        case 'tabs':
          return `<div style="display:flex;gap:0.25rem;border-bottom:1px solid #475569;">${props.tabs.map((t, i) => `<div style="padding:0.35rem 0.75rem;background:${i===0?'#FF4B4B':'transparent'};color:${i===0?'white':'#94a3b8'};border-radius:4px 4px 0 0;font-size:0.8rem;">${t}</div>`).join('')}</div>`;
        case 'expander':
          return `<div style="border:1px solid #475569;border-radius:4px;"><div style="padding:0.5rem;display:flex;align-items:center;gap:0.5rem;color:#e2e8f0;font-size:0.85rem;"><i class="fas fa-chevron-right"></i> ${props.label}</div></div>`;
        case 'sidebar':
          return `<div style="background:#1e293b;padding:0.5rem;border-radius:4px;border-left:3px solid #FF4B4B;"><span style="color:#94a3b8;font-size:0.8rem;">📱 Sidebar</span></div>`;
        case 'success':
          return `<div style="background:rgba(34,197,94,0.2);border-left:3px solid #22c55e;padding:0.5rem;border-radius:4px;color:#22c55e;font-size:0.85rem;">${props.text}</div>`;
        case 'info':
          return `<div style="background:rgba(59,130,246,0.2);border-left:3px solid #3b82f6;padding:0.5rem;border-radius:4px;color:#3b82f6;font-size:0.85rem;">${props.text}</div>`;
        case 'warning':
          return `<div style="background:rgba(251,191,36,0.2);border-left:3px solid #fbbf24;padding:0.5rem;border-radius:4px;color:#fbbf24;font-size:0.85rem;">${props.text}</div>`;
        case 'error':
          return `<div style="background:rgba(239,68,68,0.2);border-left:3px solid #ef4444;padding:0.5rem;border-radius:4px;color:#ef4444;font-size:0.85rem;">${props.text}</div>`;
        case 'file_uploader':
          return `<div><label style="color:#94a3b8;font-size:0.75rem;display:block;margin-bottom:0.25rem;">${props.label}</label><div style="border:2px dashed #475569;padding:1rem;text-align:center;border-radius:4px;color:#64748b;font-size:0.8rem;"><i class="fas fa-upload"></i> Drag and drop</div></div>`;
        default:
          return `<div style="color:#64748b;font-size:0.85rem;">st.${type}()</div>`;
      }
    }

    // Seleccionar componente
    function selectComponent(id) {
      selectedComponent = id;
      renderCanvas();
      renderProperties();
    }

    // Renderizar propiedades
    function renderProperties() {
      if (!selectedComponent) {
        propertiesContent.innerHTML = `
          <div class="no-selection">
            <i class="fas fa-mouse-pointer"></i>
            <p>Selecciona un componente para editar sus propiedades</p>
          </div>
        `;
        return;
      }

      const comp = components.find(c => c.id === selectedComponent);
      if (!comp) return;

      let html = `<div class="property-group"><label>Tipo</label><input type="text" value="st.${comp.type}()" readonly></div>`;

      // Generar campos según el tipo
      const props = comp.props;

      if ('text' in props) {
        html += `<div class="property-group"><label>Texto</label><textarea id="prop-text" rows="2">${props.text}</textarea></div>`;
      }
      if ('label' in props) {
        html += `<div class="property-group"><label>Label</label><input type="text" id="prop-label" value="${props.label}"></div>`;
      }
      if ('key' in props) {
        html += `<div class="property-group"><label>Key (variable)</label><input type="text" id="prop-key" value="${props.key}"></div>`;
      }
      if ('value' in props && typeof props.value !== 'object') {
        html += `<div class="property-group"><label>Valor</label><input type="text" id="prop-value" value="${props.value}"></div>`;
      }
      if ('delta' in props) {
        html += `<div class="property-group"><label>Delta</label><input type="text" id="prop-delta" value="${props.delta}"></div>`;
      }
      if ('placeholder' in props) {
        html += `<div class="property-group"><label>Placeholder</label><input type="text" id="prop-placeholder" value="${props.placeholder}"></div>`;
      }
      if ('options' in props) {
        html += `<div class="property-group"><label>Opciones (separadas por coma)</label><input type="text" id="prop-options" value="${props.options.join(', ')}"></div>`;
      }
      if ('min' in props) {
        html += `<div class="property-group"><label>Mínimo</label><input type="number" id="prop-min" value="${props.min}"></div>`;
      }
      if ('max' in props) {
        html += `<div class="property-group"><label>Máximo</label><input type="number" id="prop-max" value="${props.max}"></div>`;
      }
      if ('count' in props) {
        html += `<div class="property-group"><label>Cantidad</label><input type="number" id="prop-count" value="${props.count}" min="1" max="6"></div>`;
      }
      if ('tabs' in props) {
        html += `<div class="property-group"><label>Tabs (separados por coma)</label><input type="text" id="prop-tabs" value="${props.tabs.join(', ')}"></div>`;
      }
      if ('types' in props) {
        html += `<div class="property-group"><label>Tipos de archivo</label><input type="text" id="prop-types" value="${props.types.join(', ')}"></div>`;
      }
      if (comp.type === 'button') {
        html += `<div class="property-group"><label>Tipo de botón</label><select id="prop-btntype"><option value="secondary" ${props.type === 'secondary' ? 'selected' : ''}>Secondary</option><option value="primary" ${props.type === 'primary' ? 'selected' : ''}>Primary</option></select></div>`;
      }

      propertiesContent.innerHTML = html;

      // Event listeners para actualizar propiedades
      propertiesContent.querySelectorAll('input, textarea, select').forEach(input => {
        input.addEventListener('change', () => updateProperty(input));
        input.addEventListener('input', () => updateProperty(input));
      });
    }

    // Actualizar propiedad
    function updateProperty(input) {
      const comp = components.find(c => c.id === selectedComponent);
      if (!comp) return;

      const propName = input.id.replace('prop-', '');
      let value = input.value;

      if (propName === 'options' || propName === 'tabs' || propName === 'types') {
        value = value.split(',').map(s => s.trim()).filter(s => s);
      } else if (propName === 'min' || propName === 'max' || propName === 'count') {
        value = parseInt(value) || 0;
      } else if (propName === 'btntype') {
        comp.props.type = value;
        renderCanvas();
        generateCode();
        return;
      }

      comp.props[propName] = value;
      renderCanvas();
      generateCode();
    }

    // Eliminar componente
    function deleteComponent(id) {
      components = components.filter(c => c.id !== id);
      if (selectedComponent === id) {
        selectedComponent = null;
        renderProperties();
      }
      renderCanvas();
      generateCode();
    }

    // Mover componente
    function moveComponent(id, direction) {
      const index = components.findIndex(c => c.id === id);
      if (index === -1) return;

      const newIndex = index + direction;
      if (newIndex < 0 || newIndex >= components.length) return;

      const temp = components[index];
      components[index] = components[newIndex];
      components[newIndex] = temp;

      renderCanvas();
      generateCode();
    }

    // Generar código
    function generateCode() {
      let code = `"""
Streamlit App generado automáticamente
Ejecutar: streamlit run app.py
"""
import streamlit as st
import pandas as pd
import numpy as np

# Configuración de la página
st.set_page_config(
    page_title="Mi App Streamlit",
    page_icon="🚀",
    layout="wide",
    initial_sidebar_state="expanded"
)

# Datos de ejemplo
@st.cache_data
def load_sample_data():
    df = pd.DataFrame({
        'fecha': pd.date_range('2024-01-01', periods=100),
        'ventas': np.random.randint(100, 1000, 100),
        'categoria': np.random.choice(['A', 'B', 'C'], 100)
    })
    return df

df = load_sample_data()

`;

      let sidebarCode = '';
      let mainCode = '';
      let inSidebar = false;

      components.forEach(comp => {
        if (comp.type === 'sidebar') {
          inSidebar = true;
          return;
        }

        const prefix = inSidebar ? 'st.sidebar.' : 'st.';
        const compCode = generateComponentCode(comp, prefix);

        if (inSidebar) {
          sidebarCode += compCode + '\n';
        } else {
          mainCode += compCode + '\n';
        }
      });

      if (sidebarCode) {
        code += '# Sidebar\nwith st.sidebar:\n';
        code += sidebarCode.split('\n').map(line => line ? '    ' + line.replace('st.sidebar.', 'st.') : '').join('\n');
        code += '\n\n# Contenido principal\n';
      }

      code += mainCode || '# Agrega componentes para generar código\nst.write("¡Bienvenido!")\n';

      codeOutput.querySelector('code').textContent = code;
    }

    // Generar código de un componente
    function generateComponentCode(comp, prefix = 'st.') {
      const { type, props } = comp;
      const key = props.key ? `, key="${props.key}"` : '';

      switch (type) {
        case 'title':
          return `${prefix}title("${props.text}")`;
        case 'header':
          return `${prefix}header("${props.text}")`;
        case 'subheader':
          return `${prefix}subheader("${props.text}")`;
        case 'text':
          return `${prefix}text("${props.text}")`;
        case 'markdown':
          return `${prefix}markdown("""${props.text}""")`;
        case 'code':
          return `${prefix}code("""${props.text}"""${props.language ? `, language="${props.language}"` : ''})`;
        case 'latex':
          return `${prefix}latex(r"${props.text}")`;
        case 'button':
          return `if ${prefix}button("${props.label}"${key}${props.type === 'primary' ? ', type="primary"' : ''}):\n    st.write("Botón presionado!")`;
        case 'checkbox':
          return `${props.key} = ${prefix}checkbox("${props.label}"${key}${props.default ? ', value=True' : ''})`;
        case 'radio':
          return `${props.key} = ${prefix}radio("${props.label}", [${props.options.map(o => `"${o}"`).join(', ')}]${key})`;
        case 'selectbox':
          return `${props.key} = ${prefix}selectbox("${props.label}", [${props.options.map(o => `"${o}"`).join(', ')}]${key})`;
        case 'multiselect':
          return `${props.key} = ${prefix}multiselect("${props.label}", [${props.options.map(o => `"${o}"`).join(', ')}]${key})`;
        case 'slider':
          return `${props.key} = ${prefix}slider("${props.label}", min_value=${props.min}, max_value=${props.max}, value=${props.value}${key})`;
        case 'text_input':
          return `${props.key} = ${prefix}text_input("${props.label}"${props.placeholder ? `, placeholder="${props.placeholder}"` : ''}${key})`;
        case 'number_input':
          return `${props.key} = ${prefix}number_input("${props.label}", min_value=${props.min}, max_value=${props.max}, value=${props.value}${key})`;
        case 'text_area':
          return `${props.key} = ${prefix}text_area("${props.label}"${props.placeholder ? `, placeholder="${props.placeholder}"` : ''}${key})`;
        case 'date_input':
          return `${props.key} = ${prefix}date_input("${props.label}"${key})`;
        case 'file_uploader':
          return `${props.key} = ${prefix}file_uploader("${props.label}", type=[${props.types.map(t => `"${t}"`).join(', ')}]${key})`;
        case 'color_picker':
          return `${props.key} = ${prefix}color_picker("${props.label}", "${props.default}"${key})`;
        case 'dataframe':
          return `${prefix}dataframe(df)  # ${props.title}`;
        case 'data_editor':
          return `edited_df = ${prefix}data_editor(df)  # ${props.title}`;
        case 'metric':
          return `${prefix}metric(label="${props.label}", value="${props.value}"${props.delta ? `, delta="${props.delta}"` : ''})`;
        case 'line_chart':
          return `${prefix}line_chart(df.set_index('fecha')['ventas'])  # ${props.title}`;
        case 'bar_chart':
          return `${prefix}bar_chart(df.groupby('categoria')['ventas'].sum())  # ${props.title}`;
        case 'area_chart':
          return `${prefix}area_chart(df.set_index('fecha')['ventas'])  # ${props.title}`;
        case 'scatter_chart':
          return `${prefix}scatter_chart(df, x='fecha', y='ventas')  # ${props.title}`;
        case 'map':
          return `# ${props.title}\nmap_data = pd.DataFrame(np.random.randn(100, 2) / [50, 50] + [-33.45, -70.66], columns=['lat', 'lon'])\n${prefix}map(map_data)`;
        case 'plotly':
          return `import plotly.express as px\nfig = px.line(df, x='fecha', y='ventas', title='${props.title}')\n${prefix}plotly_chart(fig, use_container_width=True)`;
        case 'columns':
          const colNames = Array(props.count).fill(0).map((_, i) => `col${i+1}`).join(', ');
          return `${colNames} = ${prefix}columns(${props.count})\nwith col1:\n    st.write("Columna 1")`;
        case 'tabs':
          const tabNames = props.tabs.map((_, i) => `tab${i+1}`).join(', ');
          return `${tabNames} = ${prefix}tabs([${props.tabs.map(t => `"${t}"`).join(', ')}])\nwith tab1:\n    st.write("Contenido Tab 1")`;
        case 'expander':
          return `with ${prefix}expander("${props.label}"):\n    st.write("Contenido expandible")`;
        case 'container':
          return `with ${prefix}container(height=${props.height}):\n    st.write("Contenido del container")`;
        case 'success':
          return `${prefix}success("${props.text}")`;
        case 'info':
          return `${prefix}info("${props.text}")`;
        case 'warning':
          return `${prefix}warning("${props.text}")`;
        case 'error':
          return `${prefix}error("${props.text}")`;
        case 'spinner':
          return `with ${prefix}spinner("${props.text}"):\n    import time\n    time.sleep(1)`;
        case 'progress':
          return `progress_bar = ${prefix}progress(${props.value})`;
        case 'balloons':
          return `${prefix}balloons()`;
        default:
          return `# ${prefix}${type}()`;
      }
    }

    // Event listeners para botones de componentes
    document.querySelectorAll('.component-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        addComponent(btn.dataset.type);
      });
    });

    // Event listeners para templates
    document.querySelectorAll('.template-card').forEach(card => {
      card.addEventListener('click', () => {
        const templateName = card.dataset.template;
        const template = templates[templateName];
        if (!template) return;

        components = [];
        componentCounter = 0;
        selectedComponent = null;

        template.forEach(item => {
          addComponent(item.type, item.props);
        });
      });
    });

    // Limpiar app
    document.getElementById('clear-app-btn')?.addEventListener('click', () => {
      components = [];
      componentCounter = 0;
      selectedComponent = null;
      renderCanvas();
      renderProperties();
      generateCode();
    });

    // Copiar código
    document.getElementById('copy-streamlit-code')?.addEventListener('click', () => {
      const code = codeOutput.querySelector('code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        const btn = document.getElementById('copy-streamlit-code');
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-check"></i> Copiado';
        setTimeout(() => { btn.innerHTML = originalText; }, 2000);
      });
    });

    // Descargar código
    document.getElementById('download-streamlit-code')?.addEventListener('click', () => {
      const code = codeOutput.querySelector('code').textContent;
      const blob = new Blob([code], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'app.py';
      a.click();
      URL.revokeObjectURL(url);
    });

    // Inicializar
    generateCode();
  });
</script> </section> </div>  </main> </div> <footer class="footer-compact" data-astro-cid-sz7xmlte> <!-- Wave separator --> <div class="footer-wave" data-astro-cid-sz7xmlte> <svg viewBox="0 0 1440 60" preserveAspectRatio="none" data-astro-cid-sz7xmlte> <path d="M0,30 C360,60 720,0 1080,30 C1260,45 1380,15 1440,30 L1440,60 L0,60 Z" fill="url(#waveGradient)" data-astro-cid-sz7xmlte></path> <defs data-astro-cid-sz7xmlte> <linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%" data-astro-cid-sz7xmlte> <stop offset="0%" style="stop-color:rgba(0,212,255,0.08)" data-astro-cid-sz7xmlte></stop> <stop offset="50%" style="stop-color:rgba(124,58,237,0.08)" data-astro-cid-sz7xmlte></stop> <stop offset="100%" style="stop-color:rgba(244,114,182,0.08)" data-astro-cid-sz7xmlte></stop> </linearGradient> </defs> </svg> </div> <div class="footer-container" data-astro-cid-sz7xmlte> <!-- Main Row --> <div class="footer-main-row" data-astro-cid-sz7xmlte> <!-- Brand --> <div class="footer-brand" data-premium-tooltip="Analista Programador Computacional|Repositorio de materiales y recursos académicos para la carrera|Online,DuocUC,2025|info|fa-laptop-code|DUOC UC" data-astro-cid-sz7xmlte> <div class="brand-logo" data-astro-cid-sz7xmlte> <i class="fas fa-laptop-code" data-astro-cid-sz7xmlte></i> </div> <div class="brand-text" data-astro-cid-sz7xmlte> <span class="brand-title" data-astro-cid-sz7xmlte>Analista Programador Computacional</span> <span class="brand-subtitle" data-astro-cid-sz7xmlte>DuocUC Online 2025</span> </div> </div> <!-- Quick Nav --> <nav class="footer-nav" data-astro-cid-sz7xmlte> <a href="/Analista-Programador-Computacional-DuocUC/inicio" class="nav-link" data-premium-tooltip="Inicio|Página principal con Plan de Estudios y tecnologías|Hero,Bimestres,Stats|navigation|fa-home|NAVEGACIÓN" data-astro-cid-sz7xmlte> <i class="fas fa-home" data-astro-cid-sz7xmlte></i> Inicio </a><a href="/Analista-Programador-Computacional-DuocUC/stacks" class="nav-link" data-premium-tooltip="Stack Tecnológico|150+ tecnologías con rankings actualizados|Languages,Frameworks,Tools|navigation|fa-layer-group|TECNOLOGÍAS" data-astro-cid-sz7xmlte> <i class="fas fa-layer-group" data-astro-cid-sz7xmlte></i> Stacks </a><a href="/Analista-Programador-Computacional-DuocUC/arquitecturas" class="nav-link" data-premium-tooltip="Arquitectura|Patrones de diseño, pipelines y metodologías|Clean Arch,Scrum,DevOps|navigation|fa-sitemap|ARQUITECTURA" data-astro-cid-sz7xmlte> <i class="fas fa-sitemap" data-astro-cid-sz7xmlte></i> Arquitecturas </a><a href="/Analista-Programador-Computacional-DuocUC/recursos" class="nav-link" data-premium-tooltip="Recursos|Herramientas interactivas, videos y certificaciones|Gantt,SQL,Quizzes|navigation|fa-book-open|HERRAMIENTAS" data-astro-cid-sz7xmlte> <i class="fas fa-book-open" data-astro-cid-sz7xmlte></i> Recursos </a><a href="/Analista-Programador-Computacional-DuocUC/proyectos" class="nav-link" data-premium-tooltip="Proyectos|Roadmap de aprendizaje y portafolio profesional|Estudio,Trabajo,Portfolio|navigation|fa-folder-open|PROYECTOS" data-astro-cid-sz7xmlte> <i class="fas fa-folder-open" data-astro-cid-sz7xmlte></i> Proyectos </a> </nav> <!-- Repo Links --> <div class="footer-repos" data-astro-cid-sz7xmlte> <span class="repos-label" data-astro-cid-sz7xmlte>Repos:</span> <a href="https://github.com/fos-duoc/Analista-Programador-Computacional-DuocUC" target="_blank" rel="noopener noreferrer" class="repo-link" style="--repo-color: #f8fafc;" data-premium-tooltip="GitHub|Repositorio principal del proyecto|Stars,Forks,Issues|tool|fa-github|github.com" data-astro-cid-sz7xmlte> <i class="fab fa-github" data-astro-cid-sz7xmlte></i> </a><a href="https://gitlab.com/fos-duoc/analista-programador-computacional-duocuc" target="_blank" rel="noopener noreferrer" class="repo-link" style="--repo-color: #FC6D26;" data-premium-tooltip="GitLab|Mirror del repositorio con CI/CD|Pipeline,Registry|tool|fa-gitlab|gitlab.com" data-astro-cid-sz7xmlte> <i class="fab fa-gitlab" data-astro-cid-sz7xmlte></i> </a><a href="https://bitbucket.org/fos-duoc/analista-programador-computacional-duocuc" target="_blank" rel="noopener noreferrer" class="repo-link" style="--repo-color: #2684FF;" data-premium-tooltip="BitBucket|Mirror en Atlassian para integración Jira|Pipelines,Jira|tool|fa-bitbucket|bitbucket.org" data-astro-cid-sz7xmlte> <i class="fab fa-bitbucket" data-astro-cid-sz7xmlte></i> </a><a href="https://dev.azure.com/fos-duoc/Analista-Programador-Computacional-DuocUC" target="_blank" rel="noopener noreferrer" class="repo-link" style="--repo-color: #0078D4;" data-premium-tooltip="Azure DevOps|Mirror con Azure Pipelines y Boards|CI/CD,Boards,Artifacts|tool|fa-microsoft|dev.azure.com" data-astro-cid-sz7xmlte> <i class="fab fa-microsoft" data-astro-cid-sz7xmlte></i> </a> </div> <!-- Institutional Links --> <div class="footer-institutional" data-astro-cid-sz7xmlte> <a href="https://www.duoc.cl/" target="_blank" rel="noopener noreferrer" class="institutional-link" style="--inst-color: #00d4ff;" data-premium-tooltip="DuocUC|Sitio oficial de Duoc UC|Carreras,Sedes,Admisión|info|fa-graduation-cap|duoc.cl" data-astro-cid-sz7xmlte> <i class="fas fa-graduation-cap" data-astro-cid-sz7xmlte></i> <span data-astro-cid-sz7xmlte>DuocUC</span> </a><a href="https://www.duoc.cl/carreras/analista-programador-computacional/" target="_blank" rel="noopener noreferrer" class="institutional-link" style="--inst-color: #7c3aed;" data-premium-tooltip="Malla Curricular|Plan de estudios oficial de la carrera|Asignaturas,Créditos,Duración|info|fa-project-diagram|duoc.cl" data-astro-cid-sz7xmlte> <i class="fas fa-project-diagram" data-astro-cid-sz7xmlte></i> <span data-astro-cid-sz7xmlte>Malla</span> </a> </div> <!-- Stats --> <div class="footer-stats" data-astro-cid-sz7xmlte>  <div class="stat-item" data-premium-tooltip="Bimestres|17 bimestres académicos en 2 carreras|APC: 10,IDS: 7|info|fa-calendar-alt|ESTRUCTURA" data-astro-cid-sz7xmlte> <span class="stat-num" data-astro-cid-sz7xmlte>17</span> <span class="stat-lbl" data-astro-cid-sz7xmlte>Bimestres</span> </div> <span class="stat-divider" data-astro-cid-sz7xmlte>|</span> <div class="stat-item" data-premium-tooltip="Asignaturas|Más de 40 asignaturas incluyendo Ingeniería en Software|Programación,Datos,Cloud,DevOps|info|fa-book|CONTENIDO" data-astro-cid-sz7xmlte> <span class="stat-num" data-astro-cid-sz7xmlte>40+</span> <span class="stat-lbl" data-astro-cid-sz7xmlte>Asignaturas</span> </div> <span class="stat-divider" data-astro-cid-sz7xmlte>|</span> <div class="stat-item" data-premium-tooltip="Carreras|Analista Programador + Ingeniería en Software|Técnico,Profesional|info|fa-user-graduate|PROGRAMA" data-astro-cid-sz7xmlte> <span class="stat-num" data-astro-cid-sz7xmlte>2</span> <span class="stat-lbl" data-astro-cid-sz7xmlte>Carreras</span> </div>  </div> </div> <!-- Bottom Row --> <div class="footer-bottom-row" data-astro-cid-sz7xmlte> <!-- Copyright + Made with --> <div class="footer-copyright" data-astro-cid-sz7xmlte> <i class="far fa-copyright" data-astro-cid-sz7xmlte></i> 2025 <span class="highlight" data-astro-cid-sz7xmlte>APC</span> - DuocUC
<span class="sep" data-astro-cid-sz7xmlte>·</span>
Hecho con <i class="fas fa-heart heart" data-astro-cid-sz7xmlte></i> y <i class="fas fa-coffee coffee" data-astro-cid-sz7xmlte></i> usando
<a href="https://astro.build" target="_blank" class="astro-link" data-premium-tooltip="Astro|Framework web moderno con Islands Architecture|Fast,SEO,DX|tool|fa-rocket|astro.build" data-astro-cid-sz7xmlte> <i class="devicon-astro-plain" data-astro-cid-sz7xmlte></i> Astro
</a> </div> <!-- Useful Links --> <div class="footer-useful" data-astro-cid-sz7xmlte> <a href="https://github.com/fos-duoc/Analista-Programador-Computacional-DuocUC/commits/main" target="_blank" rel="noopener noreferrer" class="useful-link" data-premium-tooltip="Changelog|Historial de cambios y actualizaciones|Commits,Releases|info|fa-history|GITHUB" data-astro-cid-sz7xmlte> <i class="fas fa-history" data-astro-cid-sz7xmlte></i> <span data-astro-cid-sz7xmlte>Changelog</span> </a><a href="https://github.com/fos-duoc/Analista-Programador-Computacional-DuocUC/issues" target="_blank" rel="noopener noreferrer" class="useful-link" data-premium-tooltip="Issues|Reportar bugs o solicitar features|Bugs,Features,Help|info|fa-bug|GITHUB" data-astro-cid-sz7xmlte> <i class="fas fa-bug" data-astro-cid-sz7xmlte></i> <span data-astro-cid-sz7xmlte>Issues</span> </a> </div> <!-- Tech Stack --> <div class="footer-tech" data-astro-cid-sz7xmlte> <span class="tech-label" data-astro-cid-sz7xmlte>Built with:</span> <div class="tech-icon" style="--color: #ff5a03;" data-premium-tooltip="Astro|Framework moderno para sitios de contenido|Islands,Zero JS,SSG|tool|fa-rocket|Astro (2021)" data-astro-cid-sz7xmlte> <i class="devicon-astro-plain" data-astro-cid-sz7xmlte></i> </div><div class="tech-icon" style="--color: #3178c6;" data-premium-tooltip="TypeScript|JavaScript con tipado estático|Types,Interfaces|tool|fa-code|Microsoft (2012)" data-astro-cid-sz7xmlte> <i class="devicon-typescript-plain" data-astro-cid-sz7xmlte></i> </div><div class="tech-icon" style="--color: #264de4;" data-premium-tooltip="CSS3|Estilos y diseño visual|Flexbox,Grid,Animations|tool|fa-paint-brush|W3C (2011)" data-astro-cid-sz7xmlte> <i class="devicon-css3-plain" data-astro-cid-sz7xmlte></i> </div><div class="tech-icon" style="--color: #e34c26;" data-premium-tooltip="HTML5|Estructura semántica web|Semantic,Accessible|tool|fa-code|W3C (2014)" data-astro-cid-sz7xmlte> <i class="devicon-html5-plain" data-astro-cid-sz7xmlte></i> </div> </div> <!-- Keyboard Shortcut + Back to Top --> <div class="footer-actions" data-astro-cid-sz7xmlte> <div class="kbd-hint" data-premium-tooltip="Command Palette|Abre la paleta de comandos para navegación rápida|Buscar,Navegar,Acciones|feature|fa-keyboard|ATAJO" data-astro-cid-sz7xmlte> <kbd data-astro-cid-sz7xmlte>⌘</kbd><kbd data-astro-cid-sz7xmlte>K</kbd> </div> <div class="deploy-status" data-premium-tooltip="Deploy Status|El sitio está desplegado y funcionando correctamente|GitHub Pages,Live|info|fa-circle|HOSTING" data-astro-cid-sz7xmlte> <span class="status-dot" data-astro-cid-sz7xmlte></span> <span data-astro-cid-sz7xmlte>Live</span> </div> <button class="back-to-top" id="footerBackToTop" data-premium-tooltip="Volver Arriba|Scroll suave al inicio de la página||feature|fa-arrow-up|NAVEGACIÓN" data-astro-cid-sz7xmlte> <i class="fas fa-arrow-up" data-astro-cid-sz7xmlte></i> </button> </div> </div> </div> <!-- Animated Background Blobs --> <div class="footer-bg" data-astro-cid-sz7xmlte> <!-- Large slow-moving blobs --> <div class="blob blob-1" data-astro-cid-sz7xmlte></div> <div class="blob blob-2" data-astro-cid-sz7xmlte></div> <div class="blob blob-3" data-astro-cid-sz7xmlte></div> <!-- Medium morphing blobs --> <div class="blob blob-4" data-astro-cid-sz7xmlte></div> <div class="blob blob-5" data-astro-cid-sz7xmlte></div> <!-- Small accent blobs --> <div class="blob blob-6" data-astro-cid-sz7xmlte></div> <div class="blob blob-7" data-astro-cid-sz7xmlte></div> <!-- Gradient mesh overlay --> <div class="gradient-mesh" data-astro-cid-sz7xmlte></div> </div> </footer> <script type="module">document.addEventListener("astro:page-load",()=>{const o=document.getElementById("footerBackToTop");o&&(o.onclick=()=>window.scrollTo({top:0,behavior:"smooth"}))});</script>   <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script> <script>(function(){const BUILD_VERSION = "mju4qqit";

        // Force cache refresh on new builds
        (function() {
            const storedVersion = localStorage.getItem('siteVersion');
            if (storedVersion !== BUILD_VERSION) {
                localStorage.setItem('siteVersion', BUILD_VERSION);
                // Clear all caches
                if ('caches' in window) {
                    caches.keys().then(names => {
                        names.forEach(name => caches.delete(name));
                    });
                }
                // Force reload only if there was a previous version (not first visit)
                if (storedVersion) {
                    // Use location.replace with cache-busting query
                    const url = new URL(window.location.href);
                    url.searchParams.set('_cb', BUILD_VERSION);
                    window.location.replace(url.toString());
                }
            }
        })();

        function initAOS() {
            if (typeof AOS !== 'undefined') {
                document.querySelectorAll('[data-aos]').forEach(el => {
                    el.classList.remove('aos-animate');
                });
                AOS.init({
                    duration: 800,
                    once: false,
                    offset: 50,
                    disable: false
                });
                setTimeout(() => {
                    AOS.refresh();
                    window.dispatchEvent(new Event('scroll'));
                }, 100);
            }
        }

        document.addEventListener('DOMContentLoaded', initAOS);
        document.addEventListener('astro:page-load', initAOS);
        document.addEventListener('astro:after-swap', initAOS);

        // ============================================
        // PREMIUM TOOLTIP SYSTEM - Global JavaScript
        // ============================================

        class PremiumTooltip {
            constructor() {
                this.tooltip = null;
                this.currentTarget = null;
                this.hideTimeout = null;
                this.showTimeout = null;
                this.init();
            }

            init() {
                this.createTooltipElement();
                this.bindEvents();
            }

            createTooltipElement() {
                // Remove existing tooltip if any
                const existing = document.getElementById('premium-tooltip-container');
                if (existing) existing.remove();

                this.tooltip = document.createElement('div');
                this.tooltip.id = 'premium-tooltip-container';
                this.tooltip.className = 'premium-tooltip';
                this.tooltip.innerHTML = `
                    <div class="tooltip-card">
                        <div class="tooltip-header">
                            <div class="tooltip-icon"><i class="fas fa-info"></i></div>
                            <div class="tooltip-title-block">
                                <h4 class="tooltip-title"></h4>
                                <span class="tooltip-category"></span>
                            </div>
                        </div>
                        <div class="tooltip-body">
                            <p class="tooltip-description"></p>
                        </div>
                        <div class="tooltip-features"></div>
                        <div class="tooltip-footer">
                            <span class="tooltip-hint"><i class="fas fa-mouse-pointer"></i> Click para interactuar</span>
                            <span class="tooltip-shortcut"></span>
                        </div>
                        <div class="tooltip-arrow"></div>
                    </div>
                `;
                document.body.appendChild(this.tooltip);
            }

            bindEvents() {
                // Use event delegation for better performance
                document.addEventListener('mouseenter', (e) => {
                    if (!e.target || typeof e.target.closest !== 'function') return; const target = e.target.closest('[data-premium-tooltip]');
                    if (target) this.handleMouseEnter(target);
                }, true);

                document.addEventListener('mouseleave', (e) => {
                    if (!e.target || typeof e.target.closest !== 'function') return; const target = e.target.closest('[data-premium-tooltip]');
                    if (target) this.handleMouseLeave();
                }, true);

                // Handle scroll and resize
                window.addEventListener('scroll', () => this.hide(), { passive: true });
                window.addEventListener('resize', () => this.hide(), { passive: true });

                // Re-init on View Transitions
                document.addEventListener('astro:page-load', () => this.createTooltipElement());
            }

            handleMouseEnter(target) {
                clearTimeout(this.hideTimeout);
                clearTimeout(this.showTimeout);

                this.currentTarget = target;

                // Small delay to prevent flickering on quick mouse movements
                this.showTimeout = setTimeout(() => {
                    this.show(target);
                }, 150);
            }

            handleMouseLeave() {
                clearTimeout(this.showTimeout);
                this.hideTimeout = setTimeout(() => this.hide(), 100);
            }

            show(target) {
                const data = this.parseTooltipData(target);
                if (!data.title && !data.description) return;

                this.updateContent(data);
                this.updateType(data.type);
                this.position(target);
                this.tooltip.classList.add('visible');
            }

            hide() {
                this.tooltip.classList.remove('visible');
                this.currentTarget = null;
            }

            parseTooltipData(target) {
                const raw = target.dataset.premiumTooltip;

                // Support both JSON format and simple string
                if (raw.startsWith('{')) {
                    try {
                        return JSON.parse(raw);
                    } catch (e) {
                        return { title: raw };
                    }
                }

                // Simple format: "title|description|features|type|icon|category"
                const parts = raw.split('|');
                return {
                    title: parts[0] || '',
                    description: parts[1] || '',
                    features: parts[2] ? parts[2].split(',') : [],
                    type: parts[3] || '',
                    icon: parts[4] || 'fa-info',
                    category: parts[5] || ''
                };
            }

            updateContent(data) {
                const card = this.tooltip.querySelector('.tooltip-card');
                const icon = this.tooltip.querySelector('.tooltip-icon i');
                const title = this.tooltip.querySelector('.tooltip-title');
                const category = this.tooltip.querySelector('.tooltip-category');
                const description = this.tooltip.querySelector('.tooltip-description');
                const features = this.tooltip.querySelector('.tooltip-features');
                const footer = this.tooltip.querySelector('.tooltip-footer');
                const shortcut = this.tooltip.querySelector('.tooltip-shortcut');

                // Icon
                icon.className = 'fas ' + (data.icon || 'fa-info');

                // Title
                title.textContent = data.title || '';

                // Category
                category.textContent = data.category || '';
                category.style.display = data.category ? 'block' : 'none';

                // Description
                description.textContent = data.description || '';
                description.parentElement.style.display = data.description ? 'block' : 'none';

                // Features
                if (data.features && data.features.length > 0) {
                    features.innerHTML = data.features.map(f =>
                        `<span class="tooltip-feature"><i class="fas fa-check"></i>${f.trim()}</span>`
                    ).join('');
                    features.style.display = 'flex';
                } else {
                    features.style.display = 'none';
                }

                // Shortcut
                if (data.shortcut) {
                    shortcut.innerHTML = data.shortcut.split('+').map(k =>
                        `<span class="tooltip-key">${k.trim()}</span>`
                    ).join('<span style="color:#64748b;font-size:0.6rem;">+</span>');
                    shortcut.style.display = 'flex';
                } else {
                    shortcut.style.display = 'none';
                }

                // Footer visibility
                footer.style.display = (data.shortcut || data.hint !== false) ? 'flex' : 'none';
            }

            updateType(type) {
                const card = this.tooltip.querySelector('.tooltip-card');
                card.className = 'tooltip-card';
                if (type) {
                    card.classList.add('type-' + type);
                }
            }

            position(target) {
                const rect = target.getBoundingClientRect();
                const tooltipRect = this.tooltip.getBoundingClientRect();
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                const margin = 12;

                // Remove all arrow classes
                this.tooltip.classList.remove('arrow-top', 'arrow-bottom', 'arrow-left', 'arrow-right');

                let top, left;

                // Default: position below
                top = rect.bottom + margin;
                left = rect.left + (rect.width / 2) - (tooltipRect.width / 2);

                // Check if tooltip goes below viewport
                if (top + tooltipRect.height > viewportHeight - margin) {
                    // Position above
                    top = rect.top - tooltipRect.height - margin;
                    this.tooltip.classList.add('arrow-bottom');
                } else {
                    this.tooltip.classList.add('arrow-top');
                }

                // Check horizontal bounds
                if (left < margin) {
                    left = margin;
                } else if (left + tooltipRect.width > viewportWidth - margin) {
                    left = viewportWidth - tooltipRect.width - margin;
                }

                // If still doesn't fit, try positioning to the side
                if (top < margin) {
                    top = rect.top + (rect.height / 2) - (tooltipRect.height / 2);
                    left = rect.right + margin;
                    this.tooltip.classList.remove('arrow-top', 'arrow-bottom');

                    if (left + tooltipRect.width > viewportWidth - margin) {
                        left = rect.left - tooltipRect.width - margin;
                        this.tooltip.classList.add('arrow-right');
                    } else {
                        this.tooltip.classList.add('arrow-left');
                    }
                }

                this.tooltip.style.top = top + 'px';
                this.tooltip.style.left = left + 'px';
            }
        }

        // Initialize tooltip system
        let tooltipSystem = null;

        function initTooltipSystem() {
            if (!tooltipSystem) {
                tooltipSystem = new PremiumTooltip();
            } else {
                tooltipSystem.createTooltipElement();
            }
        }

        document.addEventListener('DOMContentLoaded', initTooltipSystem);
        document.addEventListener('astro:page-load', initTooltipSystem);

        // ============================================
        // SCROLL PROGRESS BAR & SCROLL NAVIGATION (STATIC)
        // ============================================

        function initScrollFeatures() {
            const progressBar = document.getElementById('scroll-progress');
            const backToTopBtn = document.getElementById('back-to-top');
            const scrollToBottomBtn = document.getElementById('scroll-to-bottom');

            if (!progressBar) return;

            // Update progress bar and hide go-to-footer at bottom
            function updateScroll() {
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;

                // Update progress bar
                progressBar.style.width = scrollPercent + '%';

                // Hide go-to-footer button when at bottom (>= 95%)
                if (scrollToBottomBtn) {
                    if (scrollPercent >= 95) {
                        scrollToBottomBtn.classList.add('hidden');
                    } else {
                        scrollToBottomBtn.classList.remove('hidden');
                    }
                }
            }

            // Throttled scroll handler
            let ticking = false;
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        updateScroll();
                        ticking = false;
                    });
                    ticking = true;
                }
            }, { passive: true });

            // Back to top click - simple smooth scroll
            if (backToTopBtn) {
                backToTopBtn.onclick = () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                };
            }

            // Scroll to footer click - simple smooth scroll
            if (scrollToBottomBtn) {
                scrollToBottomBtn.onclick = () => {
                    const footer = document.querySelector('footer') || document.querySelector('.footer-compact');
                    const target = footer
                        ? footer.getBoundingClientRect().top + window.scrollY
                        : document.documentElement.scrollHeight;
                    window.scrollTo({ top: target, behavior: 'smooth' });
                };
            }

            // Initial update
            updateScroll();
        }

        document.addEventListener('DOMContentLoaded', initScrollFeatures);
        document.addEventListener('astro:page-load', initScrollFeatures);

        // ============================================
        // COMMAND PALETTE (⌘K / Ctrl+K)
        // ============================================

        const commandPaletteData = {
            pages: [
                { name: 'Inicio', url: '/Analista-Programador-Computacional-DuocUC/inicio', icon: 'fa-home', category: 'Páginas' },
                { name: 'Stack Tecnológico', url: '/Analista-Programador-Computacional-DuocUC/stack', icon: 'fa-layer-group', category: 'Páginas' },
                { name: 'Arquitectura', url: '/Analista-Programador-Computacional-DuocUC/arquitectura', icon: 'fa-sitemap', category: 'Páginas' },
                { name: 'Recursos', url: '/Analista-Programador-Computacional-DuocUC/recursos', icon: 'fa-tools', category: 'Páginas' },
                { name: 'Proyectos', url: '/Analista-Programador-Computacional-DuocUC/proyectos', icon: 'fa-project-diagram', category: 'Páginas' },
                { name: 'Trayectorias Profesionales', url: '/Analista-Programador-Computacional-DuocUC/trayectorias', icon: 'fa-route', category: 'Páginas' },
                { name: 'Portafolio', url: '/Analista-Programador-Computacional-DuocUC/portafolio', icon: 'fa-briefcase', category: 'Páginas' },
                { name: 'Laboratorios', url: '/Analista-Programador-Computacional-DuocUC/laboratorios', icon: 'fa-flask', category: 'Páginas' },
                { name: 'Comunidad', url: '/Analista-Programador-Computacional-DuocUC/comunidad', icon: 'fa-users', category: 'Páginas' }
            ],
            technologies: [
                { name: 'Python', url: 'https://python.org', icon: 'fa-python', category: 'Lenguajes' },
                { name: 'JavaScript', url: 'https://developer.mozilla.org/en-US/docs/Web/JavaScript', icon: 'fa-js', category: 'Lenguajes' },
                { name: 'TypeScript', url: 'https://typescriptlang.org', icon: 'fa-code', category: 'Lenguajes' },
                { name: 'Java', url: 'https://oracle.com/java', icon: 'fa-java', category: 'Lenguajes' },
                { name: 'React', url: 'https://react.dev', icon: 'fa-react', category: 'Frontend' },
                { name: 'Vue.js', url: 'https://vuejs.org', icon: 'fa-vuejs', category: 'Frontend' },
                { name: 'Angular', url: 'https://angular.io', icon: 'fa-angular', category: 'Frontend' },
                { name: 'Node.js', url: 'https://nodejs.org', icon: 'fa-node-js', category: 'Backend' },
                { name: 'Spring Boot', url: 'https://spring.io/projects/spring-boot', icon: 'fa-leaf', category: 'Backend' },
                { name: 'PostgreSQL', url: 'https://postgresql.org', icon: 'fa-database', category: 'Databases' },
                { name: 'MongoDB', url: 'https://mongodb.com', icon: 'fa-database', category: 'Databases' },
                { name: 'Docker', url: 'https://docker.com', icon: 'fa-docker', category: 'DevOps' },
                { name: 'Kubernetes', url: 'https://kubernetes.io', icon: 'fa-dharmachakra', category: 'DevOps' },
                { name: 'AWS', url: 'https://aws.amazon.com', icon: 'fa-aws', category: 'Cloud' },
                { name: 'Azure', url: 'https://azure.microsoft.com', icon: 'fa-microsoft', category: 'Cloud' },
                { name: 'Apache Spark', url: 'https://spark.apache.org', icon: 'fa-bolt', category: 'Data' },
                { name: 'Apache Airflow', url: 'https://airflow.apache.org', icon: 'fa-wind', category: 'Data' },
                { name: 'Snowflake', url: 'https://snowflake.com', icon: 'fa-snowflake', category: 'Data' },
                { name: 'Power BI', url: 'https://powerbi.microsoft.com', icon: 'fa-chart-bar', category: 'Data' }
            ],
            actions: [
                { name: 'Cambiar tema', action: 'toggle-theme', icon: 'fa-adjust', category: 'Acciones' },
                { name: 'Ir a GitHub', url: 'https://github.com/fos-duoc/Analista-Programador-Computacional-DuocUC', icon: 'fa-github', category: 'Enlaces' },
                { name: 'Volver arriba', action: 'scroll-top', icon: 'fa-arrow-up', category: 'Acciones' }
            ]
        };

        function initCommandPalette() {
            const palette = document.getElementById('command-palette');
            const overlay = palette?.querySelector('.command-palette-overlay');
            const searchInput = document.getElementById('command-search');
            const resultsContainer = document.getElementById('command-results');

            if (!palette || !searchInput || !resultsContainer) return;

            let selectedIndex = 0;
            let currentResults = [];

            // Open palette with Cmd/Ctrl + K
            document.addEventListener('keydown', (e) => {
                if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                    e.preventDefault();
                    openPalette();
                }

                // Close with Escape
                if (e.key === 'Escape' && palette.classList.contains('open')) {
                    closePalette();
                }

                // Navigate with arrows
                if (palette.classList.contains('open')) {
                    if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        selectedIndex = Math.min(selectedIndex + 1, currentResults.length - 1);
                        updateSelection();
                    }
                    if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        selectedIndex = Math.max(selectedIndex - 1, 0);
                        updateSelection();
                    }
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        selectCurrent();
                    }
                }
            });

            // Close on overlay click
            overlay?.addEventListener('click', closePalette);

            // Search input handler
            searchInput.addEventListener('input', () => {
                const query = searchInput.value.toLowerCase().trim();
                selectedIndex = 0;
                renderResults(search(query));
            });

            function openPalette() {
                palette.classList.add('open');
                searchInput.value = '';
                searchInput.focus();
                selectedIndex = 0;
                renderResults(getDefaultResults());
                document.body.style.overflow = 'hidden';
            }

            function closePalette() {
                palette.classList.remove('open');
                document.body.style.overflow = '';
            }

            function search(query) {
                if (!query) return getDefaultResults();

                const allItems = [
                    ...commandPaletteData.pages,
                    ...commandPaletteData.technologies,
                    ...commandPaletteData.actions
                ];

                return allItems.filter(item =>
                    item.name.toLowerCase().includes(query) ||
                    item.category.toLowerCase().includes(query)
                ).slice(0, 10);
            }

            function getDefaultResults() {
                return [
                    ...commandPaletteData.pages.slice(0, 5),
                    ...commandPaletteData.actions
                ];
            }

            function renderResults(results) {
                currentResults = results;
                if (results.length === 0) {
                    resultsContainer.innerHTML = `
                        <div class="command-no-results">
                            <i class="fas fa-search"></i>
                            <p>No se encontraron resultados</p>
                        </div>
                    `;
                    return;
                }

                // Group by category
                const grouped = {};
                results.forEach(item => {
                    if (!grouped[item.category]) grouped[item.category] = [];
                    grouped[item.category].push(item);
                });

                let html = '';
                for (const [category, items] of Object.entries(grouped)) {
                    html += `<div class="command-group">
                        <div class="command-group-label">${category}</div>
                        ${items.map((item, idx) => {
                            const globalIndex = results.indexOf(item);
                            return `
                                <div class="command-item ${globalIndex === selectedIndex ? 'selected' : ''}"
                                     data-index="${globalIndex}" data-url="${item.url || ''}" data-action="${item.action || ''}">
                                    <i class="fab ${item.icon} command-item-icon"></i>
                                    <span class="command-item-name">${item.name}</span>
                                    ${item.url?.startsWith('http') ? '<i class="fas fa-external-link-alt command-external"></i>' : ''}
                                </div>
                            `;
                        }).join('')}
                    </div>`;
                }
                resultsContainer.innerHTML = html;

                // Add click handlers
                resultsContainer.querySelectorAll('.command-item').forEach(item => {
                    item.addEventListener('click', () => {
                        selectedIndex = parseInt(item.dataset.index);
                        selectCurrent();
                    });
                    item.addEventListener('mouseenter', () => {
                        selectedIndex = parseInt(item.dataset.index);
                        updateSelection();
                    });
                });
            }

            function updateSelection() {
                resultsContainer.querySelectorAll('.command-item').forEach((item, idx) => {
                    item.classList.toggle('selected', parseInt(item.dataset.index) === selectedIndex);
                });
            }

            function selectCurrent() {
                const item = currentResults[selectedIndex];
                if (!item) return;

                if (item.action) {
                    executeAction(item.action);
                } else if (item.url) {
                    if (item.url.startsWith('http')) {
                        window.open(item.url, '_blank');
                    } else {
                        window.location.href = item.url;
                    }
                }
                closePalette();
            }

            function executeAction(action) {
                switch (action) {
                    case 'toggle-theme':
                        if (typeof toggleTheme === 'function') toggleTheme();
                        break;
                    case 'scroll-top':
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                        break;
                }
            }
        }

        document.addEventListener('DOMContentLoaded', initCommandPalette);
        document.addEventListener('astro:page-load', initCommandPalette);

        // ============================================
        // TOAST NOTIFICATION SYSTEM
        // ============================================

        class ToastNotification {
            constructor() {
                this.container = document.getElementById('toast-container');
                this.toasts = [];
                this.maxToasts = 5;
            }

            show(message, type = 'info', duration = 4000, options = {}) {
                if (!this.container) return;

                // Remove oldest toast if at max
                if (this.toasts.length >= this.maxToasts) {
                    this.removeToast(this.toasts[0]);
                }

                const toast = document.createElement('div');
                toast.className = `toast toast-${type}`;

                const icons = {
                    success: 'fa-check-circle',
                    error: 'fa-exclamation-circle',
                    warning: 'fa-exclamation-triangle',
                    info: 'fa-info-circle'
                };

                toast.innerHTML = `
                    <div class="toast-icon">
                        <i class="fas ${icons[type] || icons.info}"></i>
                    </div>
                    <div class="toast-content">
                        ${options.title ? `<div class="toast-title">${options.title}</div>` : ''}
                        <div class="toast-message">${message}</div>
                    </div>
                    <button class="toast-close" aria-label="Cerrar">
                        <i class="fas fa-times"></i>
                    </button>
                    <div class="toast-progress">
                        <div class="toast-progress-bar" style="animation-duration: ${duration}ms"></div>
                    </div>
                `;

                // Add close button handler
                toast.querySelector('.toast-close').onclick = () => this.removeToast(toast);

                // Add to container and track
                this.container.appendChild(toast);
                this.toasts.push(toast);

                // Trigger animation
                requestAnimationFrame(() => toast.classList.add('show'));

                // Auto remove after duration
                if (duration > 0) {
                    setTimeout(() => this.removeToast(toast), duration);
                }

                return toast;
            }

            removeToast(toast) {
                if (!toast || !toast.parentNode) return;

                toast.classList.add('hide');
                setTimeout(() => {
                    toast.remove();
                    this.toasts = this.toasts.filter(t => t !== toast);
                }, 300);
            }

            success(message, options = {}) {
                return this.show(message, 'success', options.duration || 4000, options);
            }

            error(message, options = {}) {
                return this.show(message, 'error', options.duration || 6000, options);
            }

            warning(message, options = {}) {
                return this.show(message, 'warning', options.duration || 5000, options);
            }

            info(message, options = {}) {
                return this.show(message, 'info', options.duration || 4000, options);
            }

            clear() {
                this.toasts.forEach(toast => this.removeToast(toast));
            }
        }

        // Create global toast instance
        window.toast = new ToastNotification();

        // Example usage - show welcome toast on page load (optional)
        // Uncomment to test:
        // document.addEventListener('astro:page-load', () => {
        //     setTimeout(() => {
        //         window.toast.success('¡Bienvenido al sitio!', { title: 'Navegación' });
        //     }, 1000);
        // });
    })();</script> </body> </html>  <script>
document.addEventListener('DOMContentLoaded', initResourcesLayout);
document.addEventListener('astro:page-load', initResourcesLayout);

function initResourcesLayout() {
    const sidebar = document.getElementById('resources-sidebar');
    const quickBtns = document.querySelectorAll('.quick-btn');

    // Quick scroll buttons
    quickBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const direction = btn.dataset.scroll;
            if (direction === 'top') {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else if (direction === 'bottom') {
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            }
        });
    });

    // Mobile sidebar toggle
    const mobileToggle = document.querySelector('.mobile-sidebar-toggle');
    const overlay = document.querySelector('.sidebar-overlay');

    mobileToggle?.addEventListener('click', () => {
        sidebar?.classList.toggle('open');
        overlay?.classList.toggle('active');
    });

    overlay?.addEventListener('click', () => {
        sidebar?.classList.remove('open');
        overlay?.classList.remove('active');
    });

    // Close sidebar on Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && sidebar?.classList.contains('open')) {
            sidebar.classList.remove('open');
            overlay?.classList.remove('active');
        }
    });
}
</script> <!-- Mobile Sidebar Toggle Button --> <button class="mobile-sidebar-toggle" aria-label="Abrir navegación" data-astro-cid-vygbcpwr> <i class="fas fa-layer-group" data-astro-cid-vygbcpwr></i> </button> <!-- Sidebar Overlay for Mobile --> <div class="sidebar-overlay" data-astro-cid-vygbcpwr></div>  