---
// Data Pipeline Section - Real-time and Batch processing views
---

<section id="pipeline" class="pipeline-section">
    <!-- Premium Header -->
    <div class="pipeline-hero-header" data-aos="fade-up">
        <div class="pipeline-title-wrap">
            <div class="pipeline-icon-glow">
                <i class="fas fa-project-diagram"></i>
            </div>
            <div class="pipeline-title-content">
                <h2 class="pipeline-main-title">Data Pipeline <span class="gradient-text">End-to-End</span></h2>
                <p class="pipeline-tagline">Arquitectura moderna de flujo de datos en tiempo real y batch</p>
            </div>
        </div>
        <!-- Mode Selector Buttons -->
        <div class="pipeline-mode-selector">
            <button class="mode-btn active" data-mode="realtime" id="btn-realtime">
                <i class="fas fa-bolt"></i>
                <span>Real-time Streaming</span>
                <small>Latencia &lt; 1s</small>
            </button>
            <button class="mode-btn" data-mode="batch" id="btn-batch">
                <i class="fas fa-layer-group"></i>
                <span>Batch Processing</span>
                <small>Alto volumen</small>
            </button>
            <button class="mode-btn" data-mode="architecture" id="btn-architecture">
                <i class="fas fa-stream"></i>
                <span>Pipeline Architecture</span>
                <small>E2E Diagram</small>
            </button>
            <button class="mode-btn" data-mode="governance" id="btn-governance">
                <i class="fas fa-shield-alt"></i>
                <span>Data Governance</span>
                <small>Framework</small>
            </button>
        </div>
    </div>

    <!-- Pipeline Diagrams Container -->
    <div class="pipeline-container" data-aos="fade-up" data-aos-delay="100">

        <!-- ==================== REAL-TIME STREAMING PIPELINE ==================== -->
        <div id="pipeline-realtime" class="pipeline-diagram-premium pipeline-mode active">
            <!-- Pipeline Header -->
            <div class="pipeline-mode-header realtime">
                <div class="mode-indicator">
                    <i class="fas fa-bolt"></i>
                    <span>Real-time Streaming Pipeline</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-clock"></i> Latencia: &lt;1s</span>
                    <span class="stat-pill"><i class="fas fa-tachometer-alt"></i> 100K+ events/s</span>
                    <span class="stat-pill"><i class="fas fa-sync"></i> 24/7 Continuous</span>
                </div>
            </div>

            <!-- Animated Connection Line -->
            <div class="pipeline-connection-line realtime-line">
                <div class="data-flow-animation fast"></div>
            </div>

            <!-- Pipeline Stages -->
            <div class="pipeline-stages-grid">
                <!-- Stage 1: Ingest -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">01</div>
                    <div class="stage-icon-premium extract">
                        <i class="fas fa-satellite-dish"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Ingest</h4>
                        <p class="stage-desc">Event Streaming</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://kafka.apache.org/" target="_blank" class="tech-mini"><i class="devicon-apachekafka-original"></i> Kafka</a>
                        <a href="https://aws.amazon.com/kinesis/" target="_blank" class="tech-mini"><i class="devicon-amazonwebservices-plain-wordmark"></i> Kinesis</a>
                        <a href="https://pulsar.apache.org/" target="_blank" class="tech-mini"><i class="fas fa-meteor"></i> Pulsar</a>
                        <a href="https://www.rabbitmq.com/" target="_blank" class="tech-mini"><i class="fas fa-rabbit"></i> RabbitMQ</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 2: Process -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">02</div>
                    <div class="stage-icon-premium transform">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Process</h4>
                        <p class="stage-desc">Stream Processing</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://flink.apache.org/" target="_blank" class="tech-mini"><i class="fas fa-water"></i> Flink</a>
                        <a href="https://spark.apache.org/streaming/" target="_blank" class="tech-mini"><i class="devicon-apachespark-original colored"></i> Spark</a>
                        <a href="https://kafka.apache.org/documentation/streams/" target="_blank" class="tech-mini"><i class="devicon-apachekafka-original"></i> Streams</a>
                        <a href="https://storm.apache.org/" target="_blank" class="tech-mini"><i class="fas fa-wind"></i> Storm</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 3: Store -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">03</div>
                    <div class="stage-icon-premium load">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Store</h4>
                        <p class="stage-desc">Real-time Storage</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://redis.io/" target="_blank" class="tech-mini"><i class="devicon-redis-plain colored"></i> Redis</a>
                        <a href="https://www.elastic.co/" target="_blank" class="tech-mini"><i class="devicon-elasticsearch-plain colored"></i> Elastic</a>
                        <a href="https://cassandra.apache.org/" target="_blank" class="tech-mini"><i class="fas fa-eye"></i> Cassandra</a>
                        <a href="https://clickhouse.com/" target="_blank" class="tech-mini"><i class="fas fa-mouse-pointer"></i> ClickHouse</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 4: Serve -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">04</div>
                    <div class="stage-icon-premium serve">
                        <i class="fas fa-desktop"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Serve</h4>
                        <p class="stage-desc">Real-time Dashboards</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://grafana.com/" target="_blank" class="tech-mini"><i class="devicon-grafana-original colored"></i> Grafana</a>
                        <a href="https://www.elastic.co/kibana" target="_blank" class="tech-mini"><i class="fas fa-chart-line"></i> Kibana</a>
                        <a href="https://superset.apache.org/" target="_blank" class="tech-mini"><i class="fas fa-tachometer-alt"></i> Superset</a>
                        <a href="https://socket.io/" target="_blank" class="tech-mini"><i class="fas fa-plug"></i> WebSockets</a>
                    </div>
                </div>
            </div>

            <!-- Orchestration Layer for Real-time -->
            <div class="pipeline-layers">
                <div class="layer-card orchestration">
                    <div class="layer-icon"><i class="fas fa-network-wired"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">EVENT BROKER</span>
                        <span class="layer-name">Apache Kafka</span>
                    </div>
                    <div class="layer-status running">
                        <span class="status-indicator"></span>
                        <span>Streaming</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-server"></i> 12 Brokers</span>
                        <span class="extra-badge"><i class="fas fa-layer-group"></i> 50 Topics</span>
                    </div>
                </div>
                <div class="layer-card quality">
                    <div class="layer-icon"><i class="fas fa-shield-alt"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">SCHEMA REGISTRY</span>
                        <span class="layer-name">Confluent</span>
                    </div>
                    <div class="layer-status healthy">
                        <span class="status-indicator"></span>
                        <span>Validating</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-file-code"></i> Avro/Proto</span>
                        <span class="extra-badge"><i class="fas fa-history"></i> Versioned</span>
                    </div>
                </div>
                <div class="layer-card observability">
                    <div class="layer-icon"><i class="fas fa-heartbeat"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">MONITORING</span>
                        <span class="layer-name">Prometheus + Grafana</span>
                    </div>
                    <div class="layer-status monitoring">
                        <span class="status-indicator"></span>
                        <span>Live Metrics</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-bell"></i> Alerting</span>
                        <span class="extra-badge"><i class="fas fa-chart-area"></i> Dashboards</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== BATCH PROCESSING PIPELINE ==================== -->
        <div id="pipeline-batch" class="pipeline-diagram-premium pipeline-mode">
            <!-- Pipeline Header -->
            <div class="pipeline-mode-header batch">
                <div class="mode-indicator">
                    <i class="fas fa-layer-group"></i>
                    <span>Batch Processing Pipeline</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-database"></i> Petabytes</span>
                    <span class="stat-pill"><i class="fas fa-calendar-alt"></i> Daily/Hourly</span>
                    <span class="stat-pill"><i class="fas fa-check-double"></i> ACID Compliant</span>
                </div>
            </div>

            <!-- Animated Connection Line -->
            <div class="pipeline-connection-line batch-line">
                <div class="data-flow-animation"></div>
            </div>

            <!-- Pipeline Stages -->
            <div class="pipeline-stages-grid">
                <!-- Stage 1: Extract -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">01</div>
                    <div class="stage-icon-premium extract">
                        <i class="fas fa-file-import"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Extract</h4>
                        <p class="stage-desc">Data Sources</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://www.postgresql.org/" target="_blank" class="tech-mini"><i class="devicon-postgresql-plain colored"></i> PostgreSQL</a>
                        <a href="https://aws.amazon.com/s3/" target="_blank" class="tech-mini"><i class="devicon-amazonwebservices-plain-wordmark"></i> S3/GCS</a>
                        <a href="https://www.snowflake.com/" target="_blank" class="tech-mini"><i class="fas fa-snowflake"></i> APIs</a>
                        <a href="https://www.fivetran.com/" target="_blank" class="tech-mini"><i class="fas fa-plug"></i> Fivetran</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 2: Transform -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">02</div>
                    <div class="stage-icon-premium transform">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Transform</h4>
                        <p class="stage-desc">ETL / ELT</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://spark.apache.org/" target="_blank" class="tech-mini"><i class="devicon-apachespark-original colored"></i> Spark</a>
                        <a href="https://www.getdbt.com/" target="_blank" class="tech-mini"><i class="fas fa-code-branch"></i> dbt</a>
                        <a href="https://www.python.org/" target="_blank" class="tech-mini"><i class="devicon-python-plain colored"></i> Python</a>
                        <a href="https://pandas.pydata.org/" target="_blank" class="tech-mini"><i class="fas fa-table"></i> Pandas</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 3: Load -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">03</div>
                    <div class="stage-icon-premium load">
                        <i class="fas fa-warehouse"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Load</h4>
                        <p class="stage-desc">Data Warehouse</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://www.snowflake.com/" target="_blank" class="tech-mini"><i class="fas fa-snowflake"></i> Snowflake</a>
                        <a href="https://www.databricks.com/" target="_blank" class="tech-mini"><i class="fas fa-cubes"></i> Databricks</a>
                        <a href="https://cloud.google.com/bigquery" target="_blank" class="tech-mini"><i class="devicon-googlecloud-plain colored"></i> BigQuery</a>
                        <a href="https://aws.amazon.com/redshift/" target="_blank" class="tech-mini"><i class="devicon-amazonwebservices-plain-wordmark"></i> Redshift</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 4: Analyze -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">04</div>
                    <div class="stage-icon-premium serve">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Analyze</h4>
                        <p class="stage-desc">BI & Analytics</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://powerbi.microsoft.com/" target="_blank" class="tech-mini"><i class="fas fa-chart-pie"></i> Power BI</a>
                        <a href="https://www.tableau.com/" target="_blank" class="tech-mini"><i class="fas fa-chart-area"></i> Tableau</a>
                        <a href="https://looker.com/" target="_blank" class="tech-mini"><i class="fas fa-eye"></i> Looker</a>
                        <a href="https://metabase.com/" target="_blank" class="tech-mini"><i class="fas fa-chart-bar"></i> Metabase</a>
                    </div>
                </div>
            </div>

            <!-- Orchestration Layer for Batch -->
            <div class="pipeline-layers">
                <div class="layer-card orchestration">
                    <div class="layer-icon"><i class="devicon-apacheairflow-plain"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">ORCHESTRATION</span>
                        <span class="layer-name">Apache Airflow</span>
                    </div>
                    <div class="layer-status running">
                        <span class="status-indicator"></span>
                        <span>DAG Active</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-clock"></i> Cron: 0 6 * * *</span>
                        <span class="extra-badge"><i class="fas fa-redo"></i> Retries: 3</span>
                    </div>
                </div>
                <div class="layer-card quality">
                    <div class="layer-icon"><i class="fas fa-shield-alt"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">DATA QUALITY</span>
                        <span class="layer-name">Great Expectations</span>
                    </div>
                    <div class="layer-status healthy">
                        <span class="status-indicator"></span>
                        <span>Tests Passing</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-check-circle"></i> 47 Expectations</span>
                        <span class="extra-badge"><i class="fas fa-percentage"></i> 99.8% Pass</span>
                    </div>
                </div>
                <div class="layer-card observability">
                    <div class="layer-icon"><i class="fas fa-eye"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">DATA CATALOG</span>
                        <span class="layer-name">DataHub / Atlan</span>
                    </div>
                    <div class="layer-status monitoring">
                        <span class="status-indicator"></span>
                        <span>Cataloging</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-table"></i> 156 Tables</span>
                        <span class="extra-badge"><i class="fas fa-sitemap"></i> Lineage</span>
                    </div>
                </div>
            </div>

            <!-- Airflow DAG Code -->
            <div class="dag-code-container glass-card">
                <div class="code-header">
                    <div class="code-file">
                        <i class="devicon-python-plain colored"></i>
                        <span>etl_dag.py</span>
                    </div>
                    <div class="code-badges">
                        <span class="code-badge airflow"><i class="devicon-apacheairflow-plain"></i> Airflow 2.x</span>
                        <span class="code-badge python"><i class="devicon-python-plain"></i> Python 3.11</span>
                    </div>
                </div>
                <div class="code-block">
                    <pre><code class="language-python"><span class="code-comment"># etl_dag.py - Pipeline de datos completo</span>
<span class="code-keyword">from</span> airflow <span class="code-keyword">import</span> DAG
<span class="code-keyword">from</span> airflow.operators.python <span class="code-keyword">import</span> PythonOperator
<span class="code-keyword">from</span> airflow.providers.postgres.operators.postgres <span class="code-keyword">import</span> PostgresOperator
<span class="code-keyword">from</span> datetime <span class="code-keyword">import</span> datetime, timedelta

<span class="code-comment"># Configuración del DAG</span>
default_args = &#123;
    <span class="code-string">'owner'</span>: <span class="code-string">'data-team'</span>,
    <span class="code-string">'depends_on_past'</span>: <span class="code-keyword">False</span>,
    <span class="code-string">'start_date'</span>: datetime(<span class="code-number">2025</span>, <span class="code-number">1</span>, <span class="code-number">1</span>),
    <span class="code-string">'retries'</span>: <span class="code-number">3</span>,
    <span class="code-string">'retry_delay'</span>: timedelta(minutes=<span class="code-number">5</span>),
&#125;

<span class="code-keyword">with</span> DAG(
    <span class="code-string">'etl_pipeline_prod'</span>,
    default_args=default_args,
    schedule_interval=<span class="code-string">'0 6 * * *'</span>,  <span class="code-comment"># Diario a las 6 AM</span>
    catchup=<span class="code-keyword">False</span>,
    tags=[<span class="code-string">'etl'</span>, <span class="code-string">'production'</span>]
) <span class="code-keyword">as</span> dag:

    <span class="code-comment"># Task 1: Extraer datos desde API</span>
    extract = PythonOperator(
        task_id=<span class="code-string">'extract_from_api'</span>,
        python_callable=extract_data
    )

    <span class="code-comment"># Task 2: Transformar con Spark</span>
    transform = PythonOperator(
        task_id=<span class="code-string">'transform_spark'</span>,
        python_callable=spark_transform
    )

    <span class="code-comment"># Task 3: Cargar a Data Warehouse</span>
    load = PostgresOperator(
        task_id=<span class="code-string">'load_to_warehouse'</span>,
        postgres_conn_id=<span class="code-string">'warehouse_conn'</span>,
        sql=<span class="code-string">'sql/load_facts.sql'</span>
    )

    <span class="code-comment"># Definir dependencias</span>
    extract >> transform >> load</code></pre>
                </div>
                <div class="code-footer">
                    <span class="code-meta"><i class="fas fa-clock"></i> Schedule: Daily 6:00 AM</span>
                    <span class="code-meta"><i class="fas fa-tags"></i> Tags: etl, production</span>
                </div>
            </div>
        </div>

        <!-- ==================== ARCHITECTURE DIAGRAM ==================== -->
        <div id="pipeline-architecture" class="pipeline-diagram-premium pipeline-mode">
            <!-- Premium Architecture Diagram -->
            <div class="arch-diagram-premium glass-card">
                <!-- Header with Live Status -->
                <div class="arch-premium-header">
                    <div class="arch-title-section">
                        <div class="arch-icon-animated">
                            <i class="fas fa-project-diagram"></i>
                            <div class="pulse-ring"></div>
                        </div>
                        <div class="arch-title-text">
                            <h3>Modern Data Platform Architecture</h3>
                            <span class="arch-subtitle">Enterprise-Grade End-to-End Data Flow</span>
                        </div>
                    </div>
                    <div class="arch-live-status">
                        <div class="live-indicator">
                            <span class="live-dot"></span>
                            <span>LIVE</span>
                        </div>
                        <div class="arch-metrics-mini">
                            <span><i class="fas fa-tachometer-alt"></i> 2.4M events/min</span>
                            <span><i class="fas fa-clock"></i> 99.9% uptime</span>
                        </div>
                    </div>
                </div>

                <!-- Main Architecture Flow -->
                <div class="arch-flow-container">
                    <!-- Layer 1: Data Sources -->
                    <div class="arch-layer sources">
                        <div class="layer-header-premium">
                            <div class="layer-number">01</div>
                            <div class="layer-title">
                                <i class="fas fa-database"></i>
                                <span>DATA SOURCES</span>
                            </div>
                            <div class="layer-throughput">
                                <i class="fas fa-arrow-up"></i> 500K/s
                            </div>
                        </div>
                        <div class="source-cards-grid">
                            <a href="https://www.salesforce.com/" target="_blank" class="source-card-premium saas">
                                <div class="source-icon"><i class="fab fa-salesforce"></i></div>
                                <div class="source-info">
                                    <span class="source-name">SaaS Apps</span>
                                    <span class="source-detail">Salesforce, HubSpot</span>
                                </div>
                                <div class="source-rate">12K/min</div>
                            </a>
                            <a href="https://www.postgresql.org/" target="_blank" class="source-card-premium oltp">
                                <div class="source-icon"><i class="devicon-postgresql-plain colored"></i></div>
                                <div class="source-info">
                                    <span class="source-name">OLTP DBs</span>
                                    <span class="source-detail">PostgreSQL, MySQL</span>
                                </div>
                                <div class="source-rate">45K/min</div>
                            </a>
                            <a href="https://kafka.apache.org/" target="_blank" class="source-card-premium events">
                                <div class="source-icon"><i class="devicon-apachekafka-original"></i></div>
                                <div class="source-info">
                                    <span class="source-name">Event Streams</span>
                                    <span class="source-detail">Kafka, Kinesis</span>
                                </div>
                                <div class="source-rate">2.1M/min</div>
                            </a>
                            <a href="https://aws.amazon.com/s3/" target="_blank" class="source-card-premium files">
                                <div class="source-icon"><i class="fas fa-file-alt"></i></div>
                                <div class="source-info">
                                    <span class="source-name">File Storage</span>
                                    <span class="source-detail">S3, GCS, ADLS</span>
                                </div>
                                <div class="source-rate">8TB/day</div>
                            </a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>INGESTION</span>
                        </div>
                    </div>

                    <!-- Layer 2: Ingestion -->
                    <div class="arch-layer ingestion">
                        <div class="layer-header-premium">
                            <div class="layer-number">02</div>
                            <div class="layer-title">
                                <i class="fas fa-download"></i>
                                <span>INGESTION LAYER</span>
                            </div>
                        </div>
                        <div class="ingestion-tools-premium">
                            <a href="https://kafka.apache.org/" target="_blank" class="ingestion-tool streaming">
                                <div class="tool-icon-wrap"><i class="devicon-apachekafka-original"></i></div>
                                <div class="tool-name">Kafka Connect</div>
                                <div class="tool-type">Streaming</div>
                                <div class="tool-latency"><i class="fas fa-bolt"></i> &lt;10ms</div>
                            </a>
                            <a href="https://www.fivetran.com/" target="_blank" class="ingestion-tool batch">
                                <div class="tool-icon-wrap"><i class="fas fa-plug"></i></div>
                                <div class="tool-name">Fivetran</div>
                                <div class="tool-type">CDC/Batch</div>
                                <div class="tool-latency"><i class="fas fa-clock"></i> 5min</div>
                            </a>
                            <a href="https://airbyte.com/" target="_blank" class="ingestion-tool hybrid">
                                <div class="tool-icon-wrap"><i class="fas fa-sync-alt"></i></div>
                                <div class="tool-name">Airbyte</div>
                                <div class="tool-type">EL Tool</div>
                                <div class="tool-latency"><i class="fas fa-clock"></i> Custom</div>
                            </a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated delay-1"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>RAW DATA</span>
                        </div>
                    </div>

                    <!-- Layer 3: Lakehouse -->
                    <div class="arch-layer lakehouse">
                        <div class="layer-header-premium">
                            <div class="layer-number">03</div>
                            <div class="layer-title">
                                <i class="fas fa-water"></i>
                                <span>LAKEHOUSE</span>
                            </div>
                            <div class="layer-storage">
                                <i class="fas fa-hdd"></i> 45 PB
                            </div>
                        </div>
                        <div class="medallion-architecture">
                            <div class="medallion-zone bronze">
                                <div class="zone-glow"></div>
                                <div class="zone-content">
                                    <div class="zone-icon"><i class="fas fa-file-import"></i></div>
                                    <div class="zone-label">BRONZE</div>
                                    <div class="zone-desc">Raw Landing</div>
                                    <div class="zone-stats">
                                        <span><i class="fas fa-table"></i> 1,240</span>
                                        <span><i class="fas fa-database"></i> 12TB</span>
                                    </div>
                                </div>
                            </div>
                            <div class="zone-flow">
                                <div class="flow-particles">
                                    <span></span><span></span><span></span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <div class="medallion-zone silver">
                                <div class="zone-glow"></div>
                                <div class="zone-content">
                                    <div class="zone-icon"><i class="fas fa-broom"></i></div>
                                    <div class="zone-label">SILVER</div>
                                    <div class="zone-desc">Cleaned & Validated</div>
                                    <div class="zone-stats">
                                        <span><i class="fas fa-table"></i> 890</span>
                                        <span><i class="fas fa-database"></i> 8TB</span>
                                    </div>
                                </div>
                            </div>
                            <div class="zone-flow">
                                <div class="flow-particles">
                                    <span></span><span></span><span></span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <div class="medallion-zone gold">
                                <div class="zone-glow"></div>
                                <div class="zone-content">
                                    <div class="zone-icon"><i class="fas fa-gem"></i></div>
                                    <div class="zone-label">GOLD</div>
                                    <div class="zone-desc">Business Ready</div>
                                    <div class="zone-stats">
                                        <span><i class="fas fa-table"></i> 156</span>
                                        <span><i class="fas fa-database"></i> 2TB</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="lakehouse-tech-row">
                            <a href="https://delta.io/" target="_blank" class="lake-tech-chip"><i class="fas fa-layer-group"></i> Delta Lake</a>
                            <a href="https://iceberg.apache.org/" target="_blank" class="lake-tech-chip"><i class="fas fa-cubes"></i> Iceberg</a>
                            <a href="https://aws.amazon.com/s3/" target="_blank" class="lake-tech-chip"><i class="devicon-amazonwebservices-plain-wordmark"></i> S3</a>
                            <a href="https://hudi.apache.org/" target="_blank" class="lake-tech-chip"><i class="fas fa-bolt"></i> Hudi</a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated delay-2"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>TRANSFORM</span>
                        </div>
                    </div>

                    <!-- Layer 4: Processing -->
                    <div class="arch-layer processing">
                        <div class="layer-header-premium">
                            <div class="layer-number">04</div>
                            <div class="layer-title">
                                <i class="fas fa-cogs"></i>
                                <span>PROCESSING</span>
                            </div>
                        </div>
                        <div class="processing-engines-premium">
                            <a href="https://spark.apache.org/" target="_blank" class="engine-card-premium">
                                <div class="engine-icon"><i class="devicon-apachespark-original colored"></i></div>
                                <div class="engine-name">Apache Spark</div>
                                <div class="engine-use">Distributed ETL</div>
                                <div class="engine-metric"><i class="fas fa-microchip"></i> 500 cores</div>
                            </a>
                            <a href="https://www.getdbt.com/" target="_blank" class="engine-card-premium">
                                <div class="engine-icon"><i class="fas fa-code-branch"></i></div>
                                <div class="engine-name">dbt Core</div>
                                <div class="engine-use">SQL Transforms</div>
                                <div class="engine-metric"><i class="fas fa-cube"></i> 340 models</div>
                            </a>
                            <a href="https://flink.apache.org/" target="_blank" class="engine-card-premium">
                                <div class="engine-icon"><i class="fas fa-water"></i></div>
                                <div class="engine-name">Apache Flink</div>
                                <div class="engine-use">Stream Processing</div>
                                <div class="engine-metric"><i class="fas fa-bolt"></i> Real-time</div>
                            </a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated delay-3"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>SERVE</span>
                        </div>
                    </div>

                    <!-- Layer 5: Serving -->
                    <div class="arch-layer serving">
                        <div class="layer-header-premium">
                            <div class="layer-number">05</div>
                            <div class="layer-title">
                                <i class="fas fa-chart-line"></i>
                                <span>DATA PRODUCTS</span>
                            </div>
                        </div>
                        <div class="serving-grid-premium">
                            <a href="https://www.snowflake.com/" target="_blank" class="serving-card warehouse">
                                <i class="fas fa-snowflake"></i>
                                <span>Snowflake</span>
                                <small>Cloud DW</small>
                            </a>
                            <a href="https://powerbi.microsoft.com/" target="_blank" class="serving-card bi">
                                <i class="fas fa-chart-pie"></i>
                                <span>Power BI</span>
                                <small>Dashboards</small>
                            </a>
                            <a href="https://grafana.com/" target="_blank" class="serving-card monitoring">
                                <i class="devicon-grafana-original colored"></i>
                                <span>Grafana</span>
                                <small>Monitoring</small>
                            </a>
                            <a href="https://www.tensorflow.org/" target="_blank" class="serving-card ml">
                                <i class="fas fa-brain"></i>
                                <span>ML Models</span>
                                <small>Predictions</small>
                            </a>
                            <a href="https://fastapi.tiangolo.com/" target="_blank" class="serving-card api">
                                <i class="fas fa-plug"></i>
                                <span>APIs</span>
                                <small>Data Products</small>
                            </a>
                            <a href="https://www.looker.com/" target="_blank" class="serving-card semantic">
                                <i class="fas fa-cubes"></i>
                                <span>Semantic</span>
                                <small>Metrics Layer</small>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Orchestration Bar -->
                <div class="orchestration-premium">
                    <div class="orch-wrapper">
                        <div class="orch-icon-animated">
                            <i class="devicon-apacheairflow-plain"></i>
                        </div>
                        <div class="orch-info">
                            <span class="orch-name">Apache Airflow</span>
                            <span class="orch-role">Orchestration & Scheduling</span>
                        </div>
                        <div class="orch-stats">
                            <div class="orch-stat">
                                <span class="stat-num">156</span>
                                <span class="stat-label">DAGs</span>
                            </div>
                            <div class="orch-stat">
                                <span class="stat-num">12K</span>
                                <span class="stat-label">Tasks/day</span>
                            </div>
                            <div class="orch-stat success">
                                <span class="stat-num">99.8%</span>
                                <span class="stat-label">Success</span>
                            </div>
                        </div>
                        <div class="orch-status-badge running">
                            <span class="status-pulse"></span>
                            <span>All Systems Operational</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== GOVERNANCE DIAGRAM - DAMA-DMBOK & COLLIBRA FRAMEWORK ==================== -->
        <div id="pipeline-governance" class="pipeline-diagram-premium pipeline-mode">
            <!-- Premium Governance Framework -->
            <div class="gov-diagram-premium glass-card">

                <!-- ===== HEADER WITH LIVE STATUS & COMPLIANCE ===== -->
                <div class="gov-premium-header-v2">
                    <div class="gov-title-section-v2">
                        <div class="gov-icon-animated-v2">
                            <i class="fas fa-shield-alt"></i>
                            <div class="shield-rings">
                                <span class="ring ring-1"></span>
                                <span class="ring ring-2"></span>
                                <span class="ring ring-3"></span>
                            </div>
                        </div>
                        <div class="gov-title-text-v2">
                            <div class="gov-badge-row">
                                <span class="framework-badge dama">
                                    <i class="fas fa-certificate"></i> DAMA-DMBOK
                                </span>
                                <span class="framework-badge collibra">
                                    <i class="fas fa-gem"></i> Collibra Framework
                                </span>
                            </div>
                            <h3>Enterprise Data Governance</h3>
                            <span class="gov-subtitle-v2">Políticas, procesos y roles para asegurar datos precisos, disponibles y confiables</span>
                        </div>
                    </div>
                    <div class="compliance-section-v2">
                        <div class="compliance-header">
                            <span class="compliance-label">COMPLIANCE STATUS</span>
                            <span class="compliance-score">100%</span>
                        </div>
                        <div class="compliance-badges-v2">
                            <div class="compliance-badge-v2 gdpr active">
                                <i class="fas fa-check-circle"></i>
                                <span>GDPR</span>
                                <small>EU Privacy</small>
                            </div>
                            <div class="compliance-badge-v2 ccpa active">
                                <i class="fas fa-check-circle"></i>
                                <span>CCPA</span>
                                <small>California</small>
                            </div>
                            <div class="compliance-badge-v2 soc2 active">
                                <i class="fas fa-check-circle"></i>
                                <span>SOC 2</span>
                                <small>Type II</small>
                            </div>
                            <div class="compliance-badge-v2 hipaa active">
                                <i class="fas fa-check-circle"></i>
                                <span>HIPAA</span>
                                <small>Healthcare</small>
                            </div>
                            <div class="compliance-badge-v2 iso active">
                                <i class="fas fa-check-circle"></i>
                                <span>ISO 27001</span>
                                <small>Security</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== DAMA WHEEL - 11 KNOWLEDGE AREAS ===== -->
                <div class="dama-wheel-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-dharmachakra"></i></div>
                        <div class="header-text">
                            <h4>DAMA-DMBOK Knowledge Areas</h4>
                            <span>11 áreas de conocimiento con Data Governance al centro</span>
                        </div>
                        <a href="https://www.dama.org/cpages/body-of-knowledge" target="_blank" class="header-link">
                            <i class="fas fa-external-link-alt"></i> DAMA.org
                        </a>
                    </div>

                    <div class="dama-wheel-container">
                        <!-- Center: Data Governance -->
                        <div class="wheel-center">
                            <div class="center-content">
                                <i class="fas fa-shield-alt"></i>
                                <span class="center-label">DATA<br>GOVERNANCE</span>
                                <span class="center-subtitle">Centro de Control</span>
                            </div>
                            <div class="center-glow"></div>
                        </div>

                        <!-- Orbiting Knowledge Areas -->
                        <div class="wheel-orbit orbit-1">
                            <a href="https://www.dama.org/" target="_blank" class="ka-node architecture" style="--angle: 0deg">
                                <i class="fas fa-project-diagram"></i>
                                <span class="ka-label">Data Architecture</span>
                                <div class="ka-tooltip">Diseño y estructura de datos empresariales</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node modeling" style="--angle: 60deg">
                                <i class="fas fa-sitemap"></i>
                                <span class="ka-label">Data Modeling</span>
                                <div class="ka-tooltip">Modelos conceptuales, lógicos y físicos</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node storage" style="--angle: 120deg">
                                <i class="fas fa-database"></i>
                                <span class="ka-label">Data Storage</span>
                                <div class="ka-tooltip">Almacenamiento y operaciones de datos</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node security" style="--angle: 180deg">
                                <i class="fas fa-lock"></i>
                                <span class="ka-label">Data Security</span>
                                <div class="ka-tooltip">Protección y privacidad de datos</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node integration" style="--angle: 240deg">
                                <i class="fas fa-exchange-alt"></i>
                                <span class="ka-label">Data Integration</span>
                                <div class="ka-tooltip">ETL, ELT e interoperabilidad</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node quality" style="--angle: 300deg">
                                <i class="fas fa-check-double"></i>
                                <span class="ka-label">Data Quality</span>
                                <div class="ka-tooltip">Precisión, completitud, consistencia</div>
                            </a>
                        </div>

                        <div class="wheel-orbit orbit-2">
                            <a href="https://www.dama.org/" target="_blank" class="ka-node reference" style="--angle: 30deg">
                                <i class="fas fa-book"></i>
                                <span class="ka-label">Reference & Master</span>
                                <div class="ka-tooltip">Datos maestros y de referencia</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node warehouse" style="--angle: 90deg">
                                <i class="fas fa-warehouse"></i>
                                <span class="ka-label">DW & BI</span>
                                <div class="ka-tooltip">Data Warehouse y Business Intelligence</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node metadata" style="--angle: 150deg">
                                <i class="fas fa-tags"></i>
                                <span class="ka-label">Metadata</span>
                                <div class="ka-tooltip">Gestión de metadatos y catálogo</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node documents" style="--angle: 210deg">
                                <i class="fas fa-file-alt"></i>
                                <span class="ka-label">Documents & Content</span>
                                <div class="ka-tooltip">Datos no estructurados</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node ai" style="--angle: 270deg">
                                <i class="fas fa-brain"></i>
                                <span class="ka-label">AI & Ethics</span>
                                <div class="ka-tooltip">IA responsable y ética de datos</div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- ===== COLLIBRA 5 PILLARS ===== -->
                <div class="collibra-pillars-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-columns"></i></div>
                        <div class="header-text">
                            <h4>Los 5 Pilares de Data Governance</h4>
                            <span>Framework de Collibra para gobierno de datos efectivo</span>
                        </div>
                        <a href="https://www.collibra.com/us/en/resources/what-is-data-governance" target="_blank" class="header-link">
                            <i class="fas fa-external-link-alt"></i> Collibra
                        </a>
                    </div>

                    <div class="pillars-grid-v2">
                        <!-- Pillar 1: Consistent Definitions -->
                        <div class="pillar-card-v2 definitions">
                            <div class="pillar-number">01</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-language"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Definiciones Consistentes</h5>
                            <p class="pillar-desc">Vocabulario empresarial común que asegura que todos hablen el mismo idioma de datos</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-book-open"></i> Business Glossary</span>
                                <span><i class="fas fa-code"></i> Data Dictionary</span>
                                <span><i class="fas fa-equals"></i> Semantic Layer</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://www.collibra.com/" target="_blank"><img src="https://cdn.simpleicons.org/collibra/00B5E2" alt="Collibra" width="20"></a>
                                <a href="https://atlan.com/" target="_blank"><img src="https://cdn.simpleicons.org/atlan/8B5CF6" alt="Atlan" width="20"></a>
                                <a href="https://datahubproject.io/" target="_blank"><img src="https://cdn.simpleicons.org/datahub/00A1E0" alt="DataHub" width="20"></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">1,240</span>
                                <span class="stat-label">Terms Defined</span>
                            </div>
                        </div>

                        <!-- Pillar 2: Access Control -->
                        <div class="pillar-card-v2 access">
                            <div class="pillar-number">02</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-user-shield"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Control de Acceso</h5>
                            <p class="pillar-desc">Políticas que definen quién puede ver, usar y modificar cada activo de datos</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-users-cog"></i> RBAC/ABAC</span>
                                <span><i class="fas fa-mask"></i> Dynamic Masking</span>
                                <span><i class="fas fa-key"></i> Encryption</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://privacera.com/" target="_blank"><img src="https://cdn.simpleicons.org/privacera/2563EB" alt="Privacera" width="20"></a>
                                <a href="https://www.immuta.com/" target="_blank"><img src="https://cdn.simpleicons.org/immuta/00C389" alt="Immuta" width="20"></a>
                                <a href="https://www.hashicorp.com/products/vault" target="_blank"><i class="fas fa-vault" style="color: #FFCC00; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">156</span>
                                <span class="stat-label">Policies Active</span>
                            </div>
                        </div>

                        <!-- Pillar 3: Relationship Management -->
                        <div class="pillar-card-v2 relationships">
                            <div class="pillar-number">03</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-project-diagram"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Gestión de Relaciones</h5>
                            <p class="pillar-desc">Mapeo de dependencias y linaje de datos desde origen hasta consumo</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-route"></i> Data Lineage</span>
                                <span><i class="fas fa-link"></i> Impact Analysis</span>
                                <span><i class="fas fa-network-wired"></i> Dependencies</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://www.montecarlodata.com/" target="_blank"><img src="https://cdn.simpleicons.org/montecarlo/FF6B6B" alt="Monte Carlo" width="20"></a>
                                <a href="https://openlineage.io/" target="_blank"><i class="fas fa-stream" style="color: #00D4AA; font-size: 20px;"></i></a>
                                <a href="https://marquez.apache.org/" target="_blank"><i class="fab fa-apache" style="color: #D22128; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">2,890</span>
                                <span class="stat-label">Lineage Paths</span>
                            </div>
                        </div>

                        <!-- Pillar 4: Regulatory Compliance -->
                        <div class="pillar-card-v2 compliance">
                            <div class="pillar-number">04</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-balance-scale"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Cumplimiento Regulatorio</h5>
                            <p class="pillar-desc">Adherencia a regulaciones de privacidad y estándares de la industria</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-gavel"></i> GDPR/CCPA</span>
                                <span><i class="fas fa-clipboard-check"></i> Audit Trails</span>
                                <span><i class="fas fa-clock"></i> Retention</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://bigid.com/" target="_blank"><img src="https://cdn.simpleicons.org/bigid/FF6B00" alt="BigID" width="20"></a>
                                <a href="https://www.onetrust.com/" target="_blank"><img src="https://cdn.simpleicons.org/onetrust/00857C" alt="OneTrust" width="20"></a>
                                <a href="https://www.truata.com/" target="_blank"><i class="fas fa-shield-virus" style="color: #7C3AED; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">100%</span>
                                <span class="stat-label">Compliant</span>
                            </div>
                        </div>

                        <!-- Pillar 5: Process Automation -->
                        <div class="pillar-card-v2 automation">
                            <div class="pillar-number">05</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-robot"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Automatización de Procesos</h5>
                            <p class="pillar-desc">Workflows automatizados para solicitudes, aprobaciones y remediación</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-tasks"></i> Workflows</span>
                                <span><i class="fas fa-bell"></i> Alerts</span>
                                <span><i class="fas fa-wrench"></i> Auto-Remediation</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://airflow.apache.org/" target="_blank"><i class="devicon-apacheairflow-plain" style="font-size: 20px;"></i></a>
                                <a href="https://n8n.io/" target="_blank"><img src="https://cdn.simpleicons.org/n8n/FF6D5A" alt="n8n" width="20"></a>
                                <a href="https://www.servicenow.com/" target="_blank"><img src="https://cdn.simpleicons.org/servicenow/62D84E" alt="ServiceNow" width="20"></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">45</span>
                                <span class="stat-label">Workflows Active</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== DATA LIFECYCLE MANAGEMENT ===== -->
                <div class="lifecycle-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-sync-alt"></i></div>
                        <div class="header-text">
                            <h4>Data Lifecycle Management</h4>
                            <span>Gestión del ciclo de vida completo de los datos</span>
                        </div>
                    </div>

                    <div class="lifecycle-flow">
                        <div class="lifecycle-stage create">
                            <div class="stage-icon-v2"><i class="fas fa-plus-circle"></i></div>
                            <span class="stage-name">Create</span>
                            <span class="stage-actions">Ingesta, Captura</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage store">
                            <div class="stage-icon-v2"><i class="fas fa-database"></i></div>
                            <span class="stage-name">Store</span>
                            <span class="stage-actions">Raw, Staging</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage use">
                            <div class="stage-icon-v2"><i class="fas fa-chart-line"></i></div>
                            <span class="stage-name">Use</span>
                            <span class="stage-actions">Analytics, ML</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage share">
                            <div class="stage-icon-v2"><i class="fas fa-share-alt"></i></div>
                            <span class="stage-name">Share</span>
                            <span class="stage-actions">APIs, Reports</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage archive">
                            <div class="stage-icon-v2"><i class="fas fa-archive"></i></div>
                            <span class="stage-name">Archive</span>
                            <span class="stage-actions">Cold Storage</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage destroy">
                            <div class="stage-icon-v2"><i class="fas fa-trash-alt"></i></div>
                            <span class="stage-name">Destroy</span>
                            <span class="stage-actions">Retention Policy</span>
                        </div>
                    </div>
                </div>

                <!-- ===== ROLES & RESPONSIBILITIES (RACI) ===== -->
                <div class="roles-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-users"></i></div>
                        <div class="header-text">
                            <h4>Roles & Responsabilidades</h4>
                            <span>Estructura organizacional para Data Governance</span>
                        </div>
                    </div>

                    <div class="roles-grid">
                        <div class="role-card-v2 owner">
                            <div class="role-avatar">
                                <i class="fas fa-user-tie"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Owner</h5>
                                <span class="role-level">Ejecutivo</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Define políticas de acceso</li>
                                <li><i class="fas fa-check"></i> Aprueba usos de datos</li>
                                <li><i class="fas fa-check"></i> Responsable del dominio</li>
                            </ul>
                            <div class="role-tag">ACCOUNTABLE</div>
                        </div>

                        <div class="role-card-v2 steward">
                            <div class="role-avatar">
                                <i class="fas fa-user-cog"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Steward</h5>
                                <span class="role-level">Táctico</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Mantiene calidad de datos</li>
                                <li><i class="fas fa-check"></i> Gestiona metadatos</li>
                                <li><i class="fas fa-check"></i> Resuelve issues de datos</li>
                            </ul>
                            <div class="role-tag">RESPONSIBLE</div>
                        </div>

                        <div class="role-card-v2 custodian">
                            <div class="role-avatar">
                                <i class="fas fa-user-shield"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Custodian</h5>
                                <span class="role-level">Técnico</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Implementa controles</li>
                                <li><i class="fas fa-check"></i> Gestiona infraestructura</li>
                                <li><i class="fas fa-check"></i> Asegura disponibilidad</li>
                            </ul>
                            <div class="role-tag">SUPPORT</div>
                        </div>

                        <div class="role-card-v2 consumer">
                            <div class="role-avatar">
                                <i class="fas fa-user-chart"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Consumer</h5>
                                <span class="role-level">Operacional</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Usa datos según políticas</li>
                                <li><i class="fas fa-check"></i> Reporta issues de calidad</li>
                                <li><i class="fas fa-check"></i> Solicita acceso formal</li>
                            </ul>
                            <div class="role-tag">INFORMED</div>
                        </div>
                    </div>
                </div>

                <!-- ===== DATA CLASSIFICATION v2 ===== -->
                <div class="classification-section-v2">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-fingerprint"></i></div>
                        <div class="header-text">
                            <h4>Data Classification Framework</h4>
                            <span>Clasificación basada en sensibilidad y criticidad</span>
                        </div>
                    </div>

                    <div class="classification-grid-v2">
                        <div class="class-card-v2 public">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">PUBLIC</span>
                                <span class="class-count-v2">42 assets</span>
                            </div>
                            <div class="class-desc">Información disponible públicamente sin restricciones</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-globe"></i> Open Access</span>
                            </div>
                        </div>

                        <div class="class-card-v2 internal">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">INTERNAL</span>
                                <span class="class-count-v2">89 assets</span>
                            </div>
                            <div class="class-desc">Solo para uso interno de la organización</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-building"></i> Internal Only</span>
                                <span class="control-item"><i class="fas fa-id-badge"></i> Auth Required</span>
                            </div>
                        </div>

                        <div class="class-card-v2 confidential">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">CONFIDENTIAL</span>
                                <span class="class-count-v2">18 assets</span>
                            </div>
                            <div class="class-desc">Acceso restringido basado en necesidad de negocio</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-lock"></i> Restricted</span>
                                <span class="control-item"><i class="fas fa-user-check"></i> Approval</span>
                                <span class="control-item"><i class="fas fa-history"></i> Audit Log</span>
                            </div>
                        </div>

                        <div class="class-card-v2 pii">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">PII / SENSITIVE</span>
                                <span class="class-count-v2">7 assets</span>
                            </div>
                            <div class="class-desc">Datos personales identificables bajo regulación</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-mask"></i> Masked</span>
                                <span class="control-item"><i class="fas fa-key"></i> Encrypted</span>
                                <span class="control-item"><i class="fas fa-clock"></i> Retention</span>
                                <span class="control-item"><i class="fas fa-trash"></i> Right to Delete</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== MATURITY MODEL ===== -->
                <div class="maturity-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-chart-line"></i></div>
                        <div class="header-text">
                            <h4>Data Governance Maturity</h4>
                            <span>Evaluación del nivel de madurez del programa</span>
                        </div>
                    </div>

                    <div class="maturity-chart">
                        <div class="maturity-level level-1">
                            <div class="level-marker">1</div>
                            <span class="level-name">Initial</span>
                            <span class="level-desc">Ad-hoc</span>
                        </div>
                        <div class="maturity-level level-2">
                            <div class="level-marker">2</div>
                            <span class="level-name">Managed</span>
                            <span class="level-desc">Reactive</span>
                        </div>
                        <div class="maturity-level level-3">
                            <div class="level-marker">3</div>
                            <span class="level-name">Defined</span>
                            <span class="level-desc">Proactive</span>
                        </div>
                        <div class="maturity-level level-4 current">
                            <div class="level-marker">4</div>
                            <span class="level-name">Measured</span>
                            <span class="level-desc">Quantified</span>
                            <div class="current-badge">Current</div>
                        </div>
                        <div class="maturity-level level-5">
                            <div class="level-marker">5</div>
                            <span class="level-name">Optimized</span>
                            <span class="level-desc">Continuous</span>
                        </div>
                        <div class="maturity-progress-bar">
                            <div class="progress-fill" style="width: 80%"></div>
                        </div>
                    </div>
                </div>

                <!-- ===== GOVERNANCE DASHBOARD FOOTER ===== -->
                <div class="gov-dashboard-footer-v2">
                    <div class="dashboard-metrics-v2">
                        <div class="dash-metric-v2">
                            <div class="metric-ring quality">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="98.5, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">98.5%</span>
                            </div>
                            <span class="metric-label-v2">Data Quality Score</span>
                        </div>
                        <div class="dash-metric-v2">
                            <div class="metric-ring catalog">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="92, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">92%</span>
                            </div>
                            <span class="metric-label-v2">Assets Catalogued</span>
                        </div>
                        <div class="dash-metric-v2">
                            <div class="metric-ring compliance">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="100, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">100%</span>
                            </div>
                            <span class="metric-label-v2">Compliance Rate</span>
                        </div>
                        <div class="dash-metric-v2">
                            <div class="metric-ring sla">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="99.9, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">99.9%</span>
                            </div>
                            <span class="metric-label-v2">SLA Achievement</span>
                        </div>
                    </div>
                    <div class="dashboard-status-v2">
                        <span class="status-indicator-v2 healthy"></span>
                        <span>All governance systems operational</span>
                        <span class="last-updated-v2">Last scan: 2 min ago</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script is:inline>
    // Pipeline Mode Switcher
    function switchPipelineMode(mode) {
        // Update buttons - remove active from all, add to clicked
        var buttons = document.querySelectorAll('.mode-btn');
        buttons.forEach(function(btn) {
            btn.classList.remove('active');
            if (btn.dataset.mode === mode) {
                btn.classList.add('active');
            }
        });

        // Update pipeline views - hide all, show selected
        var pipelines = document.querySelectorAll('.pipeline-mode');
        pipelines.forEach(function(pipeline) {
            pipeline.classList.remove('active');
        });

        var targetPipeline = document.getElementById('pipeline-' + mode);
        if (targetPipeline) {
            targetPipeline.classList.add('active');
        }
    }

    // Initialize pipeline buttons
    function initPipelineButtons() {
        var btnRealtime = document.getElementById('btn-realtime');
        var btnBatch = document.getElementById('btn-batch');
        var btnArchitecture = document.getElementById('btn-architecture');
        var btnGovernance = document.getElementById('btn-governance');

        if (btnRealtime) {
            btnRealtime.onclick = function() { switchPipelineMode('realtime'); };
        }
        if (btnBatch) {
            btnBatch.onclick = function() { switchPipelineMode('batch'); };
        }
        if (btnArchitecture) {
            btnArchitecture.onclick = function() { switchPipelineMode('architecture'); };
        }
        if (btnGovernance) {
            btnGovernance.onclick = function() { switchPipelineMode('governance'); };
        }
    }

    // Add event listeners for both initial load and Astro View Transitions
    document.addEventListener('DOMContentLoaded', initPipelineButtons);
    document.addEventListener('astro:page-load', initPipelineButtons);
</script>
