---
// Data Pipeline Section - Real-time and Batch processing views

// GoF Design Patterns Code Examples
const singletonCode = `// Singleton Pattern - Thread-Safe (Double-Checked Locking)
public class DatabaseConnection {
    private static volatile DatabaseConnection instance;
    private Connection connection;

    private DatabaseConnection() {
        // Private constructor prevents direct instantiation
        this.connection = createConnection();
    }

    public static DatabaseConnection getInstance() {
        if (instance == null) {
            synchronized (DatabaseConnection.class) {
                if (instance == null) {
                    instance = new DatabaseConnection();
                }
            }
        }
        return instance;
    }

    public void executeQuery(String sql) {
        // Execute SQL using the single connection
    }
}

// Uso:
DatabaseConnection db = DatabaseConnection.getInstance();
db.executeQuery("SELECT * FROM users");`;

const factoryCode = `// Factory Method Pattern
public interface Notification {
    void send(String message);
}

public class EmailNotification implements Notification {
    @Override
    public void send(String message) {
        System.out.println("Email: " + message);
    }
}

public class SMSNotification implements Notification {
    @Override
    public void send(String message) {
        System.out.println("SMS: " + message);
    }
}

public class PushNotification implements Notification {
    @Override
    public void send(String message) {
        System.out.println("Push: " + message);
    }
}

// Factory Creator
public abstract class NotificationFactory {
    public abstract Notification createNotification();

    public void notifyUser(String message) {
        Notification notification = createNotification();
        notification.send(message);
    }
}

public class EmailFactory extends NotificationFactory {
    @Override
    public Notification createNotification() {
        return new EmailNotification();
    }
}

// Uso:
NotificationFactory factory = new EmailFactory();
factory.notifyUser("Tu pedido ha sido enviado!");`;

const builderCode = `// Builder Pattern - Fluent Interface
public class User {
    private final String firstName;  // Requerido
    private final String lastName;   // Requerido
    private final String email;      // Opcional
    private final int age;           // Opcional
    private final String phone;      // Opcional

    private User(UserBuilder builder) {
        this.firstName = builder.firstName;
        this.lastName = builder.lastName;
        this.email = builder.email;
        this.age = builder.age;
        this.phone = builder.phone;
    }

    public static class UserBuilder {
        private final String firstName;  // Requerido
        private final String lastName;   // Requerido
        private String email = "";
        private int age = 0;
        private String phone = "";

        public UserBuilder(String firstName, String lastName) {
            this.firstName = firstName;
            this.lastName = lastName;
        }

        public UserBuilder email(String email) {
            this.email = email;
            return this;
        }

        public UserBuilder age(int age) {
            this.age = age;
            return this;
        }

        public UserBuilder phone(String phone) {
            this.phone = phone;
            return this;
        }

        public User build() {
            return new User(this);
        }
    }
}

// Uso con fluent interface:
User user = new User.UserBuilder("Juan", "Pérez")
    .email("juan@example.com")
    .age(28)
    .phone("+56912345678")
    .build();`;

const adapterCode = `// Adapter Pattern - Integración de APIs externas
// Interfaz que espera nuestro sistema
public interface PaymentProcessor {
    void processPayment(double amount, String currency);
    boolean refund(String transactionId);
}

// API externa con interfaz diferente
public class StripeAPI {
    public String charge(int amountInCents, String cur) {
        // Lógica de Stripe...
        return "txn_" + System.currentTimeMillis();
    }

    public boolean cancelCharge(String chargeId) {
        // Lógica de cancelación...
        return true;
    }
}

// Adapter: adapta Stripe a nuestra interfaz
public class StripePaymentAdapter implements PaymentProcessor {
    private final StripeAPI stripeAPI;

    public StripePaymentAdapter(StripeAPI stripeAPI) {
        this.stripeAPI = stripeAPI;
    }

    @Override
    public void processPayment(double amount, String currency) {
        // Convertimos el monto a centavos
        int amountInCents = (int) (amount * 100);
        stripeAPI.charge(amountInCents, currency);
    }

    @Override
    public boolean refund(String transactionId) {
        return stripeAPI.cancelCharge(transactionId);
    }
}

// Uso: nuestro código usa la interfaz estándar
PaymentProcessor processor = new StripePaymentAdapter(new StripeAPI());
processor.processPayment(99.99, "USD");`;

const decoratorCode = `// Decorator Pattern - Añadir funcionalidad dinámicamente
public interface Coffee {
    String getDescription();
    double getCost();
}

public class SimpleCoffee implements Coffee {
    @Override
    public String getDescription() {
        return "Café simple";
    }

    @Override
    public double getCost() {
        return 1.00;
    }
}

// Decorador base
public abstract class CoffeeDecorator implements Coffee {
    protected Coffee decoratedCoffee;

    public CoffeeDecorator(Coffee coffee) {
        this.decoratedCoffee = coffee;
    }
}

// Decoradores concretos
public class MilkDecorator extends CoffeeDecorator {
    public MilkDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public String getDescription() {
        return decoratedCoffee.getDescription() + ", con leche";
    }

    @Override
    public double getCost() {
        return decoratedCoffee.getCost() + 0.50;
    }
}

public class VanillaDecorator extends CoffeeDecorator {
    public VanillaDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public String getDescription() {
        return decoratedCoffee.getDescription() + ", con vainilla";
    }

    @Override
    public double getCost() {
        return decoratedCoffee.getCost() + 0.70;
    }
}

// Uso: composición dinámica
Coffee miCafe = new VanillaDecorator(
    new MilkDecorator(
        new SimpleCoffee()
    )
);
System.out.println(miCafe.getDescription()); // Café simple, con leche, con vainilla
System.out.println("$" + miCafe.getCost());  // $2.20`;

const observerCode = `// Observer Pattern - Sistema de eventos
import java.util.ArrayList;
import java.util.List;

// Subject (Publisher)
public interface StockSubject {
    void attach(StockObserver observer);
    void detach(StockObserver observer);
    void notifyObservers();
}

// Observer (Subscriber)
public interface StockObserver {
    void update(String stockSymbol, double price);
}

// Concrete Subject
public class Stock implements StockSubject {
    private List<StockObserver> observers = new ArrayList<>();
    private String symbol;
    private double price;

    public Stock(String symbol, double price) {
        this.symbol = symbol;
        this.price = price;
    }

    public void setPrice(double price) {
        this.price = price;
        notifyObservers(); // Notifica cambios automáticamente
    }

    @Override
    public void attach(StockObserver observer) {
        observers.add(observer);
    }

    @Override
    public void detach(StockObserver observer) {
        observers.remove(observer);
    }

    @Override
    public void notifyObservers() {
        for (StockObserver observer : observers) {
            observer.update(symbol, price);
        }
    }
}

// Concrete Observer
public class StockAlert implements StockObserver {
    private String name;

    public StockAlert(String name) {
        this.name = name;
    }

    @Override
    public void update(String stockSymbol, double price) {
        System.out.println(name + ": " + stockSymbol + " ahora vale $" + price);
    }
}

// Uso:
Stock apple = new Stock("AAPL", 150.0);
apple.attach(new StockAlert("Inversor1"));
apple.attach(new StockAlert("Inversor2"));
apple.setPrice(155.0); // Notifica a todos los observers`;

const strategyCode = `// Strategy Pattern - Algoritmos intercambiables
public interface PaymentStrategy {
    void pay(double amount);
    boolean validate();
}

public class CreditCardPayment implements PaymentStrategy {
    private String cardNumber;
    private String cvv;

    public CreditCardPayment(String cardNumber, String cvv) {
        this.cardNumber = cardNumber;
        this.cvv = cvv;
    }

    @Override
    public boolean validate() {
        return cardNumber.length() == 16 && cvv.length() == 3;
    }

    @Override
    public void pay(double amount) {
        System.out.println("Pagando $" + amount + " con tarjeta: ****" +
            cardNumber.substring(12));
    }
}

public class PayPalPayment implements PaymentStrategy {
    private String email;

    public PayPalPayment(String email) {
        this.email = email;
    }

    @Override
    public boolean validate() {
        return email.contains("@");
    }

    @Override
    public void pay(double amount) {
        System.out.println("Pagando $" + amount + " via PayPal: " + email);
    }
}

// Context: usa la estrategia sin conocer los detalles
public class ShoppingCart {
    private PaymentStrategy paymentStrategy;

    public void setPaymentStrategy(PaymentStrategy strategy) {
        this.paymentStrategy = strategy;
    }

    public void checkout(double amount) {
        if (paymentStrategy.validate()) {
            paymentStrategy.pay(amount);
        } else {
            throw new RuntimeException("Pago inválido");
        }
    }
}

// Uso: el cliente elige la estrategia
ShoppingCart cart = new ShoppingCart();
cart.setPaymentStrategy(new CreditCardPayment("1234567890123456", "123"));
cart.checkout(99.99);

// Cambiar estrategia en runtime
cart.setPaymentStrategy(new PayPalPayment("usuario@email.com"));
cart.checkout(49.99);`;

// ==================== TESTING CODE EXAMPLES ====================

// TDD Example with JUnit 5 - Calculator
const tddCode = `// TDD - Test Driven Development con JUnit 5
// Ciclo: RED → GREEN → REFACTOR

// STEP 1: RED - Escribir test que falla
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.DisplayName;
import static org.junit.jupiter.api.Assertions.*;

class CalculatorTest {

    @Test
    @DisplayName("Suma de dos números positivos")
    void testSumaPositivos() {
        Calculator calc = new Calculator();
        assertEquals(5, calc.sumar(2, 3));
    }

    @Test
    @DisplayName("Suma con número negativo")
    void testSumaConNegativo() {
        Calculator calc = new Calculator();
        assertEquals(-1, calc.sumar(2, -3));
    }

    @Test
    @DisplayName("División por cero lanza excepción")
    void testDivisionPorCero() {
        Calculator calc = new Calculator();
        assertThrows(ArithmeticException.class,
            () -> calc.dividir(10, 0));
    }
}

// STEP 2: GREEN - Implementar código mínimo
public class Calculator {
    public int sumar(int a, int b) {
        return a + b;
    }

    public int dividir(int a, int b) {
        if (b == 0) {
            throw new ArithmeticException("División por cero");
        }
        return a / b;
    }
}

// STEP 3: REFACTOR - Mejorar sin romper tests
// Los tests pasan → código validado ✓`;

// BDD Example with Cucumber/Gherkin
const bddCode = `// BDD - Behavior Driven Development
// Lenguaje: Gherkin (Given-When-Then)

// login.feature
Feature: Inicio de sesión de usuario
  Como usuario registrado
  Quiero iniciar sesión en el sistema
  Para acceder a mi cuenta

  Scenario: Login exitoso con credenciales válidas
    Given un usuario registrado con email "juan@email.com"
    And su contraseña es "Password123"
    When el usuario ingresa sus credenciales
    And hace clic en "Iniciar Sesión"
    Then debe ver el mensaje "Bienvenido, Juan"
    And debe ser redirigido al dashboard

  Scenario: Login fallido con contraseña incorrecta
    Given un usuario registrado con email "juan@email.com"
    When el usuario ingresa email "juan@email.com"
    And ingresa contraseña "wrongpassword"
    And hace clic en "Iniciar Sesión"
    Then debe ver el mensaje de error "Credenciales inválidas"
    And debe permanecer en la página de login

// LoginSteps.java - Implementación de pasos
import io.cucumber.java.en.*;

public class LoginSteps {
    private LoginPage loginPage;
    private String mensaje;

    @Given("un usuario registrado con email {string}")
    public void usuarioRegistrado(String email) {
        // Setup: crear usuario en BD de prueba
    }

    @When("el usuario ingresa sus credenciales")
    public void ingresaCredenciales() {
        loginPage.enterCredentials(email, password);
    }

    @Then("debe ver el mensaje {string}")
    public void verificarMensaje(String expected) {
        assertEquals(expected, loginPage.getMessage());
    }
}`;

// Contract Testing with Pact
const contractTestCode = `// Contract Testing con Pact
// Verifica contratos entre servicios (Consumer-Driven)

// Consumer Side (Frontend/Mobile)
const { Pact } = require('@pact-foundation/pact');

describe('User API Contract', () => {
  const provider = new Pact({
    consumer: 'FrontendApp',
    provider: 'UserService',
    port: 1234
  });

  beforeAll(() => provider.setup());
  afterAll(() => provider.finalize());

  describe('GET /api/users/:id', () => {
    it('returns user data for valid ID', async () => {
      // Define expected interaction
      await provider.addInteraction({
        state: 'user with ID 1 exists',
        uponReceiving: 'a request for user 1',
        withRequest: {
          method: 'GET',
          path: '/api/users/1',
          headers: { 'Accept': 'application/json' }
        },
        willRespondWith: {
          status: 200,
          headers: { 'Content-Type': 'application/json' },
          body: {
            id: 1,
            name: Matchers.string('John Doe'),
            email: Matchers.email()
          }
        }
      });

      // Execute consumer code
      const user = await userClient.getUser(1);
      expect(user.name).toBeDefined();
    });
  });
});

// Provider Side (Backend) - Verifica contra el contrato
// El Pact Broker almacena los contratos generados`;

// Mutation Testing Example
const mutationTestCode = `// Mutation Testing con PIT (Java)
// Evalúa la calidad de los tests introduciendo mutaciones

// pom.xml - Configuración de PIT
<plugin>
    <groupId>org.pitest</groupId>
    <artifactId>pitest-maven</artifactId>
    <version>1.15.0</version>
    <configuration>
        <targetClasses>
            <param>com.myapp.services.*</param>
        </targetClasses>
        <targetTests>
            <param>com.myapp.services.*Test</param>
        </targetTests>
        <mutators>
            <mutator>CONDITIONALS_BOUNDARY</mutator>
            <mutator>INCREMENTS</mutator>
            <mutator>MATH</mutator>
            <mutator>NEGATE_CONDITIONALS</mutator>
            <mutator>RETURN_VALS</mutator>
        </mutators>
    </configuration>
</plugin>

// Código Original
public class PriceCalculator {
    public double calculateDiscount(double price, int quantity) {
        if (quantity > 10) {  // Mutación: > → >=
            return price * 0.9;  // Mutación: 0.9 → 0.8
        }
        return price;
    }
}

// Test Original - ¿Detecta las mutaciones?
@Test
void testDescuentoPorCantidad() {
    PriceCalculator calc = new PriceCalculator();
    // Este test NO detecta mutación ">" → ">="
    assertEquals(90.0, calc.calculateDiscount(100.0, 15));
}

// Test Mejorado - Detecta boundary mutation
@Test
void testBoundaryCondition() {
    PriceCalculator calc = new PriceCalculator();
    // Exactly 10 items → NO discount
    assertEquals(100.0, calc.calculateDiscount(100.0, 10));
    // 11 items → WITH discount
    assertEquals(90.0, calc.calculateDiscount(100.0, 11));
}

// Ejecutar: mvn org.pitest:pitest-maven:mutationCoverage
// Reporte: target/pit-reports/index.html`;

// Integration Testing Example
const integrationTestCode = `// Integration Testing con Spring Boot
// Prueba la interacción entre componentes reales

import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.test.context.TestPropertySource;
import org.junit.jupiter.api.*;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;

@SpringBootTest
@AutoConfigureMockMvc
@TestPropertySource(locations = "classpath:application-test.properties")
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
class UserControllerIntegrationTest {

    @Autowired
    private MockMvc mockMvc;

    @Autowired
    private UserRepository userRepository;

    @BeforeEach
    void setup() {
        userRepository.deleteAll();
    }

    @Test
    @Order(1)
    @DisplayName("POST /api/users - Crear usuario")
    void createUser() throws Exception {
        String userJson = """
            {
                "name": "Juan Pérez",
                "email": "juan@email.com",
                "role": "USER"
            }
            """;

        mockMvc.perform(post("/api/users")
                .contentType(MediaType.APPLICATION_JSON)
                .content(userJson))
            .andExpect(status().isCreated())
            .andExpect(jsonPath("$.id").exists())
            .andExpect(jsonPath("$.name").value("Juan Pérez"));

        // Verificar que se guardó en BD real
        assertTrue(userRepository.findByEmail("juan@email.com").isPresent());
    }

    @Test
    @Order(2)
    @DisplayName("GET /api/users/{id} - Obtener usuario existente")
    void getUserById() throws Exception {
        // Arrange: crear usuario directamente en BD
        User saved = userRepository.save(new User("Test", "test@email.com"));

        // Act & Assert
        mockMvc.perform(get("/api/users/" + saved.getId()))
            .andExpect(status().isOk())
            .andExpect(jsonPath("$.name").value("Test"));
    }
}`;

// E2E Testing Example with Playwright
const e2eTestCode = `// E2E Testing con Playwright
// Prueba flujos completos desde la perspectiva del usuario

import { test, expect } from '@playwright/test';

test.describe('Flujo de Compra E-Commerce', () => {

  test.beforeEach(async ({ page }) => {
    await page.goto('https://myshop.com');
  });

  test('Usuario completa compra exitosamente', async ({ page }) => {
    // 1. Buscar producto
    await page.fill('[data-testid="search-input"]', 'laptop');
    await page.click('[data-testid="search-button"]');
    await expect(page.locator('.product-card')).toHaveCount.greaterThan(0);

    // 2. Seleccionar producto
    await page.click('.product-card:first-child');
    await expect(page).toHaveURL(/\\/products\\/\\d+/);

    // 3. Agregar al carrito
    await page.click('[data-testid="add-to-cart"]');
    await expect(page.locator('.cart-badge')).toHaveText('1');

    // 4. Ir al checkout
    await page.click('[data-testid="cart-icon"]');
    await page.click('[data-testid="checkout-button"]');

    // 5. Completar datos de envío
    await page.fill('#shipping-name', 'Juan Pérez');
    await page.fill('#shipping-address', 'Av. Principal 123');
    await page.fill('#shipping-city', 'Santiago');
    await page.click('[data-testid="continue-payment"]');

    // 6. Completar pago (sandbox)
    await page.fill('#card-number', '4242424242424242');
    await page.fill('#card-expiry', '12/25');
    await page.fill('#card-cvv', '123');
    await page.click('[data-testid="pay-button"]');

    // 7. Verificar confirmación
    await expect(page.locator('.order-confirmation')).toBeVisible();
    await expect(page.locator('.order-number')).toHaveText(/ORD-\\d+/);
  });

  test('Validación de campos obligatorios', async ({ page }) => {
    await page.goto('/checkout');
    await page.click('[data-testid="continue-payment"]');
    await expect(page.locator('.error-message')).toContainText('Nombre requerido');
  });
});`;
---

<section id="pipeline" class="pipeline-section">
    <!-- Premium Header -->
    <div class="pipeline-hero-header" data-aos="fade-up">
        <div class="pipeline-title-wrap">
            <div class="pipeline-icon-glow">
                <i class="fas fa-project-diagram"></i>
            </div>
            <div class="pipeline-title-content">
                <h2 class="pipeline-main-title">Data Pipeline <span class="gradient-text">End-to-End</span></h2>
                <p class="pipeline-tagline">Arquitectura moderna de flujo de datos para procesamiento en tiempo real y por lotes</p>
            </div>
        </div>
        <!-- Mode Selector Buttons - Organized in Groups -->
        <div class="pipeline-mode-selector-wrapper">
            <!-- Row 1: Pipelines & Architecture -->
            <div class="mode-btn-group">
                <span class="group-label"><i class="fas fa-code-branch"></i> Pipelines</span>
                <div class="mode-btn-row">
                    <button class="mode-btn active" data-mode="realtime" id="btn-realtime"
                            data-premium-tooltip="Real-time Streaming|Procesa eventos conforme llegan con latencia sub-segundo. Tecnologías: Kafka, Flink, Spark Streaming.|Latency < 1s,Event-driven,Streaming|feature|fa-bolt|Streaming">
                        <i class="fas fa-bolt"></i>
                        <span>Streaming</span>
                    </button>
                    <button class="mode-btn" data-mode="batch" id="btn-batch"
                            data-premium-tooltip="Batch Processing|Procesa grandes volúmenes de datos históricos en intervalos programados. Tecnologías: Spark, Hadoop, dbt.|High Volume,Scheduled Jobs,Parallel|feature|fa-layer-group|Processing">
                        <i class="fas fa-layer-group"></i>
                        <span>Batch</span>
                    </button>
                    <button class="mode-btn" data-mode="architecture" id="btn-architecture"
                            data-premium-tooltip="Pipeline Architecture|Diagrama de flujo de datos de principio a fin, desde fuentes hasta capa de servicio.|E2E Diagram,Visual Flow,Medallion|feature|fa-stream|Architecture">
                        <i class="fas fa-stream"></i>
                        <span>Architecture</span>
                    </button>
                </div>
            </div>

            <!-- Row 2: Data Lifecycle -->
            <div class="mode-btn-group">
                <span class="group-label"><i class="fas fa-database"></i> Data Lifecycle</span>
                <div class="mode-btn-row">
                    <button class="mode-btn" data-mode="ingestion" id="btn-ingestion"
                            data-premium-tooltip="Data Ingestion|Patrones de movimiento e integración de datos. Herramientas: Fivetran, Airbyte, Debezium CDC, APIs Custom.|ETL/ELT,CDC,Data Movement|feature|fa-cloud-download-alt|Ingestion">
                        <i class="fas fa-cloud-download-alt"></i>
                        <span>Ingestion</span>
                    </button>
                    <button class="mode-btn" data-mode="orchestration" id="btn-orchestration"
                            data-premium-tooltip="Data Orchestration|Automatización de flujos de trabajo, programación y gestión de dependencias. Herramientas: Apache Airflow, Prefect, Dagster.|DAGs,Workflows,Scheduling|feature|fa-tasks|Orchestration">
                        <i class="fas fa-tasks"></i>
                        <span>Orchestration</span>
                    </button>
                    <button class="mode-btn" data-mode="storage" id="btn-storage"
                            data-premium-tooltip="Storage Platforms|Soluciones modernas de almacenamiento de datos. Comparación Data Lake, Warehouse, Lakehouse. Star/Snowflake Schema. Delta Lake, Iceberg, Hudi.|Lakehouse,Star Schema,Iceberg|feature|fa-database|Storage">
                        <i class="fas fa-database"></i>
                        <span>Storage</span>
                    </button>
                    <button class="mode-btn" data-mode="visualization" id="btn-visualization"
                            data-premium-tooltip="Data Visualization|Dashboards de Business Intelligence y reportes. Herramientas: Power BI, Tableau, Looker, Grafana.|BI Dashboards,Charts,Reports|feature|fa-chart-pie|Visualization">
                        <i class="fas fa-chart-pie"></i>
                        <span>Visualization</span>
                    </button>
                </div>
            </div>

            <!-- Row 3: Patterns & Governance -->
            <div class="mode-btn-group">
                <span class="group-label"><i class="fas fa-cubes"></i> Patterns & Governance</span>
                <div class="mode-btn-row">
                    <button class="mode-btn" data-mode="patterns" id="btn-patterns"
                            data-premium-tooltip="Design Patterns|Patrones de arquitectura de datos probados. Medallion Architecture, CDC, Tipos SCD, Data Mesh, Data Vault 2.0, CQRS.|Medallion,CDC,SCD,Data Mesh|feature|fa-cubes|Patterns">
                        <i class="fas fa-cubes"></i>
                        <span>Patterns</span>
                    </button>
                    <button class="mode-btn" data-mode="processing" id="btn-processing"
                            data-premium-tooltip="Processing Architectures|Paradigmas y estrategias de procesamiento de datos. Arquitecturas Lambda, Kappa, Delta. Comparación ETL vs ELT. Patrones de Streaming.|Lambda,Kappa,Delta,ETL vs ELT|feature|fa-microchip|Architectures">
                        <i class="fas fa-microchip"></i>
                        <span>Processing</span>
                    </button>
                    <button class="mode-btn" data-mode="governance" id="btn-governance"
                            data-premium-tooltip="Data Governance|Framework DAMA-DMBOK cubriendo calidad de datos, seguridad, privacidad y cumplimiento regulatorio.|DAMA-DMBOK,Compliance,Data Quality|feature|fa-shield-alt|Governance">
                        <i class="fas fa-shield-alt"></i>
                        <span>Governance</span>
                    </button>
                </div>
            </div>

            <!-- Row 4: Software Engineering Fundamentals -->
            <div class="mode-btn-group">
                <span class="group-label"><i class="fas fa-graduation-cap"></i> Software Fundamentals</span>
                <div class="mode-btn-row">
                    <button class="mode-btn" data-mode="oop" id="btn-oop"
                            data-premium-tooltip="OOP|Los 4 pilares: Encapsulacion, Herencia, Polimorfismo, Abstraccion.|Pillars,Classes|feature|fa-cube|SWEBOK">
                        <i class="fas fa-cube"></i>
                        <span>OOP</span>
                    </button>
                    <button class="mode-btn" data-mode="functional" id="btn-functional"
                            data-premium-tooltip="Functional|Funciones puras, inmutabilidad, composicion.|Pure,Immutable|feature|fa-infinity|FP">
                        <i class="fas fa-infinity"></i>
                        <span>Functional</span>
                    </button>
                    <button class="mode-btn" data-mode="solid" id="btn-solid"
                            data-premium-tooltip="SOLID|5 principios de diseno OO por Uncle Bob.|SRP,OCP,LSP|feature|fa-gem|Clean">
                        <i class="fas fa-gem"></i>
                        <span>SOLID</span>
                    </button>
                    <button class="mode-btn" data-mode="cleancode" id="btn-cleancode"
                            data-premium-tooltip="Clean Code|Practicas de codigo legible y mantenible.|Readable,Testable|feature|fa-broom|2008">
                        <i class="fas fa-broom"></i>
                        <span>Clean Code</span>
                    </button>
                </div>
            </div>

            <!-- Row 5: Testing and Quality -->
            <div class="mode-btn-group">
                <span class="group-label"><i class="fas fa-vial"></i> Testing and Quality</span>
                <div class="mode-btn-row">
                    <button class="mode-btn" data-mode="testing" id="btn-testing"
                            data-premium-tooltip="Testing|Unit, Integration, E2E. TDD y BDD.|Unit,E2E,TDD|feature|fa-vial|Cohn">
                        <i class="fas fa-vial"></i>
                        <span>Testing</span>
                    </button>
                    <button class="mode-btn" data-mode="designpatterns" id="btn-designpatterns"
                            data-premium-tooltip="GoF Patterns|23 patrones: Creational, Structural, Behavioral.|Factory,Observer|feature|fa-shapes|1994">
                        <i class="fas fa-shapes"></i>
                        <span>GoF Patterns</span>
                    </button>
                    <button class="mode-btn" data-mode="dsa" id="btn-dsa"
                            data-premium-tooltip="DSA|Arrays, Trees, Graphs, Sorting, Big O.|Arrays,Trees|feature|fa-project-diagram|CS">
                        <i class="fas fa-project-diagram"></i>
                        <span>DSA</span>
                    </button>
                    <button class="mode-btn" data-mode="security" id="btn-security"
                            data-premium-tooltip="Security|OWASP Top 10, Secure Coding.|OWASP,Auth|feature|fa-shield-virus|2024">
                        <i class="fas fa-shield-virus"></i>
                        <span>Security</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pipeline Diagrams Container -->
    <div class="pipeline-container" data-aos="fade-up" data-aos-delay="100">

        <!-- ==================== REAL-TIME STREAMING PIPELINE ==================== -->
        <div id="pipeline-realtime" class="pipeline-diagram-premium pipeline-mode active">
            <!-- Pipeline Header -->
            <div class="pipeline-mode-header realtime">
                <div class="mode-indicator">
                    <i class="fas fa-bolt"></i>
                    <span>Real-time Streaming Pipeline</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-clock"></i> Latencia: &lt;1s</span>
                    <span class="stat-pill"><i class="fas fa-tachometer-alt"></i> 100K+ events/s</span>
                    <span class="stat-pill"><i class="fas fa-sync"></i> 24/7 Continuous</span>
                </div>
            </div>

            <!-- Animated Connection Line -->
            <div class="pipeline-connection-line realtime-line">
                <div class="data-flow-animation fast"></div>
            </div>

            <!-- Pipeline Stages -->
            <div class="pipeline-stages-grid">
                <!-- Stage 1: Ingest -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">01</div>
                    <div class="stage-icon-premium extract">
                        <i class="fas fa-satellite-dish"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Ingest</h4>
                        <p class="stage-desc">Event Streaming</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://kafka.apache.org/" target="_blank" class="tech-mini" data-premium-tooltip="Apache Kafka|Plataforma de streaming distribuida para flujos de datos en tiempo real. Usado por LinkedIn, Netflix, Uber.|Pub/Sub, Log, Particiones|tool|devicon-apachekafka-original|Apache (2011)"><i class="devicon-apachekafka-original"></i> Kafka</a>
                        <a href="https://aws.amazon.com/kinesis/" target="_blank" class="tech-mini" data-premium-tooltip="AWS Kinesis|Servicio de streaming gestionado de AWS para captura de datos en tiempo real.|Serverless, Shards, Auto-scaling|tool|fas fa-stream|Amazon (2013)"><i class="devicon-amazonwebservices-plain-wordmark"></i> Kinesis</a>
                        <a href="https://pulsar.apache.org/" target="_blank" class="tech-mini" data-premium-tooltip="Apache Pulsar|Sistema de mensajería nativo de la nube con multi-tenancy y geo-replicación.|Multi-tenant, Geo-replication|tool|fas fa-meteor|Yahoo→Apache (2018)"><i class="fas fa-meteor"></i> Pulsar</a>
                        <a href="https://www.rabbitmq.com/" target="_blank" class="tech-mini" data-premium-tooltip="RabbitMQ|Message broker AMQP para comunicación entre microservicios.|AMQP, Exchanges, Queues|tool|fas fa-rabbit|Pivotal (2007)"><i class="fas fa-rabbit"></i> RabbitMQ</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 2: Process -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">02</div>
                    <div class="stage-icon-premium transform">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Process</h4>
                        <p class="stage-desc">Procesamiento de Streams</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://flink.apache.org/" target="_blank" class="tech-mini" data-premium-tooltip="Apache Flink|Motor de procesamiento de streams con exactamente una vez semántica.|Exactly-once, Event time|tool|fas fa-water|Apache (2014)"><i class="fas fa-water"></i> Flink</a>
                        <a href="https://spark.apache.org/streaming/" target="_blank" class="tech-mini" data-premium-tooltip="Apache Spark|Motor unificado para batch y streaming a gran escala.|Unified Analytics, MLlib|tool|devicon-apachespark-original|Apache (2010)"><i class="devicon-apachespark-original colored"></i> Spark</a>
                        <a href="https://kafka.apache.org/documentation/streams/" target="_blank" class="tech-mini" data-premium-tooltip="Kafka Streams|Librería cliente para procesamiento de streams sobre Kafka.|Lightweight, Java DSL|tool|devicon-apachekafka-original|Confluent (2016)"><i class="devicon-apachekafka-original"></i> Streams</a>
                        <a href="https://storm.apache.org/" target="_blank" class="tech-mini" data-premium-tooltip="Apache Storm|Sistema de cómputo distribuido para procesamiento en tiempo real.|Topologies, Spouts, Bolts|tool|fas fa-wind|Twitter→Apache (2011)"><i class="fas fa-wind"></i> Storm</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 3: Store -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">03</div>
                    <div class="stage-icon-premium load">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Store</h4>
                        <p class="stage-desc">Almacenamiento en Tiempo Real</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://redis.io/" target="_blank" class="tech-mini" data-premium-tooltip="Redis|Base de datos en memoria para cache y almacenamiento de sesiones.|In-memory, Pub/Sub, Lua|tool|devicon-redis-plain|Redis Ltd (2009)"><i class="devicon-redis-plain colored"></i> Redis</a>
                        <a href="https://www.elastic.co/" target="_blank" class="tech-mini" data-premium-tooltip="Elasticsearch|Motor de búsqueda y analítica distribuido basado en Lucene.|Full-text search, REST API|tool|devicon-elasticsearch-plain|Elastic (2010)"><i class="devicon-elasticsearch-plain colored"></i> Elastic</a>
                        <a href="https://cassandra.apache.org/" target="_blank" class="tech-mini" data-premium-tooltip="Apache Cassandra|Base de datos NoSQL distribuida para alta disponibilidad.|Wide-column, Peer-to-peer|tool|fas fa-database|Meta→Apache (2008)"><i class="fas fa-eye"></i> Cassandra</a>
                        <a href="https://clickhouse.com/" target="_blank" class="tech-mini" data-premium-tooltip="ClickHouse|Base de datos OLAP columnar para analítica en tiempo real.|Columnar, SQL, Fast queries|tool|fas fa-mouse-pointer|Yandex (2016)"><i class="fas fa-mouse-pointer"></i> ClickHouse</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 4: Serve -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">04</div>
                    <div class="stage-icon-premium serve">
                        <i class="fas fa-desktop"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Serve</h4>
                        <p class="stage-desc">Real-time Dashboards</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://grafana.com/" target="_blank" class="tech-mini" data-premium-tooltip="Grafana|Plataforma de visualización y monitoreo de código abierto.|Dashboards, Alerts, Plugins|tool|fas fa-chart-line|Grafana Labs (2014)"><i class="devicon-grafana-original colored"></i> Grafana</a>
                        <a href="https://www.elastic.co/kibana" target="_blank" class="tech-mini"><i class="fas fa-chart-line"></i> Kibana</a>
                        <a href="https://superset.apache.org/" target="_blank" class="tech-mini"><i class="fas fa-tachometer-alt"></i> Superset</a>
                        <a href="https://socket.io/" target="_blank" class="tech-mini"><i class="fas fa-plug"></i> WebSockets</a>
                    </div>
                </div>
            </div>

            <!-- Orchestration Layer for Real-time -->
            <div class="pipeline-layers">
                <div class="layer-card orchestration">
                    <div class="layer-icon"><i class="fas fa-network-wired"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">EVENT BROKER</span>
                        <span class="layer-name">Apache Kafka</span>
                    </div>
                    <div class="layer-status running">
                        <span class="status-indicator"></span>
                        <span>Streaming</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-server"></i> 12 Brokers</span>
                        <span class="extra-badge"><i class="fas fa-layer-group"></i> 50 Topics</span>
                    </div>
                </div>
                <div class="layer-card quality">
                    <div class="layer-icon"><i class="fas fa-shield-alt"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">SCHEMA REGISTRY</span>
                        <span class="layer-name">Confluent</span>
                    </div>
                    <div class="layer-status healthy">
                        <span class="status-indicator"></span>
                        <span>Validating</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-file-code"></i> Avro/Proto</span>
                        <span class="extra-badge"><i class="fas fa-history"></i> Versioned</span>
                    </div>
                </div>
                <div class="layer-card observability">
                    <div class="layer-icon"><i class="fas fa-heartbeat"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">MONITORING</span>
                        <span class="layer-name">Prometheus + Grafana</span>
                    </div>
                    <div class="layer-status monitoring">
                        <span class="status-indicator"></span>
                        <span>Live Metrics</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-bell"></i> Alerting</span>
                        <span class="extra-badge"><i class="fas fa-chart-area"></i> Dashboards</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== BATCH PROCESSING PIPELINE ==================== -->
        <div id="pipeline-batch" class="pipeline-diagram-premium pipeline-mode">
            <!-- Pipeline Header -->
            <div class="pipeline-mode-header batch">
                <div class="mode-indicator">
                    <i class="fas fa-layer-group"></i>
                    <span>Batch Processing Pipeline</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-database"></i> Petabytes</span>
                    <span class="stat-pill"><i class="fas fa-calendar-alt"></i> Daily/Hourly</span>
                    <span class="stat-pill"><i class="fas fa-check-double"></i> ACID Compliant</span>
                </div>
            </div>

            <!-- Animated Connection Line -->
            <div class="pipeline-connection-line batch-line">
                <div class="data-flow-animation"></div>
            </div>

            <!-- Pipeline Stages -->
            <div class="pipeline-stages-grid">
                <!-- Stage 1: Extract -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">01</div>
                    <div class="stage-icon-premium extract">
                        <i class="fas fa-file-import"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Extract</h4>
                        <p class="stage-desc">Fuente de Datoss</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://www.postgresql.org/" target="_blank" class="tech-mini" data-premium-tooltip="PostgreSQL|Base de datos relacional avanzada de código abierto.|ACID, Extensions, JSON|tool|devicon-postgresql-plain|PostgreSQL (1996)"><i class="devicon-postgresql-plain colored"></i> PostgreSQL</a>
                        <a href="https://aws.amazon.com/s3/" target="_blank" class="tech-mini"><i class="devicon-amazonwebservices-plain-wordmark"></i> S3/GCS</a>
                        <a href="https://www.snowflake.com/" target="_blank" class="tech-mini"><i class="fas fa-snowflake"></i> APIs</a>
                        <a href="https://www.fivetran.com/" target="_blank" class="tech-mini" data-premium-tooltip="Fivetran|ELT automatizado con +150 conectores pre-construidos.|Managed connectors, Auto-sync|tool|fas fa-plug|Fivetran (2012)"><i class="fas fa-plug"></i> Fivetran</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 2: Transform -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">02</div>
                    <div class="stage-icon-premium transform">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Transform</h4>
                        <p class="stage-desc">ETL / ELT</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://spark.apache.org/" target="_blank" class="tech-mini" data-premium-tooltip="Apache Spark|Motor unificado para batch y streaming a gran escala.|Unified Analytics, MLlib|tool|devicon-apachespark-original|Apache (2010)"><i class="devicon-apachespark-original colored"></i> Spark</a>
                        <a href="https://www.getdbt.com/" target="_blank" class="tech-mini" data-premium-tooltip="dbt (data build tool)|Transformación de datos con SQL y control de versiones.|SQL transforms, Git, Testing|tool|fas fa-code|dbt Labs (2016)"><i class="fas fa-code-branch"></i> dbt</a>
                        <a href="https://www.python.org/" target="_blank" class="tech-mini"><i class="devicon-python-plain colored"></i> Python</a>
                        <a href="https://pandas.pydata.org/" target="_blank" class="tech-mini"><i class="fas fa-table"></i> Pandas</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 3: Load -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">03</div>
                    <div class="stage-icon-premium load">
                        <i class="fas fa-warehouse"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Load</h4>
                        <p class="stage-desc">Data Warehouse</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://www.snowflake.com/" target="_blank" class="tech-mini" data-premium-tooltip="Snowflake|Data warehouse cloud con separación de cómputo y almacenamiento.|Cloud DW, Zero-copy clone|tool|fas fa-snowflake|Snowflake (2014)"><i class="fas fa-snowflake"></i> Snowflake</a>
                        <a href="https://www.databricks.com/" target="_blank" class="tech-mini"><i class="fas fa-cubes"></i> Databricks</a>
                        <a href="https://cloud.google.com/bigquery" target="_blank" class="tech-mini" data-premium-tooltip="BigQuery|Servicio de data warehouse serverless de Google Cloud.|Serverless, Petabyte scale|tool|fas fa-cloud|Google (2010)"><i class="devicon-googlecloud-plain colored"></i> BigQuery</a>
                        <a href="https://aws.amazon.com/redshift/" target="_blank" class="tech-mini"><i class="devicon-amazonwebservices-plain-wordmark"></i> Redshift</a>
                    </div>
                </div>
                <div class="stage-arrow"><i class="fas fa-arrow-right"></i></div>

                <!-- Stage 4: Analyze -->
                <div class="pipeline-stage-card">
                    <div class="stage-number">04</div>
                    <div class="stage-icon-premium serve">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <div class="stage-content">
                        <h4 class="stage-title">Analyze</h4>
                        <p class="stage-desc">BI & Analytics</p>
                    </div>
                    <div class="stage-tech-stack">
                        <a href="https://powerbi.microsoft.com/" target="_blank" class="tech-mini" data-premium-tooltip="Power BI|Suite de analítica de negocios de Microsoft con integración Office.|Microsoft BI, DAX, DirectQuery|tool|fas fa-chart-bar|Microsoft (2013)"><i class="fas fa-chart-pie"></i> Power BI</a>
                        <a href="https://www.tableau.com/" target="_blank" class="tech-mini" data-premium-tooltip="Tableau|Plataforma líder de visualización de datos interactiva.|Drag-and-drop, VizQL|tool|fas fa-chart-area|Tableau (2003)"><i class="fas fa-chart-area"></i> Tableau</a>
                        <a href="https://looker.com/" target="_blank" class="tech-mini" data-premium-tooltip="Looker|Plataforma BI con modelado semántico LookML.|LookML, Embedded analytics|tool|fas fa-search|Google (2012)"><i class="fas fa-eye"></i> Looker</a>
                        <a href="https://metabase.com/" target="_blank" class="tech-mini"><i class="fas fa-chart-bar"></i> Metabase</a>
                    </div>
                </div>
            </div>

            <!-- Orchestration Layer for Batch -->
            <div class="pipeline-layers">
                <div class="layer-card orchestration">
                    <div class="layer-icon"><i class="devicon-apacheairflow-plain"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">ORCHESTRATION</span>
                        <span class="layer-name">Apache Airflow</span>
                    </div>
                    <div class="layer-status running">
                        <span class="status-indicator"></span>
                        <span>DAG Active</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-clock"></i> Cron: 0 6 * * *</span>
                        <span class="extra-badge"><i class="fas fa-redo"></i> Retries: 3</span>
                    </div>
                </div>
                <div class="layer-card quality">
                    <div class="layer-icon"><i class="fas fa-shield-alt"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">DATA QUALITY</span>
                        <span class="layer-name">Great Expectations</span>
                    </div>
                    <div class="layer-status healthy">
                        <span class="status-indicator"></span>
                        <span>Tests Passing</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-check-circle"></i> 47 Expectations</span>
                        <span class="extra-badge"><i class="fas fa-percentage"></i> 99.8% Pass</span>
                    </div>
                </div>
                <div class="layer-card observability">
                    <div class="layer-icon"><i class="fas fa-eye"></i></div>
                    <div class="layer-info">
                        <span class="layer-label">DATA CATALOG</span>
                        <span class="layer-name">DataHub / Atlan</span>
                    </div>
                    <div class="layer-status monitoring">
                        <span class="status-indicator"></span>
                        <span>Cataloging</span>
                    </div>
                    <div class="layer-extras">
                        <span class="extra-badge"><i class="fas fa-table"></i> 156 Tables</span>
                        <span class="extra-badge"><i class="fas fa-sitemap"></i> Lineage</span>
                    </div>
                </div>
            </div>

            <!-- Airflow DAG Code -->
            <div class="dag-code-container glass-card">
                <div class="code-header">
                    <div class="code-file">
                        <i class="devicon-python-plain colored"></i>
                        <span>etl_dag.py</span>
                    </div>
                    <div class="code-badges">
                        <span class="code-badge airflow"><i class="devicon-apacheairflow-plain"></i> Airflow 2.x</span>
                        <span class="code-badge python"><i class="devicon-python-plain"></i> Python 3.11</span>
                    </div>
                </div>
                <div class="code-block">
                    <pre><code class="language-python"><span class="code-comment"># etl_dag.py - Pipeline de datos completo</span>
<span class="code-keyword">from</span> airflow <span class="code-keyword">import</span> DAG
<span class="code-keyword">from</span> airflow.operators.python <span class="code-keyword">import</span> PythonOperator
<span class="code-keyword">from</span> airflow.providers.postgres.operators.postgres <span class="code-keyword">import</span> PostgresOperator
<span class="code-keyword">from</span> datetime <span class="code-keyword">import</span> datetime, timedelta

<span class="code-comment"># Configuración del DAG</span>
default_args = &#123;
    <span class="code-string">'owner'</span>: <span class="code-string">'data-team'</span>,
    <span class="code-string">'depends_on_past'</span>: <span class="code-keyword">False</span>,
    <span class="code-string">'start_date'</span>: datetime(<span class="code-number">2025</span>, <span class="code-number">1</span>, <span class="code-number">1</span>),
    <span class="code-string">'retries'</span>: <span class="code-number">3</span>,
    <span class="code-string">'retry_delay'</span>: timedelta(minutes=<span class="code-number">5</span>),
&#125;

<span class="code-keyword">with</span> DAG(
    <span class="code-string">'etl_pipeline_prod'</span>,
    default_args=default_args,
    schedule_interval=<span class="code-string">'0 6 * * *'</span>,  <span class="code-comment"># Diario a las 6 AM</span>
    catchup=<span class="code-keyword">False</span>,
    tags=[<span class="code-string">'etl'</span>, <span class="code-string">'production'</span>]
) <span class="code-keyword">as</span> dag:

    <span class="code-comment"># Task 1: Extraer datos desde API</span>
    extract = PythonOperator(
        task_id=<span class="code-string">'extract_from_api'</span>,
        python_callable=extract_data
    )

    <span class="code-comment"># Task 2: Transformar con Spark</span>
    transform = PythonOperator(
        task_id=<span class="code-string">'transform_spark'</span>,
        python_callable=spark_transform
    )

    <span class="code-comment"># Task 3: Cargar a Data Warehouse</span>
    load = PostgresOperator(
        task_id=<span class="code-string">'load_to_warehouse'</span>,
        postgres_conn_id=<span class="code-string">'warehouse_conn'</span>,
        sql=<span class="code-string">'sql/load_facts.sql'</span>
    )

    <span class="code-comment"># Definir dependencias</span>
    extract >> transform >> load</code></pre>
                </div>
                <div class="code-footer">
                    <span class="code-meta"><i class="fas fa-clock"></i> Schedule: Daily 6:00 AM</span>
                    <span class="code-meta"><i class="fas fa-tags"></i> Tags: etl, production</span>
                </div>
            </div>
        </div>

        <!-- ==================== ARCHITECTURE DIAGRAM ==================== -->
        <div id="pipeline-architecture" class="pipeline-diagram-premium pipeline-mode">
            <!-- Premium Architecture Diagram -->
            <div class="arch-diagram-premium glass-card">
                <!-- Header with Live Status -->
                <div class="arch-premium-header">
                    <div class="arch-title-section">
                        <div class="arch-icon-animated">
                            <i class="fas fa-project-diagram"></i>
                            <div class="pulse-ring"></div>
                        </div>
                        <div class="arch-title-text">
                            <h3>Modern Data Platform Architecture</h3>
                            <span class="arch-subtitle">Enterprise-Grade End-to-End Data Flow</span>
                        </div>
                    </div>
                    <div class="arch-live-status">
                        <div class="live-indicator">
                            <span class="live-dot"></span>
                            <span>LIVE</span>
                        </div>
                        <div class="arch-metrics-mini">
                            <span><i class="fas fa-tachometer-alt"></i> 2.4M events/min</span>
                            <span><i class="fas fa-clock"></i> 99.9% uptime</span>
                        </div>
                    </div>
                </div>

                <!-- Main Architecture Flow -->
                <div class="arch-flow-container">
                    <!-- Layer 1: Fuente de Datoss -->
                    <div class="arch-layer sources">
                        <div class="layer-header-premium">
                            <div class="layer-number">01</div>
                            <div class="layer-title">
                                <i class="fas fa-database"></i>
                                <span>DATA SOURCES</span>
                            </div>
                            <div class="layer-throughput">
                                <i class="fas fa-arrow-up"></i> 500K/s
                            </div>
                        </div>
                        <div class="source-cards-grid">
                            <a href="https://www.salesforce.com/" target="_blank" class="source-card-premium saas">
                                <div class="source-icon"><i class="fab fa-salesforce"></i></div>
                                <div class="source-info">
                                    <span class="source-name">SaaS Apps</span>
                                    <span class="source-detail">Salesforce, HubSpot</span>
                                </div>
                                <div class="source-rate">12K/min</div>
                            </a>
                            <a href="https://www.postgresql.org/" target="_blank" class="source-card-premium oltp">
                                <div class="source-icon"><i class="devicon-postgresql-plain colored"></i></div>
                                <div class="source-info">
                                    <span class="source-name">OLTP DBs</span>
                                    <span class="source-detail">PostgreSQL, MySQL</span>
                                </div>
                                <div class="source-rate">45K/min</div>
                            </a>
                            <a href="https://kafka.apache.org/" target="_blank" class="source-card-premium events">
                                <div class="source-icon"><i class="devicon-apachekafka-original"></i></div>
                                <div class="source-info">
                                    <span class="source-name">Flujo de Eventoss</span>
                                    <span class="source-detail">Kafka, Kinesis</span>
                                </div>
                                <div class="source-rate">2.1M/min</div>
                            </a>
                            <a href="https://aws.amazon.com/s3/" target="_blank" class="source-card-premium files">
                                <div class="source-icon"><i class="fas fa-file-alt"></i></div>
                                <div class="source-info">
                                    <span class="source-name">File Storage</span>
                                    <span class="source-detail">S3, GCS, ADLS</span>
                                </div>
                                <div class="source-rate">8TB/day</div>
                            </a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>INGESTION</span>
                        </div>
                    </div>

                    <!-- Layer 2: Ingestion -->
                    <div class="arch-layer ingestion">
                        <div class="layer-header-premium">
                            <div class="layer-number">02</div>
                            <div class="layer-title">
                                <i class="fas fa-download"></i>
                                <span>INGESTION LAYER</span>
                            </div>
                        </div>
                        <div class="ingestion-tools-premium">
                            <a href="https://kafka.apache.org/" target="_blank" class="ingestion-tool streaming">
                                <div class="tool-icon-wrap"><i class="devicon-apachekafka-original"></i></div>
                                <div class="tool-name">Kafka Connect</div>
                                <div class="tool-type">Streaming</div>
                                <div class="tool-latency"><i class="fas fa-bolt"></i> &lt;10ms</div>
                            </a>
                            <a href="https://www.fivetran.com/" target="_blank" class="ingestion-tool batch">
                                <div class="tool-icon-wrap"><i class="fas fa-plug"></i></div>
                                <div class="tool-name">Fivetran</div>
                                <div class="tool-type">CDC/Batch</div>
                                <div class="tool-latency"><i class="fas fa-clock"></i> 5min</div>
                            </a>
                            <a href="https://airbyte.com/" target="_blank" class="ingestion-tool hybrid">
                                <div class="tool-icon-wrap"><i class="fas fa-sync-alt"></i></div>
                                <div class="tool-name">Airbyte</div>
                                <div class="tool-type">EL Tool</div>
                                <div class="tool-latency"><i class="fas fa-clock"></i> Custom</div>
                            </a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated delay-1"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>RAW DATA</span>
                        </div>
                    </div>

                    <!-- Layer 3: Lakehouse -->
                    <div class="arch-layer lakehouse">
                        <div class="layer-header-premium">
                            <div class="layer-number">03</div>
                            <div class="layer-title">
                                <i class="fas fa-water"></i>
                                <span>LAKEHOUSE</span>
                            </div>
                            <div class="layer-storage">
                                <i class="fas fa-hdd"></i> 45 PB
                            </div>
                        </div>
                        <div class="medallion-architecture">
                            <div class="medallion-zone bronze">
                                <div class="zone-glow"></div>
                                <div class="zone-content">
                                    <div class="zone-icon"><i class="fas fa-file-import"></i></div>
                                    <div class="zone-label">BRONZE</div>
                                    <div class="zone-desc">Raw Landing</div>
                                    <div class="zone-stats">
                                        <span><i class="fas fa-table"></i> 1,240</span>
                                        <span><i class="fas fa-database"></i> 12TB</span>
                                    </div>
                                </div>
                            </div>
                            <div class="zone-flow">
                                <div class="flow-particles">
                                    <span></span><span></span><span></span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <div class="medallion-zone silver">
                                <div class="zone-glow"></div>
                                <div class="zone-content">
                                    <div class="zone-icon"><i class="fas fa-broom"></i></div>
                                    <div class="zone-label">SILVER</div>
                                    <div class="zone-desc">Cleaned & Validated</div>
                                    <div class="zone-stats">
                                        <span><i class="fas fa-table"></i> 890</span>
                                        <span><i class="fas fa-database"></i> 8TB</span>
                                    </div>
                                </div>
                            </div>
                            <div class="zone-flow">
                                <div class="flow-particles">
                                    <span></span><span></span><span></span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <div class="medallion-zone gold">
                                <div class="zone-glow"></div>
                                <div class="zone-content">
                                    <div class="zone-icon"><i class="fas fa-gem"></i></div>
                                    <div class="zone-label">GOLD</div>
                                    <div class="zone-desc">Business Ready</div>
                                    <div class="zone-stats">
                                        <span><i class="fas fa-table"></i> 156</span>
                                        <span><i class="fas fa-database"></i> 2TB</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="lakehouse-tech-row">
                            <a href="https://delta.io/" target="_blank" class="lake-tech-chip"><i class="fas fa-layer-group"></i> Delta Lake</a>
                            <a href="https://iceberg.apache.org/" target="_blank" class="lake-tech-chip"><i class="fas fa-cubes"></i> Iceberg</a>
                            <a href="https://aws.amazon.com/s3/" target="_blank" class="lake-tech-chip"><i class="devicon-amazonwebservices-plain-wordmark"></i> S3</a>
                            <a href="https://hudi.apache.org/" target="_blank" class="lake-tech-chip"><i class="fas fa-bolt"></i> Hudi</a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated delay-2"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>TRANSFORM</span>
                        </div>
                    </div>

                    <!-- Layer 4: Processing -->
                    <div class="arch-layer processing">
                        <div class="layer-header-premium">
                            <div class="layer-number">04</div>
                            <div class="layer-title">
                                <i class="fas fa-cogs"></i>
                                <span>PROCESSING</span>
                            </div>
                        </div>
                        <div class="processing-engines-premium">
                            <a href="https://spark.apache.org/" target="_blank" class="engine-card-premium">
                                <div class="engine-icon"><i class="devicon-apachespark-original colored"></i></div>
                                <div class="engine-name">Apache Spark</div>
                                <div class="engine-use">Distributed ETL</div>
                                <div class="engine-metric"><i class="fas fa-microchip"></i> 500 cores</div>
                            </a>
                            <a href="https://www.getdbt.com/" target="_blank" class="engine-card-premium">
                                <div class="engine-icon"><i class="fas fa-code-branch"></i></div>
                                <div class="engine-name">dbt Core</div>
                                <div class="engine-use">SQL Transforms</div>
                                <div class="engine-metric"><i class="fas fa-cube"></i> 340 models</div>
                            </a>
                            <a href="https://flink.apache.org/" target="_blank" class="engine-card-premium">
                                <div class="engine-icon"><i class="fas fa-water"></i></div>
                                <div class="engine-name">Apache Flink</div>
                                <div class="engine-use">Procesamiento de Streams</div>
                                <div class="engine-metric"><i class="fas fa-bolt"></i> Real-time</div>
                            </a>
                        </div>
                    </div>

                    <!-- Animated Flow Line -->
                    <div class="flow-connector-premium">
                        <div class="flow-line-animated delay-3"></div>
                        <div class="flow-label-badge">
                            <i class="fas fa-arrow-down"></i>
                            <span>SERVE</span>
                        </div>
                    </div>

                    <!-- Layer 5: Serving -->
                    <div class="arch-layer serving">
                        <div class="layer-header-premium">
                            <div class="layer-number">05</div>
                            <div class="layer-title">
                                <i class="fas fa-chart-line"></i>
                                <span>DATA PRODUCTS</span>
                            </div>
                        </div>
                        <div class="serving-grid-premium">
                            <a href="https://www.snowflake.com/" target="_blank" class="serving-card warehouse">
                                <i class="fas fa-snowflake"></i>
                                <span>Snowflake</span>
                                <small>Cloud DW</small>
                            </a>
                            <a href="https://powerbi.microsoft.com/" target="_blank" class="serving-card bi">
                                <i class="fas fa-chart-pie"></i>
                                <span>Power BI</span>
                                <small>Dashboards</small>
                            </a>
                            <a href="https://grafana.com/" target="_blank" class="serving-card monitoring">
                                <i class="devicon-grafana-original colored"></i>
                                <span>Grafana</span>
                                <small>Monitoring</small>
                            </a>
                            <a href="https://www.tensorflow.org/" target="_blank" class="serving-card ml">
                                <i class="fas fa-brain"></i>
                                <span>ML Models</span>
                                <small>Predictions</small>
                            </a>
                            <a href="https://fastapi.tiangolo.com/" target="_blank" class="serving-card api">
                                <i class="fas fa-plug"></i>
                                <span>APIs</span>
                                <small>Data Products</small>
                            </a>
                            <a href="https://www.looker.com/" target="_blank" class="serving-card semantic">
                                <i class="fas fa-cubes"></i>
                                <span>Semantic</span>
                                <small>Metrics Layer</small>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Orchestration Bar -->
                <div class="orchestration-premium">
                    <div class="orch-wrapper">
                        <div class="orch-icon-animated">
                            <i class="devicon-apacheairflow-plain"></i>
                        </div>
                        <div class="orch-info">
                            <span class="orch-name">Apache Airflow</span>
                            <span class="orch-role">Orchestration & Scheduling</span>
                        </div>
                        <div class="orch-stats">
                            <div class="orch-stat">
                                <span class="stat-num">156</span>
                                <span class="stat-label">DAGs</span>
                            </div>
                            <div class="orch-stat">
                                <span class="stat-num">12K</span>
                                <span class="stat-label">Tasks/day</span>
                            </div>
                            <div class="orch-stat success">
                                <span class="stat-num">99.8%</span>
                                <span class="stat-label">Success</span>
                            </div>
                        </div>
                        <div class="orch-status-badge running">
                            <span class="status-pulse"></span>
                            <span>All Systems Operational</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== GOVERNANCE DIAGRAM - DAMA-DMBOK & COLLIBRA FRAMEWORK ==================== -->
        <div id="pipeline-governance" class="pipeline-diagram-premium pipeline-mode">
            <!-- Premium Governance Framework -->
            <div class="gov-diagram-premium glass-card">

                <!-- ===== HEADER WITH LIVE STATUS & COMPLIANCE ===== -->
                <div class="gov-premium-header-v2">
                    <div class="gov-title-section-v2">
                        <div class="gov-icon-animated-v2">
                            <i class="fas fa-shield-alt"></i>
                            <div class="shield-rings">
                                <span class="ring ring-1"></span>
                                <span class="ring ring-2"></span>
                                <span class="ring ring-3"></span>
                            </div>
                        </div>
                        <div class="gov-title-text-v2">
                            <div class="gov-badge-row">
                                <span class="framework-badge dama">
                                    <i class="fas fa-certificate"></i> DAMA-DMBOK
                                </span>
                                <span class="framework-badge collibra">
                                    <i class="fas fa-gem"></i> Collibra Framework
                                </span>
                            </div>
                            <h3>Enterprise Data Governance</h3>
                            <span class="gov-subtitle-v2">Políticas, procesos y roles para asegurar datos precisos, disponibles y confiables</span>
                        </div>
                    </div>
                    <div class="compliance-section-v2">
                        <div class="compliance-header">
                            <span class="compliance-label">COMPLIANCE STATUS</span>
                            <span class="compliance-score">100%</span>
                        </div>
                        <div class="compliance-badges-v2">
                            <div class="compliance-badge-v2 gdpr active">
                                <i class="fas fa-check-circle"></i>
                                <span>GDPR</span>
                                <small>EU Privacy</small>
                            </div>
                            <div class="compliance-badge-v2 ccpa active">
                                <i class="fas fa-check-circle"></i>
                                <span>CCPA</span>
                                <small>California</small>
                            </div>
                            <div class="compliance-badge-v2 soc2 active">
                                <i class="fas fa-check-circle"></i>
                                <span>SOC 2</span>
                                <small>Type II</small>
                            </div>
                            <div class="compliance-badge-v2 hipaa active">
                                <i class="fas fa-check-circle"></i>
                                <span>HIPAA</span>
                                <small>Healthcare</small>
                            </div>
                            <div class="compliance-badge-v2 iso active">
                                <i class="fas fa-check-circle"></i>
                                <span>ISO 27001</span>
                                <small>Security</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== DAMA WHEEL - 11 KNOWLEDGE AREAS ===== -->
                <div class="dama-wheel-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-dharmachakra"></i></div>
                        <div class="header-text">
                            <h4>DAMA-DMBOK Knowledge Areas</h4>
                            <span>11 áreas de conocimiento con Data Governance al centro</span>
                        </div>
                        <a href="https://www.dama.org/cpages/body-of-knowledge" target="_blank" class="header-link">
                            <i class="fas fa-external-link-alt"></i> DAMA.org
                        </a>
                    </div>

                    <div class="dama-wheel-container">
                        <!-- Center: Data Governance -->
                        <div class="wheel-center">
                            <div class="center-content">
                                <i class="fas fa-shield-alt"></i>
                                <span class="center-label">DATA<br>GOVERNANCE</span>
                                <span class="center-subtitle">Centro de Control</span>
                            </div>
                            <div class="center-glow"></div>
                        </div>

                        <!-- Orbiting Knowledge Areas -->
                        <div class="wheel-orbit orbit-1">
                            <a href="https://www.dama.org/" target="_blank" class="ka-node architecture" style="--angle: 0deg">
                                <i class="fas fa-project-diagram"></i>
                                <span class="ka-label">Data Architecture</span>
                                <div class="ka-tooltip">Diseño y estructura de datos empresariales</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node modeling" style="--angle: 60deg">
                                <i class="fas fa-sitemap"></i>
                                <span class="ka-label">Data Modeling</span>
                                <div class="ka-tooltip">Modelos conceptuales, lógicos y físicos</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node storage" style="--angle: 120deg">
                                <i class="fas fa-database"></i>
                                <span class="ka-label">Data Storage</span>
                                <div class="ka-tooltip">Almacenamiento y operaciones de datos</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node security" style="--angle: 180deg">
                                <i class="fas fa-lock"></i>
                                <span class="ka-label">Data Security</span>
                                <div class="ka-tooltip">Protección y privacidad de datos</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node integration" style="--angle: 240deg">
                                <i class="fas fa-exchange-alt"></i>
                                <span class="ka-label">Data Integration</span>
                                <div class="ka-tooltip">ETL, ELT e interoperabilidad</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node quality" style="--angle: 300deg">
                                <i class="fas fa-check-double"></i>
                                <span class="ka-label">Data Quality</span>
                                <div class="ka-tooltip">Precisión, completitud, consistencia</div>
                            </a>
                        </div>

                        <div class="wheel-orbit orbit-2">
                            <a href="https://www.dama.org/" target="_blank" class="ka-node reference" style="--angle: 30deg">
                                <i class="fas fa-book"></i>
                                <span class="ka-label">Reference & Master</span>
                                <div class="ka-tooltip">Datos maestros y de referencia</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node warehouse" style="--angle: 90deg">
                                <i class="fas fa-warehouse"></i>
                                <span class="ka-label">DW & BI</span>
                                <div class="ka-tooltip">Data Warehouse y Business Intelligence</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node metadata" style="--angle: 150deg">
                                <i class="fas fa-tags"></i>
                                <span class="ka-label">Metadata</span>
                                <div class="ka-tooltip">Gestión de metadatos y catálogo</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node documents" style="--angle: 210deg">
                                <i class="fas fa-file-alt"></i>
                                <span class="ka-label">Documents & Content</span>
                                <div class="ka-tooltip">Datos no estructurados</div>
                            </a>
                            <a href="https://www.dama.org/" target="_blank" class="ka-node ai" style="--angle: 270deg">
                                <i class="fas fa-brain"></i>
                                <span class="ka-label">AI & Ethics</span>
                                <div class="ka-tooltip">IA responsable y ética de datos</div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- ===== COLLIBRA 5 PILLARS ===== -->
                <div class="collibra-pillars-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-columns"></i></div>
                        <div class="header-text">
                            <h4>Los 5 Pilares de Data Governance</h4>
                            <span>Framework de Collibra para gobierno de datos efectivo</span>
                        </div>
                        <a href="https://www.collibra.com/us/en/resources/what-is-data-governance" target="_blank" class="header-link">
                            <i class="fas fa-external-link-alt"></i> Collibra
                        </a>
                    </div>

                    <div class="pillars-grid-v2">
                        <!-- Pillar 1: Consistent Definitions -->
                        <div class="pillar-card-v2 definitions">
                            <div class="pillar-number">01</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-language"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Definiciones Consistentes</h5>
                            <p class="pillar-desc">Vocabulario empresarial común que asegura que todos hablen el mismo idioma de datos</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-book-open"></i> Business Glossary</span>
                                <span><i class="fas fa-code"></i> Data Dictionary</span>
                                <span><i class="fas fa-equals"></i> Semantic Layer</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://www.collibra.com/" target="_blank" title="Collibra"><i class="fas fa-database" style="color: #00B5E2; font-size: 20px;"></i></a>
                                <a href="https://atlan.com/" target="_blank" title="Atlan"><i class="fas fa-compass" style="color: #8B5CF6; font-size: 20px;"></i></a>
                                <a href="https://datahubproject.io/" target="_blank" title="DataHub"><i class="fas fa-project-diagram" style="color: #00A1E0; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">1,240</span>
                                <span class="stat-label">Terms Defined</span>
                            </div>
                        </div>

                        <!-- Pillar 2: Access Control -->
                        <div class="pillar-card-v2 access">
                            <div class="pillar-number">02</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-user-shield"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Control de Acceso</h5>
                            <p class="pillar-desc">Políticas que definen quién puede ver, usar y modificar cada activo de datos</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-users-cog"></i> RBAC/ABAC</span>
                                <span><i class="fas fa-mask"></i> Dynamic Masking</span>
                                <span><i class="fas fa-key"></i> Encryption</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://privacera.com/" target="_blank" title="Privacera"><i class="fas fa-user-lock" style="color: #2563EB; font-size: 20px;"></i></a>
                                <a href="https://www.immuta.com/" target="_blank" title="Immuta"><i class="fas fa-shield-alt" style="color: #00C389; font-size: 20px;"></i></a>
                                <a href="https://www.hashicorp.com/products/vault" target="_blank"><i class="fas fa-vault" style="color: #FFCC00; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">156</span>
                                <span class="stat-label">Policies Active</span>
                            </div>
                        </div>

                        <!-- Pillar 3: Relationship Management -->
                        <div class="pillar-card-v2 relationships">
                            <div class="pillar-number">03</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-project-diagram"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Gestión de Relaciones</h5>
                            <p class="pillar-desc">Mapeo de dependencias y linaje de datos desde origen hasta consumo</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-route"></i> Data Lineage</span>
                                <span><i class="fas fa-link"></i> Impact Analysis</span>
                                <span><i class="fas fa-network-wired"></i> Dependencies</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://www.montecarlodata.com/" target="_blank" title="Monte Carlo"><i class="fas fa-chart-line" style="color: #FF6B6B; font-size: 20px;"></i></a>
                                <a href="https://openlineage.io/" target="_blank"><i class="fas fa-stream" style="color: #00D4AA; font-size: 20px;"></i></a>
                                <a href="https://marquez.apache.org/" target="_blank"><i class="fab fa-apache" style="color: #D22128; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">2,890</span>
                                <span class="stat-label">Lineage Paths</span>
                            </div>
                        </div>

                        <!-- Pillar 4: Regulatory Compliance -->
                        <div class="pillar-card-v2 compliance">
                            <div class="pillar-number">04</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-balance-scale"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Cumplimiento Regulatorio</h5>
                            <p class="pillar-desc">Adherencia a regulaciones de privacidad y estándares de la industria</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-gavel"></i> GDPR/CCPA</span>
                                <span><i class="fas fa-clipboard-check"></i> Audit Trails</span>
                                <span><i class="fas fa-clock"></i> Retention</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://bigid.com/" target="_blank" title="BigID"><i class="fas fa-id-card" style="color: #FF6B00; font-size: 20px;"></i></a>
                                <a href="https://www.onetrust.com/" target="_blank" title="OneTrust"><i class="fas fa-check-circle" style="color: #00857C; font-size: 20px;"></i></a>
                                <a href="https://www.truata.com/" target="_blank"><i class="fas fa-shield-virus" style="color: #7C3AED; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">100%</span>
                                <span class="stat-label">Compliant</span>
                            </div>
                        </div>

                        <!-- Pillar 5: Process Automation -->
                        <div class="pillar-card-v2 automation">
                            <div class="pillar-number">05</div>
                            <div class="pillar-icon-v2">
                                <i class="fas fa-robot"></i>
                                <div class="pillar-glow-v2"></div>
                            </div>
                            <h5 class="pillar-title-v2">Automatización de Procesos</h5>
                            <p class="pillar-desc">Workflows automatizados para solicitudes, aprobaciones y remediación</p>
                            <div class="pillar-features-v2">
                                <span><i class="fas fa-tasks"></i> Workflows</span>
                                <span><i class="fas fa-bell"></i> Alerts</span>
                                <span><i class="fas fa-wrench"></i> Auto-Remediation</span>
                            </div>
                            <div class="pillar-tools-v2">
                                <a href="https://airflow.apache.org/" target="_blank"><i class="devicon-apacheairflow-plain" style="font-size: 20px;"></i></a>
                                <a href="https://n8n.io/" target="_blank"><img src="https://cdn.simpleicons.org/n8n/FF6D5A" alt="n8n" width="20"></a>
                                <a href="https://www.servicenow.com/" target="_blank" title="ServiceNow"><i class="fas fa-cogs" style="color: #62D84E; font-size: 20px;"></i></a>
                            </div>
                            <div class="pillar-stat-v2">
                                <span class="stat-num">45</span>
                                <span class="stat-label">Workflows Active</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== DATA LIFECYCLE MANAGEMENT ===== -->
                <div class="lifecycle-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-sync-alt"></i></div>
                        <div class="header-text">
                            <h4>Data Lifecycle Management</h4>
                            <span>Gestión del ciclo de vida completo de los datos</span>
                        </div>
                    </div>

                    <div class="lifecycle-flow">
                        <div class="lifecycle-stage create">
                            <div class="stage-icon-v2"><i class="fas fa-plus-circle"></i></div>
                            <span class="stage-name">Create</span>
                            <span class="stage-actions">Ingesta, Captura</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage store">
                            <div class="stage-icon-v2"><i class="fas fa-database"></i></div>
                            <span class="stage-name">Store</span>
                            <span class="stage-actions">Raw, Staging</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage use">
                            <div class="stage-icon-v2"><i class="fas fa-chart-line"></i></div>
                            <span class="stage-name">Use</span>
                            <span class="stage-actions">Analytics, ML</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage share">
                            <div class="stage-icon-v2"><i class="fas fa-share-alt"></i></div>
                            <span class="stage-name">Share</span>
                            <span class="stage-actions">APIs, Reports</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage archive">
                            <div class="stage-icon-v2"><i class="fas fa-archive"></i></div>
                            <span class="stage-name">Archive</span>
                            <span class="stage-actions">Cold Storage</span>
                        </div>
                        <div class="lifecycle-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="lifecycle-stage destroy">
                            <div class="stage-icon-v2"><i class="fas fa-trash-alt"></i></div>
                            <span class="stage-name">Destroy</span>
                            <span class="stage-actions">Retention Policy</span>
                        </div>
                    </div>
                </div>

                <!-- ===== ROLES & RESPONSIBILITIES (RACI) ===== -->
                <div class="roles-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-users"></i></div>
                        <div class="header-text">
                            <h4>Roles & Responsabilidades</h4>
                            <span>Estructura organizacional para Data Governance</span>
                        </div>
                    </div>

                    <div class="roles-grid">
                        <div class="role-card-v2 owner">
                            <div class="role-avatar">
                                <i class="fas fa-user-tie"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Owner</h5>
                                <span class="role-level">Ejecutivo</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Define políticas de acceso</li>
                                <li><i class="fas fa-check"></i> Aprueba usos de datos</li>
                                <li><i class="fas fa-check"></i> Responsable del dominio</li>
                            </ul>
                            <div class="role-tag">ACCOUNTABLE</div>
                        </div>

                        <div class="role-card-v2 steward">
                            <div class="role-avatar">
                                <i class="fas fa-user-cog"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Steward</h5>
                                <span class="role-level">Táctico</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Mantiene calidad de datos</li>
                                <li><i class="fas fa-check"></i> Gestiona metadatos</li>
                                <li><i class="fas fa-check"></i> Resuelve issues de datos</li>
                            </ul>
                            <div class="role-tag">RESPONSIBLE</div>
                        </div>

                        <div class="role-card-v2 custodian">
                            <div class="role-avatar">
                                <i class="fas fa-user-shield"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Custodian</h5>
                                <span class="role-level">Técnico</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Implementa controles</li>
                                <li><i class="fas fa-check"></i> Gestiona infraestructura</li>
                                <li><i class="fas fa-check"></i> Asegura disponibilidad</li>
                            </ul>
                            <div class="role-tag">SUPPORT</div>
                        </div>

                        <div class="role-card-v2 consumer">
                            <div class="role-avatar">
                                <i class="fas fa-user-chart"></i>
                                <div class="role-status online"></div>
                            </div>
                            <div class="role-info">
                                <h5>Data Consumer</h5>
                                <span class="role-level">Operacional</span>
                            </div>
                            <ul class="role-responsibilities">
                                <li><i class="fas fa-check"></i> Usa datos según políticas</li>
                                <li><i class="fas fa-check"></i> Reporta issues de calidad</li>
                                <li><i class="fas fa-check"></i> Solicita acceso formal</li>
                            </ul>
                            <div class="role-tag">INFORMED</div>
                        </div>
                    </div>
                </div>

                <!-- ===== DATA CLASSIFICATION v2 ===== -->
                <div class="classification-section-v2">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-fingerprint"></i></div>
                        <div class="header-text">
                            <h4>Data Classification Framework</h4>
                            <span>Clasificación basada en sensibilidad y criticidad</span>
                        </div>
                    </div>

                    <div class="classification-grid-v2">
                        <div class="class-card-v2 public">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">PUBLIC</span>
                                <span class="class-count-v2">42 assets</span>
                            </div>
                            <div class="class-desc">Información disponible públicamente sin restricciones</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-globe"></i> Open Access</span>
                            </div>
                        </div>

                        <div class="class-card-v2 internal">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">INTERNAL</span>
                                <span class="class-count-v2">89 assets</span>
                            </div>
                            <div class="class-desc">Solo para uso interno de la organización</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-building"></i> Internal Only</span>
                                <span class="control-item"><i class="fas fa-id-badge"></i> Auth Required</span>
                            </div>
                        </div>

                        <div class="class-card-v2 confidential">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">CONFIDENTIAL</span>
                                <span class="class-count-v2">18 assets</span>
                            </div>
                            <div class="class-desc">Acceso restringido basado en necesidad de negocio</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-lock"></i> Restricted</span>
                                <span class="control-item"><i class="fas fa-user-check"></i> Approval</span>
                                <span class="control-item"><i class="fas fa-history"></i> Audit Log</span>
                            </div>
                        </div>

                        <div class="class-card-v2 pii">
                            <div class="class-header-v2">
                                <div class="class-indicator"></div>
                                <span class="class-name-v2">PII / SENSITIVE</span>
                                <span class="class-count-v2">7 assets</span>
                            </div>
                            <div class="class-desc">Datos personales identificables bajo regulación</div>
                            <div class="class-controls">
                                <span class="control-item"><i class="fas fa-mask"></i> Masked</span>
                                <span class="control-item"><i class="fas fa-key"></i> Encrypted</span>
                                <span class="control-item"><i class="fas fa-clock"></i> Retention</span>
                                <span class="control-item"><i class="fas fa-trash"></i> Right to Delete</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== MATURITY MODEL ===== -->
                <div class="maturity-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-chart-line"></i></div>
                        <div class="header-text">
                            <h4>Data Governance Maturity</h4>
                            <span>Evaluación del nivel de madurez del programa</span>
                        </div>
                    </div>

                    <div class="maturity-chart">
                        <div class="maturity-level level-1">
                            <div class="level-marker">1</div>
                            <span class="level-name">Initial</span>
                            <span class="level-desc">Ad-hoc</span>
                        </div>
                        <div class="maturity-level level-2">
                            <div class="level-marker">2</div>
                            <span class="level-name">Managed</span>
                            <span class="level-desc">Reactive</span>
                        </div>
                        <div class="maturity-level level-3">
                            <div class="level-marker">3</div>
                            <span class="level-name">Defined</span>
                            <span class="level-desc">Proactive</span>
                        </div>
                        <div class="maturity-level level-4 current">
                            <div class="level-marker">4</div>
                            <span class="level-name">Measured</span>
                            <span class="level-desc">Quantified</span>
                            <div class="current-badge">Current</div>
                        </div>
                        <div class="maturity-level level-5">
                            <div class="level-marker">5</div>
                            <span class="level-name">Optimized</span>
                            <span class="level-desc">Continuous</span>
                        </div>
                        <div class="maturity-progress-bar">
                            <div class="progress-fill" style="width: 80%"></div>
                        </div>
                    </div>
                </div>

                <!-- ===== GOVERNANCE DASHBOARD FOOTER ===== -->
                <div class="gov-dashboard-footer-v2">
                    <div class="dashboard-metrics-v2">
                        <div class="dash-metric-v2">
                            <div class="metric-ring quality">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="98.5, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">98.5%</span>
                            </div>
                            <span class="metric-label-v2">Data Quality Score</span>
                        </div>
                        <div class="dash-metric-v2">
                            <div class="metric-ring catalog">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="92, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">92%</span>
                            </div>
                            <span class="metric-label-v2">Assets Catalogued</span>
                        </div>
                        <div class="dash-metric-v2">
                            <div class="metric-ring compliance">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="100, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">100%</span>
                            </div>
                            <span class="metric-label-v2">Compliance Rate</span>
                        </div>
                        <div class="dash-metric-v2">
                            <div class="metric-ring sla">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    <path class="circle-fill" stroke-dasharray="99.9, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                </svg>
                                <span class="metric-value-ring">99.9%</span>
                            </div>
                            <span class="metric-label-v2">SLA Achievement</span>
                        </div>
                    </div>
                    <div class="dashboard-status-v2">
                        <span class="status-indicator-v2 healthy"></span>
                        <span>All governance systems operational</span>
                        <span class="last-updated-v2">Last scan: 2 min ago</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== DATA VISUALIZATION & REPORTING ==================== -->
        <div id="pipeline-visualization" class="pipeline-diagram-premium pipeline-mode">
            <div class="viz-diagram-premium glass-card">

                <!-- ===== VIZ HEADER ===== -->
                <div class="viz-premium-header">
                    <div class="viz-title-section">
                        <div class="viz-icon-animated">
                            <i class="fas fa-chart-pie"></i>
                            <div class="viz-rings">
                                <span class="ring ring-1"></span>
                                <span class="ring ring-2"></span>
                            </div>
                        </div>
                        <div class="viz-title-text">
                            <div class="viz-badge-row">
                                <span class="viz-badge bi">
                                    <i class="fas fa-chart-bar"></i> Business Intelligence
                                </span>
                                <span class="viz-badge reporting">
                                    <i class="fas fa-file-alt"></i> Reporting
                                </span>
                                <span class="viz-badge self-service">
                                    <i class="fas fa-users"></i> Self-Service
                                </span>
                            </div>
                            <h3>Data Visualization & Reporting</h3>
                            <span class="viz-subtitle">Transforma datos en insights accionables para toda la organización</span>
                        </div>
                    </div>
                    <div class="viz-stats-row">
                        <div class="viz-stat">
                            <span class="stat-num">4</span>
                            <span class="stat-label">Plataformas</span>
                        </div>
                        <div class="viz-stat">
                            <span class="stat-num">100+</span>
                            <span class="stat-label">Visualizaciones</span>
                        </div>
                        <div class="viz-stat">
                            <span class="stat-num">24/7</span>
                            <span class="stat-label">Dashboards</span>
                        </div>
                    </div>
                </div>

                <!-- ===== VISUALIZATION PLATFORMS ===== -->
                <div class="viz-platforms-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-th-large"></i></div>
                        <div class="header-text">
                            <h4>Plataformas de Visualización</h4>
                            <span>Las herramientas líderes de BI y Analytics</span>
                        </div>
                    </div>

                    <div class="viz-platforms-grid">
                        <!-- Power BI -->
                        <div class="viz-platform-card powerbi"
                             data-premium-tooltip="Power BI|Plataforma de analytics de Microsoft con DAX, Power Query y Copilot AI|100+ Conectores,Mobile App,Embedded|tool|fa-chart-bar|MICROSOFT">
                            <div class="platform-header">
                                <div class="platform-logo">
                                    <img src="https://cdn.simpleicons.org/powerbi/F2C811" alt="Power BI" width="48" height="48" style="display: block;">
                                </div>
                                <div class="platform-info">
                                    <h5>Power BI</h5>
                                    <span class="platform-vendor">Microsoft</span>
                                </div>
                                <div class="platform-badge enterprise">Enterprise</div>
                            </div>
                            <p class="platform-desc">Plataforma de analytics de Microsoft con integración nativa a Azure y Microsoft 365</p>
                            <div class="platform-features">
                                <div class="feature-item">
                                    <i class="fas fa-magic"></i>
                                    <span>DAX & Power Query</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-robot"></i>
                                    <span>Copilot AI</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-plug"></i>
                                    <span>100+ Conectores</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-mobile-alt"></i>
                                    <span>Mobile App</span>
                                </div>
                            </div>
                            <div class="platform-components">
                                <span class="component">Desktop</span>
                                <span class="component">Service</span>
                                <span class="component">Mobile</span>
                                <span class="component">Embedded</span>
                            </div>
                            <div class="platform-footer">
                                <a href="https://powerbi.microsoft.com/" target="_blank" class="platform-link">
                                    <i class="fas fa-external-link-alt"></i> Documentación
                                </a>
                                <span class="platform-use-case">Enterprise BI</span>
                            </div>
                        </div>

                        <!-- Tableau -->
                        <div class="viz-platform-card tableau"
                             data-premium-tooltip="Tableau|Líder en visualización analítica con VizQL, Tableau Pulse y exploración intuitiva|Ask Data NLP,VizQL,Cloud|tool|fa-chart-area|SALESFORCE">
                            <div class="platform-header">
                                <div class="platform-logo">
                                    <img src="https://cdn.simpleicons.org/tableau/E97627" alt="Tableau" width="48" height="48" style="display: block;">
                                </div>
                                <div class="platform-info">
                                    <h5>Tableau</h5>
                                    <span class="platform-vendor">Salesforce</span>
                                </div>
                                <div class="platform-badge leader">Market Leader</div>
                            </div>
                            <p class="platform-desc">Líder en visualización analítica con VizQL y exploración de datos intuitiva</p>
                            <div class="platform-features">
                                <div class="feature-item">
                                    <i class="fas fa-brain"></i>
                                    <span>Tableau Pulse</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-comment-dots"></i>
                                    <span>Ask Data (NLP)</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-project-diagram"></i>
                                    <span>VizQL</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-cloud"></i>
                                    <span>Tableau Cloud</span>
                                </div>
                            </div>
                            <div class="platform-components">
                                <span class="component">Desktop</span>
                                <span class="component">Server</span>
                                <span class="component">Cloud</span>
                                <span class="component">Prep</span>
                            </div>
                            <div class="platform-footer">
                                <a href="https://www.tableau.com/products/tableau" target="_blank" class="platform-link">
                                    <i class="fas fa-external-link-alt"></i> Documentación
                                </a>
                                <span class="platform-use-case">Visual Analytics</span>
                            </div>
                        </div>

                        <!-- Looker -->
                        <div class="viz-platform-card looker"
                             data-premium-tooltip="Looker|BI moderno con LookML para definir métricas consistentes en toda la organización|LookML,Explores,Embedded SDK|tool|fa-search|GOOGLE CLOUD">
                            <div class="platform-header">
                                <div class="platform-logo">
                                    <i class="fas fa-search" style="font-size: 2.5rem; color: #4285F4;"></i>
                                </div>
                                <div class="platform-info">
                                    <h5>Looker</h5>
                                    <span class="platform-vendor">Google Cloud</span>
                                </div>
                                <div class="platform-badge semantic">Semantic Layer</div>
                            </div>
                            <p class="platform-desc">BI moderno con LookML para definir métricas consistentes en toda la organización</p>
                            <div class="platform-features">
                                <div class="feature-item">
                                    <i class="fas fa-code"></i>
                                    <span>LookML</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-search"></i>
                                    <span>Explores</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-puzzle-piece"></i>
                                    <span>Embedded SDK</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-bell"></i>
                                    <span>Alerts</span>
                                </div>
                            </div>
                            <div class="platform-components">
                                <span class="component">Looker</span>
                                <span class="component">Studio</span>
                                <span class="component">API</span>
                                <span class="component">Embed</span>
                            </div>
                            <div class="platform-footer">
                                <a href="https://cloud.google.com/looker" target="_blank" class="platform-link">
                                    <i class="fas fa-external-link-alt"></i> Documentación
                                </a>
                                <span class="platform-use-case">Data Modeling</span>
                            </div>
                        </div>

                        <!-- Streamlit -->
                        <div class="viz-platform-card streamlit"
                             data-premium-tooltip="Streamlit|Framework open-source para crear data apps interactivas con Python puro|Pure Python,Widgets,Hot Reload|tool|fa-rocket|SNOWFLAKE">
                            <div class="platform-header">
                                <div class="platform-logo">
                                    <i class="fab fa-python" style="font-size: 2.5rem; color: #FF4B4B;"></i>
                                </div>
                                <div class="platform-info">
                                    <h5>Streamlit</h5>
                                    <span class="platform-vendor">Snowflake</span>
                                </div>
                                <div class="platform-badge python">Python-First</div>
                            </div>
                            <p class="platform-desc">Framework open-source para crear data apps interactivas con Python puro</p>
                            <div class="platform-features">
                                <div class="feature-item">
                                    <i class="fab fa-python"></i>
                                    <span>Pure Python</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-sliders-h"></i>
                                    <span>Widgets</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-rocket"></i>
                                    <span>Hot Reload</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>Community Cloud</span>
                                </div>
                            </div>
                            <div class="platform-components">
                                <span class="component">Core</span>
                                <span class="component">Components</span>
                                <span class="component">Cloud</span>
                                <span class="component">Snowflake</span>
                            </div>
                            <div class="platform-footer">
                                <a href="https://streamlit.io/" target="_blank" class="platform-link">
                                    <i class="fas fa-external-link-alt"></i> Documentación
                                </a>
                                <span class="platform-use-case">Data Apps</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== VISUALIZATION TYPES ===== -->
                <div class="viz-types-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-chart-area"></i></div>
                        <div class="header-text">
                            <h4>Tipos de Visualización</h4>
                            <span>Elige la visualización correcta según el tipo de análisis</span>
                        </div>
                    </div>

                    <!-- Categoría: Comparación -->
                    <div class="viz-category">
                        <h5 class="category-title"><i class="fas fa-balance-scale"></i> Comparación</h5>
                        <div class="viz-types-grid-large">
                            <div class="viz-type-card-large" data-complexity="basic"
                                 data-premium-tooltip="Bar Chart|Compara valores entre categorías discretas horizontalmente|Ventas por región,Top productos,Comparación de métricas|info|fa-chart-bar|BÁSICO">
                                <div class="type-icon-large bar"><i class="fas fa-chart-bar"></i></div>
                                <span class="type-name-large">Bar Chart</span>
                                <span class="type-desc-large">Compara valores entre categorías discretas</span>
                                <div class="type-examples-large">Ventas por región, Top productos</div>
                                <span class="complexity-badge basic">Básico</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="basic"
                                 data-premium-tooltip="Column Chart|Comparación vertical de valores, ideal para series temporales|Revenue mensual,Usuarios activos,Tendencias|info|fa-chart-column|BÁSICO">
                                <div class="type-icon-large column"><i class="fas fa-chart-column"></i></div>
                                <span class="type-name-large">Column Chart</span>
                                <span class="type-desc-large">Comparación vertical de valores</span>
                                <div class="type-examples-large">Revenue mensual, Usuarios activos</div>
                                <span class="complexity-badge basic">Básico</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Stacked Bar|Muestra composición dentro de cada categoría apilando segmentos|Mix de productos,Market share,Budget allocation|info|fa-layer-group|INTERMEDIO">
                                <div class="type-icon-large stacked"><i class="fas fa-layer-group"></i></div>
                                <span class="type-name-large">Stacked Bar</span>
                                <span class="type-desc-large">Composición dentro de categorías</span>
                                <div class="type-examples-large">Mix de productos, Market share</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Waterfall Chart|Muestra incrementos y decrementos acumulativos desde un valor inicial|P&L breakdown,Cash flow,Variance analysis|info|fa-water|AVANZADO">
                                <div class="type-icon-large waterfall"><i class="fas fa-water"></i></div>
                                <span class="type-name-large">Waterfall</span>
                                <span class="type-desc-large">Muestra incrementos/decrementos acumulativos</span>
                                <div class="type-examples-large">P&L breakdown, Cash flow</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                        </div>
                    </div>

                    <!-- Categoría: Tendencias -->
                    <div class="viz-category">
                        <h5 class="category-title"><i class="fas fa-chart-line"></i> Tendencias en el Tiempo</h5>
                        <div class="viz-types-grid-large">
                            <div class="viz-type-card-large" data-complexity="basic"
                                 data-premium-tooltip="Line Chart|Muestra evolución continua de métricas a lo largo del tiempo|Tendencia ventas,Stock prices,User growth|info|fa-chart-line|BÁSICO">
                                <div class="type-icon-large line"><i class="fas fa-chart-line"></i></div>
                                <span class="type-name-large">Line Chart</span>
                                <span class="type-desc-large">Evolución continua de métricas</span>
                                <div class="type-examples-large">Tendencia ventas, Stock prices</div>
                                <span class="complexity-badge basic">Básico</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Area Chart|Representa magnitud acumulada en el tiempo con área sombreada|Revenue acumulado,Traffic,Stacked trends|info|fa-chart-area|INTERMEDIO">
                                <div class="type-icon-large area"><i class="fas fa-chart-area"></i></div>
                                <span class="type-name-large">Area Chart</span>
                                <span class="type-desc-large">Magnitud acumulada en el tiempo</span>
                                <div class="type-examples-large">Revenue acumulado, Traffic</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Sparklines|Mini-gráficos inline para mostrar tendencias compactas en tablas|KPIs en cards,Tablas de stock,Dashboards|info|fa-wave-square|AVANZADO">
                                <div class="type-icon-large sparkline"><i class="fas fa-wave-square"></i></div>
                                <span class="type-name-large">Sparklines</span>
                                <span class="type-desc-large">Mini-gráficos inline en tablas</span>
                                <div class="type-examples-large">KPIs en cards, Tablas de stock</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Candlestick|Muestra Open-High-Low-Close para análisis de trading financiero|Stock trading,Crypto analysis,Forex|info|fa-signal|AVANZADO">
                                <div class="type-icon-large candlestick"><i class="fas fa-signal"></i></div>
                                <span class="type-name-large">Candlestick</span>
                                <span class="type-desc-large">Open-High-Low-Close para trading</span>
                                <div class="type-examples-large">Stock trading, Crypto analysis</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                        </div>
                    </div>

                    <!-- Categoría: Distribución y Relaciones -->
                    <div class="viz-category">
                        <h5 class="category-title"><i class="fas fa-project-diagram"></i> Distribución y Relaciones</h5>
                        <div class="viz-types-grid-large">
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Scatter Plot|Visualiza correlación y relación entre dos variables numéricas con puntos|Precio vs Demanda,Edad vs Ingresos,Análisis bivariado|info|fa-braille|INTERMEDIO">
                                <div class="type-icon-large scatter"><i class="fas fa-braille"></i></div>
                                <span class="type-name-large">Scatter Plot</span>
                                <span class="type-desc-large">Correlación entre dos variables</span>
                                <div class="type-examples-large">Precio vs Demanda, Age vs Income</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Bubble Chart|Representa 3 variables: posición X, Y y tamaño del círculo|Análisis de mercado,Matriz de riesgo,Portfolio analysis|info|fa-circle|AVANZADO">
                                <div class="type-icon-large bubble"><i class="fas fa-circle"></i></div>
                                <span class="type-name-large">Bubble Chart</span>
                                <span class="type-desc-large">3 variables: X, Y, y tamaño</span>
                                <div class="type-examples-large">Market analysis, Risk matrix</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Heat Map|Muestra densidad o intensidad de datos en formato matriz con colores|Matriz de correlación,Patrones de uso,Análisis temporal|info|fa-th|AVANZADO">
                                <div class="type-icon-large heatmap"><i class="fas fa-th"></i></div>
                                <span class="type-name-large">Heat Map</span>
                                <span class="type-desc-large">Densidad de datos en matriz</span>
                                <div class="type-examples-large">Correlation matrix, Usage patterns</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Treemap|Representa jerarquías y proporciones usando rectángulos anidados|Uso de disco,Asignación de presupuesto,Estructura organizacional|info|fa-th-large|AVANZADO">
                                <div class="type-icon-large treemap"><i class="fas fa-th-large"></i></div>
                                <span class="type-name-large">Treemap</span>
                                <span class="type-desc-large">Jerarquías con proporciones</span>
                                <div class="type-examples-large">Disk usage, Budget allocation</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                        </div>
                    </div>

                    <!-- Categoría: Composición y Proporciones -->
                    <div class="viz-category">
                        <h5 class="category-title"><i class="fas fa-chart-pie"></i> Composición</h5>
                        <div class="viz-types-grid-large">
                            <div class="viz-type-card-large" data-complexity="basic"
                                 data-premium-tooltip="Pie Chart|Muestra partes de un todo como sectores circulares. Máximo 5-7 categorías|Cuota de mercado,División de presupuesto,Distribución de ventas|info|fa-chart-pie|BÁSICO">
                                <div class="type-icon-large pie"><i class="fas fa-chart-pie"></i></div>
                                <span class="type-name-large">Pie Chart</span>
                                <span class="type-desc-large">Partes de un todo (máx 5-7 slices)</span>
                                <div class="type-examples-large">Market share, Budget split</div>
                                <span class="complexity-badge basic">Básico</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Donut Chart|Pie chart con centro vacío para mostrar KPI o métrica principal|Tasa de completación,Progreso de objetivos,Score total|info|fa-circle|INTERMEDIO">
                                <div class="type-icon-large donut"><i class="far fa-circle"></i></div>
                                <span class="type-name-large">Donut Chart</span>
                                <span class="type-desc-large">Pie con KPI central</span>
                                <div class="type-examples-large">Completion rate, Goal progress</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Sunburst|Composición jerárquica en múltiples niveles concéntricos|Estructura organizacional,Sistema de archivos,Taxonomías|info|fa-sun|AVANZADO">
                                <div class="type-icon-large sunburst"><i class="fas fa-sun"></i></div>
                                <span class="type-name-large">Sunburst</span>
                                <span class="type-desc-large">Composición jerárquica multi-nivel</span>
                                <div class="type-examples-large">Org breakdown, File system</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Sankey Diagram|Visualiza flujos y transferencias entre nodos con ancho proporcional|Customer journey,Flujo de energía,Conversiones|info|fa-random|AVANZADO">
                                <div class="type-icon-large sankey"><i class="fas fa-random"></i></div>
                                <span class="type-name-large">Sankey Diagram</span>
                                <span class="type-desc-large">Flujos y transferencias</span>
                                <div class="type-examples-large">User journey, Energy flow</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                        </div>
                    </div>

                    <!-- Categoría: KPIs y Métricas -->
                    <div class="viz-category">
                        <h5 class="category-title"><i class="fas fa-tachometer-alt"></i> KPIs y Métricas</h5>
                        <div class="viz-types-grid-large">
                            <div class="viz-type-card-large" data-complexity="basic"
                                 data-premium-tooltip="KPI Card|Número grande prominente con contexto y comparación temporal|Revenue actual,Total usuarios,Métricas principales|info|fa-hashtag|BÁSICO">
                                <div class="type-icon-large kpi"><i class="fas fa-hashtag"></i></div>
                                <span class="type-name-large">KPI Card</span>
                                <span class="type-desc-large">Número grande con contexto</span>
                                <div class="type-examples-large">Revenue actual, Total users</div>
                                <span class="complexity-badge basic">Básico</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Gauge|Indicador circular o semicircular que muestra progreso hacia un objetivo|SLA %,Cuota de ventas,Performance score|info|fa-tachometer-alt|INTERMEDIO">
                                <div class="type-icon-large gauge"><i class="fas fa-tachometer-alt"></i></div>
                                <span class="type-name-large">Gauge</span>
                                <span class="type-desc-large">Progreso hacia un objetivo</span>
                                <div class="type-examples-large">SLA %, Quota attainment</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Bullet Chart|Compara valor actual vs objetivo en formato compacto horizontal|Ventas vs Meta,Performance review,Budget tracking|info|fa-grip-lines|INTERMEDIO">
                                <div class="type-icon-large bullet"><i class="fas fa-grip-lines"></i></div>
                                <span class="type-name-large">Bullet Chart</span>
                                <span class="type-desc-large">Actual vs Target compacto</span>
                                <div class="type-examples-large">Sales vs Goal, Performance</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="basic"
                                 data-premium-tooltip="Progress Bar|Barra horizontal simple que muestra avance porcentual|Estado del proyecto,Loading,Completación de tareas|info|fa-battery-half|BÁSICO">
                                <div class="type-icon-large progress"><i class="fas fa-battery-half"></i></div>
                                <span class="type-name-large">Progress Bar</span>
                                <span class="type-desc-large">Avance porcentual simple</span>
                                <div class="type-examples-large">Project status, Loading</div>
                                <span class="complexity-badge basic">Básico</span>
                            </div>
                        </div>
                    </div>

                    <!-- Categoría: Geoespacial y Tablas -->
                    <div class="viz-category">
                        <h5 class="category-title"><i class="fas fa-globe"></i> Geoespacial y Datos Detallados</h5>
                        <div class="viz-types-grid-large">
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Choropleth Map|Mapa con regiones coloreadas según valor de una métrica|Ventas por país,Demografía,Análisis regional|info|fa-map-marked-alt|INTERMEDIO">
                                <div class="type-icon-large map"><i class="fas fa-map-marked-alt"></i></div>
                                <span class="type-name-large">Choropleth Map</span>
                                <span class="type-desc-large">Regiones coloreadas por valor</span>
                                <div class="type-examples-large">Sales by country, Demographics</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="advanced"
                                 data-premium-tooltip="Bubble Map|Mapa con puntos cuyo tamaño representa magnitud del dato|Ubicación de tiendas,Densidad de eventos,Distribución geográfica|info|fa-map-pin|AVANZADO">
                                <div class="type-icon-large bubble-map"><i class="fas fa-map-pin"></i></div>
                                <span class="type-name-large">Bubble Map</span>
                                <span class="type-desc-large">Puntos geográficos con magnitud</span>
                                <div class="type-examples-large">Store locations, Event density</div>
                                <span class="complexity-badge advanced">Avanzado</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="basic"
                                 data-premium-tooltip="Data Table|Tabla con detalle granular, ordenamiento y filtros interactivos|Lista de transacciones,Inventario,Reportes detallados|info|fa-table|BÁSICO">
                                <div class="type-icon-large table"><i class="fas fa-table"></i></div>
                                <span class="type-name-large">Data Table</span>
                                <span class="type-desc-large">Detalle granular con ordenamiento</span>
                                <div class="type-examples-large">Transaction list, Inventory</div>
                                <span class="complexity-badge basic">Básico</span>
                            </div>
                            <div class="viz-type-card-large" data-complexity="intermediate"
                                 data-premium-tooltip="Matrix/Pivot|Tabla multidimensional con filas y columnas dinámicas|Ventas por región/producto,Análisis cruzado,Reportes financieros|info|fa-border-all|INTERMEDIO">
                                <div class="type-icon-large matrix"><i class="fas fa-border-all"></i></div>
                                <span class="type-name-large">Matrix/Pivot</span>
                                <span class="type-desc-large">Tabla multidimensional dinámica</span>
                                <div class="type-examples-large">Sales by region/product, Reports</div>
                                <span class="complexity-badge intermediate">Intermedio</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== DASHBOARD & WORKBOOK STRUCTURE ===== -->
                <div class="viz-structure-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-th-large"></i></div>
                        <div class="header-text">
                            <h4>Estructura de Dashboards & Workbooks</h4>
                            <span>Organización jerárquica de contenido analítico</span>
                        </div>
                    </div>

                    <div class="workbook-structure">
                        <!-- Workbook Container -->
                        <div class="workbook-demo">
                            <div class="workbook-header">
                                <div class="workbook-icon"><i class="fas fa-book-open"></i></div>
                                <div class="workbook-info">
                                    <h5>Workbook: Sales Analytics 2025</h5>
                                    <span class="workbook-meta">
                                        <i class="fas fa-folder"></i> 4 Dashboards
                                        <i class="fas fa-clock"></i> Last updated: 2h ago
                                        <i class="fas fa-users"></i> Shared with 12 users
                                    </span>
                                </div>
                                <div class="workbook-actions">
                                    <button class="wb-btn"><i class="fas fa-share-alt"></i></button>
                                    <button class="wb-btn"><i class="fas fa-download"></i></button>
                                    <button class="wb-btn"><i class="fas fa-ellipsis-v"></i></button>
                                </div>
                            </div>

                            <!-- Dashboard Tabs -->
                            <div class="dashboard-tabs">
                                <button class="dash-tab active" data-tab="overview"
                                        data-premium-tooltip="Overview Dashboard|Vista ejecutiva con KPIs principales y métricas de rendimiento general|Revenue,Orders,Conversion|info|fa-home|DASHBOARD">
                                    <i class="fas fa-home"></i> Overview
                                </button>
                                <button class="dash-tab" data-tab="regional"
                                        data-premium-tooltip="Regional Dashboard|Análisis geográfico de ventas por país, estado y ciudad|Mapas,Comparativas,Drill-down|info|fa-globe-americas|DASHBOARD">
                                    <i class="fas fa-globe-americas"></i> Regional
                                </button>
                                <button class="dash-tab" data-tab="products"
                                        data-premium-tooltip="Products Dashboard|Performance de productos, categorías y análisis de inventario|Top Products,Categories,Stock|info|fa-box|DASHBOARD">
                                    <i class="fas fa-box"></i> Products
                                </button>
                                <button class="dash-tab" data-tab="trends"
                                        data-premium-tooltip="Trends Dashboard|Análisis temporal con YoY, MoM y forecasting predictivo|Seasonality,Growth,Forecast|info|fa-chart-line|DASHBOARD">
                                    <i class="fas fa-chart-line"></i> Trends
                                </button>
                                <button class="dash-tab add-tab"
                                        data-premium-tooltip="Agregar Dashboard|Crear un nuevo dashboard personalizado en este workbook||tool|fa-plus|ACCIÓN">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>

                            <!-- Dashboard Content Panels -->
                            <!-- OVERVIEW TAB -->
                            <div class="dashboard-preview dashboard-panel active" data-panel="overview">
                                <div class="dash-toolbar">
                                    <div class="toolbar-left">
                                        <span class="dash-title">Executive Overview</span>
                                        <span class="dash-subtitle">Real-time sales metrics and KPIs</span>
                                    </div>
                                    <div class="toolbar-right">
                                        <div class="filter-pills">
                                            <span class="filter-pill"><i class="fas fa-calendar"></i> Last 30 days</span>
                                            <span class="filter-pill"><i class="fas fa-globe"></i> All Regions</span>
                                            <span class="filter-pill add"><i class="fas fa-filter"></i> Add Filter</span>
                                        </div>
                                        <button class="toolbar-btn"><i class="fas fa-expand"></i></button>
                                        <button class="toolbar-btn"><i class="fas fa-sync-alt"></i></button>
                                    </div>
                                </div>
                                <div class="dash-grid">
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Total Revenue</span>
                                            <span class="kpi-value">$4.2M</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> 12.5%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Orders</span>
                                            <span class="kpi-value">8,432</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> 8.2%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Avg Order Value</span>
                                            <span class="kpi-value">$498</span>
                                            <span class="kpi-trend down"><i class="fas fa-arrow-down"></i> 2.1%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Conversion Rate</span>
                                            <span class="kpi-value">3.8%</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> 0.5%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget wide">
                                        <div class="widget-header">
                                            <span class="widget-title">Revenue Trend</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder line-chart">
                                            <svg viewBox="0 0 400 100" preserveAspectRatio="none">
                                                <path d="M0,80 C50,70 100,40 150,50 C200,60 250,20 300,30 C350,40 400,25 400,25"
                                                      fill="none" stroke="url(#lineGrad)" stroke-width="2"/>
                                                <defs>
                                                    <linearGradient id="lineGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                                        <stop offset="0%" stop-color="#22d3ee"/>
                                                        <stop offset="100%" stop-color="#a855f7"/>
                                                    </linearGradient>
                                                </defs>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget">
                                        <div class="widget-header">
                                            <span class="widget-title">Sales by Region</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder pie-chart">
                                            <div class="pie-visual"></div>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget">
                                        <div class="widget-header">
                                            <span class="widget-title">Top Products</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder bar-chart">
                                            <div class="bar" style="width: 95%"></div>
                                            <div class="bar" style="width: 78%"></div>
                                            <div class="bar" style="width: 65%"></div>
                                            <div class="bar" style="width: 52%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="dash-footer">
                                    <span class="last-refresh"><i class="fas fa-sync-alt"></i> Auto-refresh: 5 min</span>
                                    <span class="data-source">Data source: Snowflake DW</span>
                                </div>
                            </div>

                            <!-- REGIONAL TAB -->
                            <div class="dashboard-preview dashboard-panel" data-panel="regional">
                                <div class="dash-toolbar">
                                    <div class="toolbar-left">
                                        <span class="dash-title">Regional Analysis</span>
                                        <span class="dash-subtitle">Geographic performance breakdown</span>
                                    </div>
                                    <div class="toolbar-right">
                                        <div class="filter-pills">
                                            <span class="filter-pill"><i class="fas fa-calendar"></i> YTD 2025</span>
                                            <span class="filter-pill active"><i class="fas fa-globe"></i> Americas</span>
                                        </div>
                                        <button class="toolbar-btn"><i class="fas fa-expand"></i></button>
                                    </div>
                                </div>
                                <div class="dash-grid">
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">LATAM Revenue</span>
                                            <span class="kpi-value">$1.8M</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> 18.3%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">NA Revenue</span>
                                            <span class="kpi-value">$2.1M</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> 9.7%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Active Countries</span>
                                            <span class="kpi-value">28</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> +4</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Top Region</span>
                                            <span class="kpi-value">Chile</span>
                                            <span class="kpi-trend up"><i class="fas fa-flag"></i> #1</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget wide">
                                        <div class="widget-header">
                                            <span class="widget-title"><i class="fas fa-map-marked-alt"></i> Sales by Country</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder map-chart">
                                            <div class="map-placeholder-visual">
                                                <i class="fas fa-globe-americas"></i>
                                                <span>Choropleth Map</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget">
                                        <div class="widget-header">
                                            <span class="widget-title">Region Comparison</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder bar-chart horizontal">
                                            <div class="bar-row"><span>Chile</span><div class="bar" style="width: 95%"></div></div>
                                            <div class="bar-row"><span>Brasil</span><div class="bar" style="width: 72%"></div></div>
                                            <div class="bar-row"><span>México</span><div class="bar" style="width: 68%"></div></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="dash-footer">
                                    <span class="last-refresh"><i class="fas fa-sync-alt"></i> Updated: 1h ago</span>
                                    <span class="data-source">Data source: BigQuery</span>
                                </div>
                            </div>

                            <!-- PRODUCTS TAB -->
                            <div class="dashboard-preview dashboard-panel" data-panel="products">
                                <div class="dash-toolbar">
                                    <div class="toolbar-left">
                                        <span class="dash-title">Product Performance</span>
                                        <span class="dash-subtitle">SKU analysis and inventory</span>
                                    </div>
                                    <div class="toolbar-right">
                                        <div class="filter-pills">
                                            <span class="filter-pill"><i class="fas fa-calendar"></i> Q4 2024</span>
                                            <span class="filter-pill"><i class="fas fa-tags"></i> All Categories</span>
                                        </div>
                                        <button class="toolbar-btn"><i class="fas fa-expand"></i></button>
                                    </div>
                                </div>
                                <div class="dash-grid">
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Active SKUs</span>
                                            <span class="kpi-value">2,847</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> +156</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Top Category</span>
                                            <span class="kpi-value">Electronics</span>
                                            <span class="kpi-trend up"><i class="fas fa-star"></i> 34%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Avg Rating</span>
                                            <span class="kpi-value">4.6★</span>
                                            <span class="kpi-trend up"><i class="fas fa-arrow-up"></i> 0.2</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Low Stock</span>
                                            <span class="kpi-value">23</span>
                                            <span class="kpi-trend down"><i class="fas fa-exclamation-triangle"></i> Alert</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget">
                                        <div class="widget-header">
                                            <span class="widget-title"><i class="fas fa-trophy"></i> Top 5 Products</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder bar-chart">
                                            <div class="bar-item"><span>MacBook Pro</span><div class="bar" style="width: 95%"></div><span class="bar-val">$890K</span></div>
                                            <div class="bar-item"><span>iPhone 15</span><div class="bar" style="width: 82%"></div><span class="bar-val">$720K</span></div>
                                            <div class="bar-item"><span>AirPods Pro</span><div class="bar" style="width: 65%"></div><span class="bar-val">$540K</span></div>
                                            <div class="bar-item"><span>iPad Air</span><div class="bar" style="width: 58%"></div><span class="bar-val">$480K</span></div>
                                            <div class="bar-item"><span>Apple Watch</span><div class="bar" style="width: 45%"></div><span class="bar-val">$380K</span></div>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget">
                                        <div class="widget-header">
                                            <span class="widget-title"><i class="fas fa-chart-pie"></i> Category Mix</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder pie-chart">
                                            <div class="pie-visual products"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="dash-footer">
                                    <span class="last-refresh"><i class="fas fa-sync-alt"></i> Updated: 30m ago</span>
                                    <span class="data-source">Data source: Databricks</span>
                                </div>
                            </div>

                            <!-- TRENDS TAB -->
                            <div class="dashboard-preview dashboard-panel" data-panel="trends">
                                <div class="dash-toolbar">
                                    <div class="toolbar-left">
                                        <span class="dash-title">Trends & Forecasting</span>
                                        <span class="dash-subtitle">Historical analysis and predictions</span>
                                    </div>
                                    <div class="toolbar-right">
                                        <div class="filter-pills">
                                            <span class="filter-pill"><i class="fas fa-calendar"></i> 2023-2025</span>
                                            <span class="filter-pill"><i class="fas fa-robot"></i> ML Forecast</span>
                                        </div>
                                        <button class="toolbar-btn"><i class="fas fa-expand"></i></button>
                                    </div>
                                </div>
                                <div class="dash-grid">
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">YoY Growth</span>
                                            <span class="kpi-value">+24.5%</span>
                                            <span class="kpi-trend up"><i class="fas fa-rocket"></i> Strong</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Q1 2025 Forecast</span>
                                            <span class="kpi-value">$5.8M</span>
                                            <span class="kpi-trend up"><i class="fas fa-chart-line"></i> +38%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Peak Season</span>
                                            <span class="kpi-value">Nov-Dec</span>
                                            <span class="kpi-trend up"><i class="fas fa-snowflake"></i> +65%</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget kpi-widget">
                                        <div class="kpi-card">
                                            <span class="kpi-label">Model Accuracy</span>
                                            <span class="kpi-value">94.2%</span>
                                            <span class="kpi-trend up"><i class="fas fa-bullseye"></i> High</span>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget wide">
                                        <div class="widget-header">
                                            <span class="widget-title"><i class="fas fa-chart-area"></i> Revenue Trend with Forecast</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder line-chart forecast">
                                            <svg viewBox="0 0 400 100" preserveAspectRatio="none">
                                                <!-- Historical data -->
                                                <path d="M0,90 C30,85 60,75 90,70 C120,65 150,55 180,45 C210,40 240,35 270,30"
                                                      fill="none" stroke="#22d3ee" stroke-width="2"/>
                                                <!-- Forecast (dashed) -->
                                                <path d="M270,30 C300,25 330,18 360,12 C380,8 400,5 400,5"
                                                      fill="none" stroke="#a855f7" stroke-width="2" stroke-dasharray="5,3"/>
                                                <!-- Confidence interval -->
                                                <path d="M270,35 C300,32 330,28 360,22 C380,18 400,15 400,15 L400,0 L270,25 Z"
                                                      fill="rgba(168,85,247,0.1)"/>
                                            </svg>
                                            <div class="forecast-legend">
                                                <span class="legend-item"><span class="dot actual"></span> Actual</span>
                                                <span class="legend-item"><span class="dot forecast"></span> Forecast</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="dash-widget chart-widget">
                                        <div class="widget-header">
                                            <span class="widget-title"><i class="fas fa-calendar-alt"></i> Seasonality</span>
                                            <button class="widget-menu"><i class="fas fa-ellipsis-h"></i></button>
                                        </div>
                                        <div class="chart-placeholder heatmap-chart">
                                            <div class="heatmap-grid">
                                                <div class="heatmap-row">
                                                    <span class="month">Jan</span><span class="cell low"></span>
                                                    <span class="month">Feb</span><span class="cell low"></span>
                                                    <span class="month">Mar</span><span class="cell med"></span>
                                                </div>
                                                <div class="heatmap-row">
                                                    <span class="month">Apr</span><span class="cell med"></span>
                                                    <span class="month">May</span><span class="cell med"></span>
                                                    <span class="month">Jun</span><span class="cell high"></span>
                                                </div>
                                                <div class="heatmap-row">
                                                    <span class="month">Jul</span><span class="cell med"></span>
                                                    <span class="month">Aug</span><span class="cell low"></span>
                                                    <span class="month">Sep</span><span class="cell med"></span>
                                                </div>
                                                <div class="heatmap-row">
                                                    <span class="month">Oct</span><span class="cell high"></span>
                                                    <span class="month">Nov</span><span class="cell very-high"></span>
                                                    <span class="month">Dec</span><span class="cell very-high"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="dash-footer">
                                    <span class="last-refresh"><i class="fas fa-brain"></i> ML Model: Prophet + XGBoost</span>
                                    <span class="data-source">Data source: Databricks ML</span>
                                </div>
                            </div>
                        </div>

                                            </div>
                </div>

                <!-- ===== REPORTING WORKFLOW ===== -->
                <div class="viz-workflow-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-stream"></i></div>
                        <div class="header-text">
                            <h4>Flujo de Reporting</h4>
                            <span>Del dato crudo al insight accionable</span>
                        </div>
                    </div>

                    <div class="viz-workflow-flow">
                        <div class="workflow-stage">
                            <div class="stage-icon-viz"><i class="fas fa-database"></i></div>
                            <span class="stage-name">Fuente de Datos</span>
                            <span class="stage-detail">DW / Lake</span>
                        </div>
                        <div class="workflow-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="workflow-stage">
                            <div class="stage-icon-viz"><i class="fas fa-layer-group"></i></div>
                            <span class="stage-name">Semantic Layer</span>
                            <span class="stage-detail">Métricas</span>
                        </div>
                        <div class="workflow-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="workflow-stage">
                            <div class="stage-icon-viz"><i class="fas fa-chart-bar"></i></div>
                            <span class="stage-name">Visualization</span>
                            <span class="stage-detail">Dashboards</span>
                        </div>
                        <div class="workflow-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="workflow-stage">
                            <div class="stage-icon-viz"><i class="fas fa-users"></i></div>
                            <span class="stage-name">Consumption</span>
                            <span class="stage-detail">Self-Service</span>
                        </div>
                        <div class="workflow-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="workflow-stage">
                            <div class="stage-icon-viz"><i class="fas fa-lightbulb"></i></div>
                            <span class="stage-name">Action</span>
                            <span class="stage-detail">Decisiones</span>
                        </div>
                    </div>
                </div>

                <!-- ===== VIZ FOOTER ===== -->
                <div class="viz-dashboard-footer">
                    <div class="viz-metrics-row">
                        <div class="viz-metric">
                            <i class="fas fa-eye"></i>
                            <span class="metric-value">5.2K</span>
                            <span class="metric-label">Views/Day</span>
                        </div>
                        <div class="viz-metric">
                            <i class="fas fa-users"></i>
                            <span class="metric-value">340</span>
                            <span class="metric-label">Active Users</span>
                        </div>
                        <div class="viz-metric">
                            <i class="fas fa-tachometer-alt"></i>
                            <span class="metric-value">48</span>
                            <span class="metric-label">Dashboards</span>
                        </div>
                        <div class="viz-metric">
                            <i class="fas fa-bell"></i>
                            <span class="metric-value">125</span>
                            <span class="metric-label">Alerts Active</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== DATA INGESTION PIPELINE ==================== -->
        <div id="pipeline-ingestion" class="pipeline-diagram-premium pipeline-mode">
            <div class="ingestion-diagram-premium glass-card">

                <!-- ===== INGESTION HEADER ===== -->
                <div class="ingestion-premium-header">
                    <div class="ingestion-title-section">
                        <div class="ingestion-icon-animated">
                            <i class="fas fa-cloud-download-alt"></i>
                            <div class="download-animation">
                                <span class="data-particle p1"></span>
                                <span class="data-particle p2"></span>
                                <span class="data-particle p3"></span>
                            </div>
                        </div>
                        <div class="ingestion-title-text">
                            <div class="ingestion-badge-row">
                                <span class="ingestion-badge etl">
                                    <i class="fas fa-cogs"></i> ETL
                                </span>
                                <span class="ingestion-badge elt">
                                    <i class="fas fa-database"></i> ELT
                                </span>
                                <span class="ingestion-badge streaming">
                                    <i class="fas fa-bolt"></i> Streaming
                                </span>
                            </div>
                            <h3>Data Ingestion Pipeline</h3>
                            <span class="ingestion-subtitle">Extracción y movimiento de datos desde múltiples fuentes hacia el Data Warehouse</span>
                        </div>
                    </div>
                    <div class="ingestion-stats-row">
                        <div class="ingestion-stat">
                            <span class="stat-num">20+</span>
                            <span class="stat-label">APIs</span>
                        </div>
                        <div class="ingestion-stat">
                            <span class="stat-num">50TB</span>
                            <span class="stat-label">Daily Volume</span>
                        </div>
                        <div class="ingestion-stat">
                            <span class="stat-num">99.9%</span>
                            <span class="stat-label">Uptime</span>
                        </div>
                    </div>
                </div>

                <!-- ===== DATA SOURCES ===== -->
                <div class="ingestion-sources-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-plug"></i></div>
                        <div class="header-text">
                            <h4>Fuente de Datoss</h4>
                            <span>Orígenes de datos para extracción</span>
                        </div>
                    </div>

                    <div class="sources-grid">
                        <div class="source-category">
                            <h5><i class="fas fa-server"></i> Databases</h5>
                            <div class="source-items">
                                <a href="https://www.postgresql.org/" target="_blank" class="source-chip">
                                    <i class="devicon-postgresql-plain"></i> PostgreSQL
                                </a>
                                <a href="https://www.mysql.com/" target="_blank" class="source-chip">
                                    <i class="devicon-mysql-plain"></i> MySQL
                                </a>
                                <a href="https://www.oracle.com/database/" target="_blank" class="source-chip">
                                    <i class="devicon-oracle-original"></i> Oracle
                                </a>
                                <a href="https://www.microsoft.com/sql-server" target="_blank" class="source-chip">
                                    <i class="devicon-microsoftsqlserver-plain"></i> SQL Server
                                </a>
                            </div>
                        </div>
                        <div class="source-category">
                            <h5><i class="fas fa-cloud"></i> SaaS & APIs</h5>
                            <div class="source-items">
                                <a href="https://www.salesforce.com/" target="_blank" class="source-chip">
                                    <i class="devicon-salesforce-plain"></i> Salesforce
                                </a>
                                <a href="https://hubspot.com/" target="_blank" class="source-chip">
                                    <i class="fas fa-hubspot"></i> HubSpot
                                </a>
                                <a href="https://stripe.com/" target="_blank" class="source-chip">
                                    <img src="https://cdn.simpleicons.org/stripe/635BFF" alt="Stripe" width="14"> Stripe
                                </a>
                                <a href="https://shopify.com/" target="_blank" class="source-chip">
                                    <img src="https://cdn.simpleicons.org/shopify/7AB55C" alt="Shopify" width="14"> Shopify
                                </a>
                            </div>
                        </div>
                        <div class="source-category">
                            <h5><i class="fas fa-file-alt"></i> Files & Storage</h5>
                            <div class="source-items">
                                <a href="https://aws.amazon.com/s3/" target="_blank" class="source-chip">
                                    <i class="devicon-amazonwebservices-plain-wordmark"></i> S3
                                </a>
                                <a href="https://azure.microsoft.com/services/storage/blobs/" target="_blank" class="source-chip">
                                    <i class="devicon-azure-plain"></i> Blob Storage
                                </a>
                                <a href="https://cloud.google.com/storage" target="_blank" class="source-chip">
                                    <i class="devicon-googlecloud-plain"></i> GCS
                                </a>
                                <span class="source-chip">
                                    <i class="fas fa-file-csv"></i> CSV/JSON
                                </span>
                            </div>
                        </div>
                        <div class="source-category">
                            <h5><i class="fas fa-stream"></i> Streaming</h5>
                            <div class="source-items">
                                <a href="https://kafka.apache.org/" target="_blank" class="source-chip">
                                    <i class="devicon-apachekafka-original"></i> Kafka
                                </a>
                                <a href="https://aws.amazon.com/kinesis/" target="_blank" class="source-chip">
                                    <i class="devicon-amazonwebservices-plain-wordmark"></i> Kinesis
                                </a>
                                <a href="https://cloud.google.com/pubsub" target="_blank" class="source-chip">
                                    <i class="devicon-googlecloud-plain"></i> Pub/Sub
                                </a>
                                <a href="https://azure.microsoft.com/services/event-hubs/" target="_blank" class="source-chip">
                                    <i class="devicon-azure-plain"></i> Event Hubs
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== ETL vs ELT COMPARISON ===== -->
                <div class="ingestion-comparison-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-balance-scale"></i></div>
                        <div class="header-text">
                            <h4>ETL vs ELT</h4>
                            <span>Patrones de integración de datos</span>
                        </div>
                    </div>

                    <div class="etl-elt-comparison">
                        <div class="comparison-card etl">
                            <div class="comparison-header">
                                <h5><i class="fas fa-cogs"></i> ETL</h5>
                                <span class="pattern-desc">Extract → Transform → Load</span>
                            </div>
                            <div class="comparison-flow">
                                <div class="flow-step source">
                                    <i class="fas fa-database"></i>
                                    <span>Source</span>
                                </div>
                                <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                                <div class="flow-step transform highlight">
                                    <i class="fas fa-cogs"></i>
                                    <span>Transform</span>
                                </div>
                                <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                                <div class="flow-step target">
                                    <i class="fas fa-warehouse"></i>
                                    <span>DW</span>
                                </div>
                            </div>
                            <ul class="comparison-features">
                                <li><i class="fas fa-check"></i> Transformación antes de cargar</li>
                                <li><i class="fas fa-check"></i> Menor storage en destino</li>
                                <li><i class="fas fa-check"></i> Datos ya limpios al llegar</li>
                            </ul>
                            <div class="comparison-tools">
                                <span>Tools:</span>
                                <a href="https://www.informatica.com/" target="_blank">Informatica</a>
                                <a href="https://www.talend.com/" target="_blank">Talend</a>
                                <a href="https://www.ssis.com/" target="_blank">SSIS</a>
                            </div>
                        </div>

                        <div class="comparison-vs">VS</div>

                        <div class="comparison-card elt">
                            <div class="comparison-header">
                                <h5><i class="fas fa-database"></i> ELT</h5>
                                <span class="pattern-desc">Extract → Load → Transform</span>
                            </div>
                            <div class="comparison-flow">
                                <div class="flow-step source">
                                    <i class="fas fa-database"></i>
                                    <span>Source</span>
                                </div>
                                <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                                <div class="flow-step target">
                                    <i class="fas fa-warehouse"></i>
                                    <span>DW</span>
                                </div>
                                <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                                <div class="flow-step transform highlight">
                                    <i class="fas fa-cogs"></i>
                                    <span>Transform</span>
                                </div>
                            </div>
                            <ul class="comparison-features">
                                <li><i class="fas fa-check"></i> Usa poder del Cloud DW</li>
                                <li><i class="fas fa-check"></i> Raw data disponible</li>
                                <li><i class="fas fa-check"></i> Más flexible y moderno</li>
                            </ul>
                            <div class="comparison-tools">
                                <span>Tools:</span>
                                <a href="https://fivetran.com/" target="_blank">Fivetran</a>
                                <a href="https://airbyte.com/" target="_blank">Airbyte</a>
                                <a href="https://www.getdbt.com/" target="_blank">dbt</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== INGESTION TOOLS ===== -->
                <div class="ingestion-tools-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-wrench"></i></div>
                        <div class="header-text">
                            <h4>Herramientas de Ingesta</h4>
                            <span>Plataformas para mover datos</span>
                        </div>
                    </div>

                    <div class="ingestion-tools-grid">
                        <a href="https://fivetran.com/" target="_blank" class="tool-card fivetran">
                            <i class="fas fa-plug" style="font-size: 32px; color: #0073FF;"></i>
                            <span class="tool-name">Fivetran</span>
                            <span class="tool-type">Managed ELT</span>
                        </a>
                        <a href="https://airbyte.com/" target="_blank" class="tool-card airbyte">
                            <img src="https://cdn.simpleicons.org/airbyte/615EFF" alt="Airbyte" width="32">
                            <span class="tool-name">Airbyte</span>
                            <span class="tool-type">Open Source</span>
                        </a>
                        <a href="https://stitch.com/" target="_blank" class="tool-card stitch">
                            <i class="fas fa-link" style="font-size: 32px; color: #FFCC00;"></i>
                            <span class="tool-name">Stitch</span>
                            <span class="tool-type">Simple ETL</span>
                        </a>
                        <a href="https://azure.microsoft.com/services/data-factory/" target="_blank" class="tool-card adf">
                            <i class="devicon-azure-plain" style="font-size: 32px; color: #0078D4;"></i>
                            <span class="tool-name">Azure Data Factory</span>
                            <span class="tool-type">Enterprise</span>
                        </a>
                        <a href="https://aws.amazon.com/glue/" target="_blank" class="tool-card glue">
                            <i class="devicon-amazonwebservices-plain-wordmark" style="font-size: 32px; color: #FF9900;"></i>
                            <span class="tool-name">AWS Glue</span>
                            <span class="tool-type">Serverless ETL</span>
                        </a>
                        <a href="https://www.getdbt.com/" target="_blank" class="tool-card dbt">
                            <img src="https://www.svgrepo.com/show/330270/dbt.svg" alt="dbt" width="32">
                            <span class="tool-name">dbt</span>
                            <span class="tool-type">Transform</span>
                        </a>
                    </div>
                </div>

                <!-- ===== MEDALLION ARCHITECTURE ===== -->
                <div class="ingestion-medallion-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-medal"></i></div>
                        <div class="header-text">
                            <h4>Medallion Architecture</h4>
                            <span>Capas de datos: Bronze → Silver → Gold</span>
                        </div>
                    </div>

                    <div class="medallion-flow">
                        <div class="medallion-layer bronze">
                            <div class="layer-medal"><i class="fas fa-medal"></i></div>
                            <h5>Bronze</h5>
                            <span class="layer-desc">Raw Data</span>
                            <ul class="layer-details">
                                <li>Datos crudos sin procesar</li>
                                <li>Schema-on-read</li>
                                <li>Histórico completo</li>
                            </ul>
                            <span class="layer-format">Parquet / Delta</span>
                        </div>
                        <div class="medallion-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="medallion-layer silver">
                            <div class="layer-medal"><i class="fas fa-medal"></i></div>
                            <h5>Silver</h5>
                            <span class="layer-desc">Cleaned Data</span>
                            <ul class="layer-details">
                                <li>Validación y limpieza</li>
                                <li>Tipos de datos correctos</li>
                                <li>Deduplicación</li>
                            </ul>
                            <span class="layer-format">Delta Lake</span>
                        </div>
                        <div class="medallion-arrow"><i class="fas fa-chevron-right"></i></div>
                        <div class="medallion-layer gold">
                            <div class="layer-medal"><i class="fas fa-medal"></i></div>
                            <h5>Gold</h5>
                            <span class="layer-desc">Business-Ready</span>
                            <ul class="layer-details">
                                <li>Agregaciones y métricas</li>
                                <li>Modelos dimensionales</li>
                                <li>Listo para BI</li>
                            </ul>
                            <span class="layer-format">Curated Tables</span>
                        </div>
                    </div>
                </div>

                <!-- ===== INGESTION FOOTER ===== -->
                <div class="ingestion-dashboard-footer">
                    <div class="ingestion-metrics-row">
                        <div class="ingestion-metric">
                            <i class="fas fa-plug"></i>
                            <span class="metric-value">24</span>
                            <span class="metric-label">Connectors</span>
                        </div>
                        <div class="ingestion-metric">
                            <i class="fas fa-sync"></i>
                            <span class="metric-value">156</span>
                            <span class="metric-label">Syncs/Day</span>
                        </div>
                        <div class="ingestion-metric">
                            <i class="fas fa-check-circle"></i>
                            <span class="metric-value">99.8%</span>
                            <span class="metric-label">Success Rate</span>
                        </div>
                        <div class="ingestion-metric">
                            <i class="fas fa-clock"></i>
                            <span class="metric-value">15min</span>
                            <span class="metric-label">Avg Latency</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== DATA ORCHESTRATION ==================== -->
        <div id="pipeline-orchestration" class="pipeline-diagram-premium pipeline-mode">
            <div class="orch-diagram-premium glass-card">

                <!-- ===== ORCHESTRATION HEADER ===== -->
                <div class="orch-premium-header">
                    <div class="orch-title-section">
                        <div class="orch-icon-animated">
                            <i class="fas fa-tasks"></i>
                            <div class="orch-pulse">
                                <span class="pulse-ring"></span>
                                <span class="pulse-ring"></span>
                            </div>
                        </div>
                        <div class="orch-title-text">
                            <div class="orch-badge-row">
                                <span class="orch-badge dag">
                                    <i class="fas fa-project-diagram"></i> DAGs
                                </span>
                                <span class="orch-badge workflow">
                                    <i class="fas fa-sitemap"></i> Workflows
                                </span>
                                <span class="orch-badge scheduling">
                                    <i class="fas fa-clock"></i> Scheduling
                                </span>
                            </div>
                            <h3>Data Orchestration</h3>
                            <span class="orch-subtitle">Coordinación y automatización de workflows de datos complejos</span>
                        </div>
                    </div>
                    <div class="orch-stats-row">
                        <div class="orch-stat">
                            <span class="stat-num">156</span>
                            <span class="stat-label">DAGs</span>
                        </div>
                        <div class="orch-stat">
                            <span class="stat-num">12K</span>
                            <span class="stat-label">Tasks/Day</span>
                        </div>
                        <div class="orch-stat">
                            <span class="stat-num">99.8%</span>
                            <span class="stat-label">Success</span>
                        </div>
                    </div>
                </div>

                <!-- ===== ORCHESTRATION PLATFORMS ===== -->
                <div class="orch-platforms-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-th-large"></i></div>
                        <div class="header-text">
                            <h4>Plataformas de Orquestación</h4>
                            <span>Los 3 líderes del ecosistema 2024</span>
                        </div>
                    </div>

                    <div class="orch-platforms-grid">
                        <!-- Apache Airflow -->
                        <div class="orch-platform-card airflow">
                            <div class="platform-rank">#1</div>
                            <div class="platform-header">
                                <div class="platform-logo">
                                    <i class="devicon-apacheairflow-plain" style="font-size: 48px;"></i>
                                </div>
                                <div class="platform-info">
                                    <h5>Apache Airflow</h5>
                                    <span class="platform-vendor">Apache Foundation</span>
                                </div>
                                <div class="platform-badge leader">320M Downloads</div>
                            </div>
                            <p class="platform-desc">El estándar de la industria para orquestación de workflows de datos, nacido en Airbnb</p>
                            <div class="platform-features">
                                <div class="feature-item">
                                    <i class="fas fa-project-diagram"></i>
                                    <span>DAGs en Python</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-puzzle-piece"></i>
                                    <span>1000+ Operators</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-eye"></i>
                                    <span>Web UI</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-users"></i>
                                    <span>Comunidad Masiva</span>
                                </div>
                            </div>
                            <div class="platform-use-cases">
                                <span class="use-case">ETL Pipelines</span>
                                <span class="use-case">ML Workflows</span>
                                <span class="use-case">Data Ops</span>
                            </div>
                            <div class="platform-footer">
                                <a href="https://airflow.apache.org/" target="_blank" class="platform-link">
                                    <i class="fas fa-external-link-alt"></i> airflow.apache.org
                                </a>
                            </div>
                        </div>

                        <!-- Dagster -->
                        <div class="orch-platform-card dagster">
                            <div class="platform-rank">#2</div>
                            <div class="platform-header">
                                <div class="platform-logo">
                                    <img src="https://cdn.simpleicons.org/dagster/4F44D6" alt="Dagster" width="48">
                                </div>
                                <div class="platform-info">
                                    <h5>Dagster</h5>
                                    <span class="platform-vendor">Elementl</span>
                                </div>
                                <div class="platform-badge modern">Asset-Centric</div>
                            </div>
                            <p class="platform-desc">Orquestador moderno centrado en assets, no en tareas. Diseñado para el ciclo de vida completo</p>
                            <div class="platform-features">
                                <div class="feature-item">
                                    <i class="fas fa-cubes"></i>
                                    <span>Software-Defined Assets</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-check-double"></i>
                                    <span>Type System</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-vial"></i>
                                    <span>Testing Built-in</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-eye"></i>
                                    <span>Dagit UI</span>
                                </div>
                            </div>
                            <div class="platform-use-cases">
                                <span class="use-case">Data Assets</span>
                                <span class="use-case">dbt Integration</span>
                                <span class="use-case">ML Pipelines</span>
                            </div>
                            <div class="platform-footer">
                                <a href="https://dagster.io/" target="_blank" class="platform-link">
                                    <i class="fas fa-external-link-alt"></i> dagster.io
                                </a>
                            </div>
                        </div>

                        <!-- Prefect -->
                        <div class="orch-platform-card prefect">
                            <div class="platform-rank">#3</div>
                            <div class="platform-header">
                                <div class="platform-logo">
                                    <img src="https://cdn.simpleicons.org/prefect/024DFD" alt="Prefect" width="48">
                                </div>
                                <div class="platform-info">
                                    <h5>Prefect</h5>
                                    <span class="platform-vendor">Prefect Technologies</span>
                                </div>
                                <div class="platform-badge flexible">Pythonic</div>
                            </div>
                            <p class="platform-desc">Orquestación simple y flexible con decoradores Python. Filosofía de "ingeniería negativa"</p>
                            <div class="platform-features">
                                <div class="feature-item">
                                    <i class="fab fa-python"></i>
                                    <span>Pure Python</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-magic"></i>
                                    <span>Decorators</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-cloud"></i>
                                    <span>Prefect Cloud</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-sync"></i>
                                    <span>Async Native</span>
                                </div>
                            </div>
                            <div class="platform-use-cases">
                                <span class="use-case">Dynamic Workflows</span>
                                <span class="use-case">API Pipelines</span>
                                <span class="use-case">Rapid Dev</span>
                            </div>
                            <div class="platform-footer">
                                <a href="https://www.prefect.io/" target="_blank" class="platform-link">
                                    <i class="fas fa-external-link-alt"></i> prefect.io
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== DAG EXAMPLE ===== -->
                <div class="orch-dag-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-project-diagram"></i></div>
                        <div class="header-text">
                            <h4>DAG Example</h4>
                            <span>Directed Acyclic Graph - Flujo de tareas</span>
                        </div>
                    </div>

                    <div class="dag-visualization">
                        <div class="dag-row">
                            <div class="dag-node start">
                                <i class="fas fa-play-circle"></i>
                                <span>Start</span>
                            </div>
                        </div>
                        <div class="dag-connections">
                            <svg class="dag-svg" viewBox="0 0 400 60">
                                <path d="M200,0 L100,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                                <path d="M200,0 L200,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                                <path d="M200,0 L300,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                                <defs>
                                    <linearGradient id="dagGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" stop-color="#22d3ee"/>
                                        <stop offset="100%" stop-color="#a855f7"/>
                                    </linearGradient>
                                </defs>
                            </svg>
                        </div>
                        <div class="dag-row parallel">
                            <div class="dag-node extract">
                                <i class="fas fa-database"></i>
                                <span>Extract API</span>
                            </div>
                            <div class="dag-node extract">
                                <i class="fas fa-file-alt"></i>
                                <span>Extract Files</span>
                            </div>
                            <div class="dag-node extract">
                                <i class="fas fa-stream"></i>
                                <span>Extract Stream</span>
                            </div>
                        </div>
                        <div class="dag-connections">
                            <svg class="dag-svg" viewBox="0 0 400 60">
                                <path d="M100,10 L200,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                                <path d="M200,10 L200,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                                <path d="M300,10 L200,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                            </svg>
                        </div>
                        <div class="dag-row">
                            <div class="dag-node transform">
                                <i class="fas fa-cogs"></i>
                                <span>Transform</span>
                            </div>
                        </div>
                        <div class="dag-connections single">
                            <svg class="dag-svg" viewBox="0 0 400 60">
                                <path d="M200,10 L200,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                            </svg>
                        </div>
                        <div class="dag-row">
                            <div class="dag-node load">
                                <i class="fas fa-warehouse"></i>
                                <span>Load DW</span>
                            </div>
                        </div>
                        <div class="dag-connections">
                            <svg class="dag-svg" viewBox="0 0 400 60">
                                <path d="M200,10 L150,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                                <path d="M200,10 L250,50" stroke="url(#dagGradient)" stroke-width="2" fill="none" class="dag-line"/>
                            </svg>
                        </div>
                        <div class="dag-row parallel">
                            <div class="dag-node notify">
                                <i class="fas fa-bell"></i>
                                <span>Notify</span>
                            </div>
                            <div class="dag-node quality">
                                <i class="fas fa-check-circle"></i>
                                <span>Quality Check</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== SCHEDULING PATTERNS ===== -->
                <div class="orch-scheduling-section">
                    <div class="section-header-v2">
                        <div class="header-icon"><i class="fas fa-clock"></i></div>
                        <div class="header-text">
                            <h4>Scheduling Patterns</h4>
                            <span>Patrones de ejecución de workflows</span>
                        </div>
                    </div>

                    <div class="scheduling-grid">
                        <div class="schedule-card">
                            <div class="schedule-icon"><i class="fas fa-redo"></i></div>
                            <h5>Cron-based</h5>
                            <code>0 */2 * * *</code>
                            <span class="schedule-desc">Cada 2 horas</span>
                        </div>
                        <div class="schedule-card">
                            <div class="schedule-icon"><i class="fas fa-bolt"></i></div>
                            <h5>Event-driven</h5>
                            <code>on: file_arrival</code>
                            <span class="schedule-desc">Trigger por evento</span>
                        </div>
                        <div class="schedule-card">
                            <div class="schedule-icon"><i class="fas fa-link"></i></div>
                            <h5>Data-aware</h5>
                            <code>@asset_updated</code>
                            <span class="schedule-desc">Cuando el asset cambia</span>
                        </div>
                        <div class="schedule-card">
                            <div class="schedule-icon"><i class="fas fa-hand-pointer"></i></div>
                            <h5>Manual</h5>
                            <code>trigger_dag()</code>
                            <span class="schedule-desc">Ejecución manual</span>
                        </div>
                    </div>
                </div>

                <!-- ===== ORCHESTRATION FOOTER ===== -->
                <div class="orch-dashboard-footer">
                    <div class="orch-metrics-row">
                        <div class="orch-metric success">
                            <i class="fas fa-check-circle"></i>
                            <span class="metric-value">2,340</span>
                            <span class="metric-label">Successful</span>
                        </div>
                        <div class="orch-metric running">
                            <i class="fas fa-spinner"></i>
                            <span class="metric-value">12</span>
                            <span class="metric-label">Running</span>
                        </div>
                        <div class="orch-metric failed">
                            <i class="fas fa-times-circle"></i>
                            <span class="metric-value">3</span>
                            <span class="metric-label">Failed</span>
                        </div>
                        <div class="orch-metric queued">
                            <i class="fas fa-clock"></i>
                            <span class="metric-value">28</span>
                            <span class="metric-label">Queued</span>
                        </div>
                    </div>
                    <div class="orch-status-bar">
                        <span class="status-indicator healthy"></span>
                        <span>Orchestration cluster healthy</span>
                        <span class="last-check">Last run: 2 min ago</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== DESIGN PATTERNS ==================== -->
        <div id="pipeline-patterns" class="pipeline-diagram-premium pipeline-mode">
            <!-- Patterns Header -->
            <div class="patterns-premium-header">
                <div class="patterns-title-wrap">
                    <div class="patterns-icon-glow">
                        <i class="fas fa-cubes"></i>
                    </div>
                    <div class="patterns-title-text">
                        <h3>Design <span class="gradient-text">Patterns</span></h3>
                        <p>Arquitecturas probadas para pipelines de datos escalables</p>
                    </div>
                </div>
                <div class="patterns-badges">
                    <span class="pattern-badge"><i class="fas fa-layer-group"></i> Medallion</span>
                    <span class="pattern-badge"><i class="fas fa-exchange-alt"></i> CDC</span>
                    <span class="pattern-badge"><i class="fas fa-project-diagram"></i> Data Mesh</span>
                    <span class="pattern-badge"><i class="fas fa-network-wired"></i> Data Fabric</span>
                    <span class="pattern-badge"><i class="fas fa-code-branch"></i> CQRS</span>
                    <span class="pattern-badge"><i class="fas fa-history"></i> SCD</span>
                </div>
            </div>

            <!-- Medallion Architecture -->
            <div class="pattern-section">
                <div class="pattern-header">
                    <div class="pattern-icon medallion"><i class="fas fa-medal"></i></div>
                    <div class="pattern-info">
                        <h4>Medallion Architecture</h4>
                        <p>Patrón de organización de datos multicapa para Data Lakehouses</p>
                    </div>
                    <div class="pattern-source">
                        <a href="https://learn.microsoft.com/en-us/azure/databricks/lakehouse/medallion" target="_blank" class="source-link">
                            <i class="fab fa-microsoft"></i> Microsoft Learn
                        </a>
                        <a href="https://www.databricks.com/glossary/medallion-architecture" target="_blank" class="source-link">
                            <img src="https://cdn.simpleicons.org/databricks/FF3621" alt="Databricks" width="14" height="14"> Databricks
                        </a>
                    </div>
                </div>

                <div class="medallion-layers">
                    <div class="medallion-layer bronze">
                        <div class="layer-medal"><i class="fas fa-database"></i></div>
                        <div class="layer-content">
                            <h5>Bronze <span class="layer-aka">(Raw)</span></h5>
                            <p>Datos crudos sin transformación</p>
                            <ul class="layer-features">
                                <li><i class="fas fa-check"></i> Copia exacta de la fuente</li>
                                <li><i class="fas fa-check"></i> Sin validación</li>
                                <li><i class="fas fa-check"></i> Solo agregar</li>
                                <li><i class="fas fa-check"></i> Historial completo</li>
                            </ul>
                            <div class="layer-tech">
                                <span class="tech-chip"><i class="fas fa-file-alt"></i> Parquet</span>
                                <span class="tech-chip"><i class="fas fa-clock"></i> Timestamp</span>
                            </div>
                        </div>
                    </div>

                    <div class="layer-arrow"><i class="fas fa-arrow-right"></i></div>

                    <div class="medallion-layer silver">
                        <div class="layer-medal"><i class="fas fa-filter"></i></div>
                        <div class="layer-content">
                            <h5>Silver <span class="layer-aka">(Validated)</span></h5>
                            <p>Datos limpios y conformados</p>
                            <ul class="layer-features">
                                <li><i class="fas fa-check"></i> Deduplicación</li>
                                <li><i class="fas fa-check"></i> Validación de esquema</li>
                                <li><i class="fas fa-check"></i> Verificaciones de calidad de datos</li>
                                <li><i class="fas fa-check"></i> Joins básicos</li>
                            </ul>
                            <div class="layer-tech">
                                <span class="tech-chip"><i class="fas fa-table"></i> Delta Lake</span>
                                <span class="tech-chip"><i class="fas fa-shield-alt"></i> ACID</span>
                            </div>
                        </div>
                    </div>

                    <div class="layer-arrow"><i class="fas fa-arrow-right"></i></div>

                    <div class="medallion-layer gold">
                        <div class="layer-medal"><i class="fas fa-star"></i></div>
                        <div class="layer-content">
                            <h5>Gold <span class="layer-aka">(Curated)</span></h5>
                            <p>Datos listos para análisis</p>
                            <ul class="layer-features">
                                <li><i class="fas fa-check"></i> Agregaciones de negocio</li>
                                <li><i class="fas fa-check"></i> KPIs y métricas</li>
                                <li><i class="fas fa-check"></i> Almacenes de características</li>
                                <li><i class="fas fa-check"></i> Modelos semánticos</li>
                            </ul>
                            <div class="layer-tech">
                                <span class="tech-chip"><i class="fas fa-chart-bar"></i> BI Ready</span>
                                <span class="tech-chip"><i class="fas fa-brain"></i> ML Ready</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CDC - Change Data Capture -->
            <div class="pattern-section">
                <div class="pattern-header">
                    <div class="pattern-icon cdc"><i class="fas fa-exchange-alt"></i></div>
                    <div class="pattern-info">
                        <h4>Change Data Capture (CDC)</h4>
                        <p>Rastrea y captura cambios de base de datos en tiempo real para sistemas downstream</p>
                    </div>
                    <div class="pattern-source">
                        <a href="https://debezium.io/documentation/reference/stable/index.html" target="_blank" class="source-link">
                            <i class="fas fa-book"></i> Debezium Docs
                        </a>
                        <a href="https://www.confluent.io/blog/cdc-and-data-streaming-capture-database-changes-in-real-time-with-debezium/" target="_blank" class="source-link">
                            <i class="fas fa-stream"></i> Confluent
                        </a>
                    </div>
                </div>

                <div class="cdc-flow-diagram">
                    <div class="cdc-source">
                        <div class="cdc-db">
                            <i class="fas fa-database"></i>
                            <span>Source DB</span>
                            <small>PostgreSQL, MySQL, MongoDB</small>
                        </div>
                        <div class="cdc-log">
                            <i class="fas fa-file-alt"></i>
                            <span>Log de Transacciones</span>
                        </div>
                    </div>
                    <div class="cdc-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="cdc-connector">
                        <img src="https://cdn.simpleicons.org/apachekafka/231F20" alt="Debezium" width="32" height="32" style="filter: invert(1);">
                        <span>Debezium</span>
                        <small>Conector CDC</small>
                    </div>
                    <div class="cdc-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="cdc-stream">
                        <i class="fas fa-stream"></i>
                        <span>Kafka Topics</span>
                        <small>Flujo de Eventos</small>
                    </div>
                    <div class="cdc-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="cdc-targets">
                        <div class="cdc-target"><i class="fas fa-warehouse"></i> Data Warehouse</div>
                        <div class="cdc-target"><i class="fas fa-search"></i> Search Index</div>
                        <div class="cdc-target"><i class="fas fa-microservices"></i> Microservices</div>
                    </div>
                </div>
            </div>

            <!-- Data Mesh -->
            <div class="pattern-section">
                <div class="pattern-header">
                    <div class="pattern-icon mesh"><i class="fas fa-project-diagram"></i></div>
                    <div class="pattern-info">
                        <h4>Data Mesh</h4>
                        <p>Propiedad descentralizada de datos con arquitectura orientada a dominios</p>
                    </div>
                    <div class="pattern-source">
                        <a href="https://martinfowler.com/articles/data-mesh-principles.html" target="_blank" class="source-link">
                            <i class="fas fa-book"></i> Martin Fowler
                        </a>
                        <a href="https://www.datamesh-architecture.com/" target="_blank" class="source-link">
                            <i class="fas fa-globe"></i> datamesh-architecture
                        </a>
                    </div>
                </div>

                <div class="mesh-principles">
                    <div class="mesh-principle">
                        <div class="principle-icon"><i class="fas fa-sitemap"></i></div>
                        <h5>Domain Ownership</h5>
                        <p>Los equipos son dueños de sus datos de principio a fin</p>
                    </div>
                    <div class="mesh-principle">
                        <div class="principle-icon"><i class="fas fa-box-open"></i></div>
                        <h5>Data as a Product</h5>
                        <p>Tratar datos con pensamiento de producto</p>
                    </div>
                    <div class="mesh-principle">
                        <div class="principle-icon"><i class="fas fa-server"></i></div>
                        <h5>Self-serve Platform</h5>
                        <p>Infraestructura como plataforma</p>
                    </div>
                    <div class="mesh-principle">
                        <div class="principle-icon"><i class="fas fa-balance-scale"></i></div>
                        <h5>Federated Governance</h5>
                        <p>Descentralizado con estándares</p>
                    </div>
                </div>
            </div>

            <!-- Data Fabric -->
            <div class="pattern-section">
                <div class="pattern-header">
                    <div class="pattern-icon fabric"><i class="fas fa-network-wired"></i></div>
                    <div class="pattern-info">
                        <h4>Data Fabric</h4>
                        <p>Integración de datos unificada usando metadatos activos e IA/ML</p>
                    </div>
                    <div class="pattern-source">
                        <a href="https://www.gartner.com/en/data-analytics/topics/data-fabric" target="_blank" class="source-link">
                            <i class="fas fa-chart-line"></i> Gartner
                        </a>
                    </div>
                </div>

                <div class="fabric-components">
                    <div class="fabric-layer">
                        <h5><i class="fas fa-brain"></i> Capa de Conocimiento</h5>
                        <div class="fabric-items">
                            <span>Knowledge Graph</span>
                            <span>Active Metadata</span>
                            <span>Semantic Layer</span>
                        </div>
                    </div>
                    <div class="fabric-layer">
                        <h5><i class="fas fa-plug"></i> Capa de Integración</h5>
                        <div class="fabric-items">
                            <span>Data Virtualization</span>
                            <span>API Management</span>
                            <span>ETL/ELT</span>
                        </div>
                    </div>
                    <div class="fabric-layer">
                        <h5><i class="fas fa-shield-alt"></i> Capa de Gobernanza</h5>
                        <div class="fabric-items">
                            <span>Data Catalog</span>
                            <span>Lineage</span>
                            <span>Quality</span>
                        </div>
                    </div>
                </div>

                <div class="fabric-stats">
                    <div class="fabric-stat">
                        <span class="stat-value">30%</span>
                        <span class="stat-label">Diseño de integración más rápido</span>
                    </div>
                    <div class="fabric-stat">
                        <span class="stat-value">70%</span>
                        <span class="stat-label">Menos mantenimiento</span>
                    </div>
                </div>
            </div>

            <!-- CQRS Pattern -->
            <div class="pattern-section">
                <div class="pattern-header">
                    <div class="pattern-icon cqrs"><i class="fas fa-code-branch"></i></div>
                    <div class="pattern-info">
                        <h4>CQRS + Event Sourcing</h4>
                        <p>Modelos separados de lectura y escritura para sistemas escalables orientados a eventos</p>
                    </div>
                    <div class="pattern-source">
                        <a href="https://learn.microsoft.com/en-us/azure/architecture/patterns/cqrs" target="_blank" class="source-link">
                            <i class="fab fa-microsoft"></i> Microsoft Learn
                        </a>
                        <a href="https://learn.microsoft.com/en-us/azure/architecture/patterns/event-sourcing" target="_blank" class="source-link">
                            <i class="fas fa-book"></i> Event Sourcing
                        </a>
                    </div>
                </div>

                <div class="cqrs-diagram">
                    <div class="cqrs-side write">
                        <h5><i class="fas fa-pen"></i> Lado de Comandos (Escritura)</h5>
                        <div class="cqrs-flow">
                            <div class="cqrs-item">Command</div>
                            <div class="cqrs-arrow"><i class="fas fa-arrow-down"></i></div>
                            <div class="cqrs-item">Lógica de Dominio</div>
                            <div class="cqrs-arrow"><i class="fas fa-arrow-down"></i></div>
                            <div class="cqrs-item">Event Store</div>
                        </div>
                    </div>
                    <div class="cqrs-events">
                        <i class="fas fa-bolt"></i>
                        <span>Events</span>
                    </div>
                    <div class="cqrs-side read">
                        <h5><i class="fas fa-search"></i> Lado de Consultas (Lectura)</h5>
                        <div class="cqrs-flow">
                            <div class="cqrs-item">Modelo de Lectura</div>
                            <div class="cqrs-arrow"><i class="fas fa-arrow-up"></i></div>
                            <div class="cqrs-item">Projections</div>
                            <div class="cqrs-arrow"><i class="fas fa-arrow-up"></i></div>
                            <div class="cqrs-item">Event Store</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SCD Patterns -->
            <div class="pattern-section">
                <div class="pattern-header">
                    <div class="pattern-icon scd"><i class="fas fa-history"></i></div>
                    <div class="pattern-info">
                        <h4>Slowly Changing Dimensions (SCD)</h4>
                        <p>Estrategias para rastrear cambios históricos en tablas de dimensión</p>
                    </div>
                    <div class="pattern-source">
                        <a href="https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/" target="_blank" class="source-link">
                            <i class="fas fa-book"></i> Kimball Group
                        </a>
                    </div>
                </div>

                <div class="scd-types-grid">
                    <div class="scd-type">
                        <div class="scd-number">Type 0</div>
                        <h5>Retener Original</h5>
                        <p>Nunca actualizar valor original</p>
                        <code>-- No UPDATE allowed</code>
                    </div>
                    <div class="scd-type">
                        <div class="scd-number">Type 1</div>
                        <h5>Sobrescribir</h5>
                        <p>Reemplazar con nuevo valor</p>
                        <code>UPDATE dim SET name = 'New'</code>
                    </div>
                    <div class="scd-type highlighted">
                        <div class="scd-number">Type 2</div>
                        <h5>Agregar Nueva Fila</h5>
                        <p>Mantener historial completo</p>
                        <code>INSERT + valid_from/to</code>
                    </div>
                    <div class="scd-type">
                        <div class="scd-number">Type 3</div>
                        <h5>Agregar Nueva Columna</h5>
                        <p>Almacenar anterior + actual</p>
                        <code>current_val, previous_val</code>
                    </div>
                </div>
            </div>

            <!-- Data Vault 2.0 -->
            <div class="pattern-section">
                <div class="pattern-header">
                    <div class="pattern-icon vault"><i class="fas fa-vault"></i></div>
                    <div class="pattern-info">
                        <h4>Data Vault 2.0</h4>
                        <p>Metodología ágil y escalable de modelado de data warehouse</p>
                    </div>
                    <div class="pattern-source">
                        <a href="https://datavaultalliance.com/" target="_blank" class="source-link">
                            <i class="fas fa-globe"></i> Data Vault Alliance
                        </a>
                    </div>
                </div>

                <div class="vault-components">
                    <div class="vault-component hub">
                        <div class="vault-icon"><i class="fas fa-circle"></i></div>
                        <h5>Hubs</h5>
                        <p>Claves de negocio (identificadores únicos)</p>
                    </div>
                    <div class="vault-connector"></div>
                    <div class="vault-component link">
                        <div class="vault-icon"><i class="fas fa-link"></i></div>
                        <h5>Links</h5>
                        <p>Relaciones entre hubs</p>
                    </div>
                    <div class="vault-connector"></div>
                    <div class="vault-component satellite">
                        <div class="vault-icon"><i class="fas fa-satellite"></i></div>
                        <h5>Satellites</h5>
                        <p>Atributos descriptivos + historial</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== PROCESSING ARCHITECTURES ==================== -->
        <div id="pipeline-processing" class="pipeline-diagram-premium pipeline-mode">
            <!-- Processing Header -->
            <div class="processing-premium-header">
                <div class="processing-title-wrap">
                    <div class="processing-icon-glow">
                        <i class="fas fa-microchip"></i>
                    </div>
                    <div class="processing-title-text">
                        <h3>Processing <span class="gradient-text">Architectures</span></h3>
                        <p>Patrones escalables para procesamiento moderno de datos</p>
                    </div>
                </div>
                <div class="processing-badges">
                    <span class="arch-badge lambda"><i class="fas fa-layer-group"></i> Lambda</span>
                    <span class="arch-badge kappa"><i class="fas fa-stream"></i> Kappa</span>
                    <span class="arch-badge delta"><i class="fas fa-database"></i> Delta</span>
                    <span class="arch-badge etl-elt"><i class="fas fa-exchange-alt"></i> ETL vs ELT</span>
                    <span class="arch-badge streaming"><i class="fas fa-broadcast-tower"></i> Streaming</span>
                </div>
            </div>

            <!-- Lambda Architecture -->
            <div class="arch-section">
                <div class="arch-header">
                    <div class="arch-icon lambda"><i class="fas fa-layer-group"></i></div>
                    <div class="arch-info">
                        <h4>Lambda Architecture</h4>
                        <p>Procesamiento paralelo batch y streaming para resultados precisos y de baja latencia</p>
                    </div>
                    <div class="arch-source">
                        <a href="http://lambda-architecture.net/" target="_blank" class="source-link">
                            <i class="fas fa-external-link-alt"></i> lambda-architecture.net
                        </a>
                    </div>
                </div>

                <div class="lambda-diagram">
                    <div class="lambda-source">
                        <div class="lambda-node source">
                            <i class="fas fa-database"></i>
                            <span>Fuente de Datos</span>
                        </div>
                    </div>

                    <div class="lambda-layers">
                        <div class="lambda-layer batch">
                            <div class="layer-label"><i class="fas fa-layer-group"></i> Batch Layer</div>
                            <div class="layer-description">
                                <p>Procesa todos los datos históricos</p>
                                <div class="layer-techs">
                                    <span class="tech-pill"><i class="devicon-apachespark-original"></i> Spark</span>
                                    <span class="tech-pill"><i class="devicon-hadoop-original"></i> Hadoop</span>
                                </div>
                            </div>
                            <div class="layer-output">
                                <i class="fas fa-database"></i>
                                <span>Vistas Batch</span>
                            </div>
                        </div>

                        <div class="lambda-layer speed">
                            <div class="layer-label"><i class="fas fa-bolt"></i> Speed Layer</div>
                            <div class="layer-description">
                                <p>Procesa datos recientes en tiempo real</p>
                                <div class="layer-techs">
                                    <span class="tech-pill"><i class="devicon-apachekafka-original"></i> Kafka</span>
                                    <span class="tech-pill"><i class="fas fa-water"></i> Flink</span>
                                </div>
                            </div>
                            <div class="layer-output">
                                <i class="fas fa-clock"></i>
                                <span>Vistas en Tiempo Real</span>
                            </div>
                        </div>
                    </div>

                    <div class="lambda-serving">
                        <div class="lambda-node serving">
                            <i class="fas fa-server"></i>
                            <span>Serving Layer</span>
                            <small>Combina batch + tiempo real</small>
                        </div>
                    </div>
                </div>

                <div class="arch-pros-cons">
                    <div class="pros">
                        <h5><i class="fas fa-plus-circle"></i> Ventajas</h5>
                        <ul>
                            <li>Resultados precisos (batch) + baja latencia (speed)</li>
                            <li>Tolerante a fallos</li>
                            <li>Fácil reprocesamiento</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h5><i class="fas fa-minus-circle"></i> Desventajas</h5>
                        <ul>
                            <li>Complejidad de mantener 2 pipelines</li>
                            <li>Código duplicado</li>
                            <li>Mayor costo operacional</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Kappa Architecture -->
            <div class="arch-section">
                <div class="arch-header">
                    <div class="arch-icon kappa"><i class="fas fa-stream"></i></div>
                    <div class="arch-info">
                        <h4>Kappa Architecture</h4>
                        <p>Lambda simplificado usando solo streaming para todo el procesamiento</p>
                    </div>
                    <div class="arch-source">
                        <a href="https://www.oreilly.com/radar/questioning-the-lambda-architecture/" target="_blank" class="source-link">
                            <i class="fab fa-oreilly"></i> O'Reilly
                        </a>
                    </div>
                </div>

                <div class="kappa-diagram">
                    <div class="kappa-flow">
                        <div class="kappa-node source">
                            <i class="fas fa-database"></i>
                            <span>Fuente de Datos</span>
                        </div>
                        <div class="kappa-arrow"><i class="fas fa-arrow-right"></i></div>
                        <div class="kappa-node stream">
                            <i class="fas fa-water"></i>
                            <span>Procesamiento de Streams</span>
                            <small>Pipeline único</small>
                        </div>
                        <div class="kappa-arrow"><i class="fas fa-arrow-right"></i></div>
                        <div class="kappa-node serving">
                            <i class="fas fa-server"></i>
                            <span>Serving Layer</span>
                        </div>
                    </div>
                    <div class="kappa-features">
                        <div class="feature-chip"><i class="fas fa-code"></i> Código único</div>
                        <div class="feature-chip"><i class="fas fa-sync"></i> Reprocesa via replay</div>
                        <div class="feature-chip"><i class="fas fa-clock"></i> Tiempo real primero</div>
                    </div>
                </div>
            </div>

            <!-- Delta Architecture -->
            <div class="arch-section">
                <div class="arch-header">
                    <div class="arch-icon delta"><i class="fas fa-triangle-exclamation"></i></div>
                    <div class="arch-info">
                        <h4>Delta Architecture</h4>
                        <p>Batch y streaming unificado en Delta Lake con transacciones ACID</p>
                    </div>
                    <div class="arch-source">
                        <a href="https://delta.io/" target="_blank" class="source-link">
                            <img src="https://cdn.simpleicons.org/delta/003366" alt="Delta" width="14" height="14"> delta.io
                        </a>
                    </div>
                </div>

                <div class="delta-features-grid">
                    <div class="delta-feature">
                        <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
                        <h5>ACID Transactions</h5>
                        <p>Garantías transaccionales en data lakes</p>
                    </div>
                    <div class="delta-feature">
                        <div class="feature-icon"><i class="fas fa-history"></i></div>
                        <h5>Time Travel</h5>
                        <p>Consultar versiones anteriores de datos</p>
                    </div>
                    <div class="delta-feature">
                        <div class="feature-icon"><i class="fas fa-code-merge"></i></div>
                        <h5>Unified Batch & Streaming</h5>
                        <p>Mismo formato para ambos paradigmas</p>
                    </div>
                    <div class="delta-feature">
                        <div class="feature-icon"><i class="fas fa-tachometer-alt"></i></div>
                        <h5>Schema Enforcement</h5>
                        <p>Validación automática de esquema</p>
                    </div>
                </div>
            </div>

            <!-- ETL vs ELT Comparison -->
            <div class="arch-section etl-elt-section">
                <div class="arch-header">
                    <div class="arch-icon etl-elt"><i class="fas fa-exchange-alt"></i></div>
                    <div class="arch-info">
                        <h4>ETL vs ELT</h4>
                        <p>Dos enfoques fundamentales para integración y transformación de datos</p>
                    </div>
                    <div class="arch-source">
                        <a href="https://docs.getdbt.com/terms/elt" target="_blank" class="source-link">
                            <img src="https://www.svgrepo.com/show/330270/dbt.svg" alt="dbt" width="14" height="14"> dbt Labs Docs
                        </a>
                    </div>
                </div>

                <div class="etl-elt-comparison">
                    <div class="comparison-item etl">
                        <div class="comparison-header">
                            <h5><i class="fas fa-arrow-right"></i> ETL</h5>
                            <span class="comparison-full">Extract → Transform → Load</span>
                        </div>
                        <div class="comparison-flow">
                            <div class="flow-step">
                                <div class="step-icon source"><i class="fas fa-database"></i></div>
                                <span>Source</span>
                            </div>
                            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="flow-step">
                                <div class="step-icon transform"><i class="fas fa-cogs"></i></div>
                                <span>Transform</span>
                            </div>
                            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="flow-step">
                                <div class="step-icon target"><i class="fas fa-warehouse"></i></div>
                                <span>Target DW</span>
                            </div>
                        </div>
                        <ul class="comparison-details">
                            <li><i class="fas fa-server"></i> La transformación ocurre en servidor staging</li>
                            <li><i class="fas fa-clock"></i> Enfoque tradicional, más lento</li>
                            <li><i class="fas fa-tools"></i> SSIS, Informatica, Talend</li>
                        </ul>
                    </div>

                    <div class="comparison-vs">
                        <span>VS</span>
                    </div>

                    <div class="comparison-item elt highlighted">
                        <div class="comparison-header">
                            <h5><i class="fas fa-arrow-right"></i> ELT</h5>
                            <span class="comparison-full">Extract → Load → Transform</span>
                            <span class="modern-badge"><i class="fas fa-star"></i> Modern</span>
                        </div>
                        <div class="comparison-flow">
                            <div class="flow-step">
                                <div class="step-icon source"><i class="fas fa-database"></i></div>
                                <span>Source</span>
                            </div>
                            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="flow-step">
                                <div class="step-icon target"><i class="fas fa-warehouse"></i></div>
                                <span>Data Lake/DW</span>
                            </div>
                            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="flow-step">
                                <div class="step-icon transform"><i class="fas fa-cogs"></i></div>
                                <span>Transform</span>
                            </div>
                        </div>
                        <ul class="comparison-details">
                            <li><i class="fas fa-bolt"></i> Transformación en destino (escalable)</li>
                            <li><i class="fas fa-rocket"></i> Más rápido, aprovecha el cómputo del DW</li>
                            <li><i class="fas fa-tools"></i> dbt, Fivetran, Airbyte, Stitch</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Practical Example: dbt Model -->
                <div class="code-example-box" data-premium-tooltip="Ejemplo práctico dbt|Modelo SQL típico en dbt para transformar datos en el Data Warehouse.|SQL, Jinja, Testing|info|fas fa-code|dbt Labs">
                    <div class="code-example-header">
                        <i class="fas fa-code"></i>
                        <span>Ejemplo ELT con dbt</span>
                        <span class="code-lang">SQL + Jinja</span>
                    </div>
                    <pre class="code-block"><code class="language-sql" set:html={`-- models/staging/stg_orders.sql
&#123;&#123; config(materialized='incremental') &#125;&#125;

SELECT
    order_id,
    customer_id,
    order_date,
    total_amount,
    &#123;&#123; dbt_utils.generate_surrogate_key(['order_id']) &#125;&#125; as order_sk
FROM &#123;&#123; source('raw', 'orders') &#125;&#125;
&#123;% if is_incremental() %&#125;
WHERE order_date > (SELECT MAX(order_date) FROM &#123;&#123; this &#125;&#125;)
&#123;% endif %&#125;`} /></pre>
                    <div class="code-example-footer">
                        <span class="example-note"><i class="fas fa-lightbulb"></i> El modelo se ejecuta automáticamente en el Data Warehouse (Snowflake, BigQuery, etc.)</span>
                    </div>
                </div>
            </div>

            <!-- Streaming Patterns -->
            <div class="arch-section streaming-section">
                <div class="arch-header">
                    <div class="arch-icon streaming"><i class="fas fa-broadcast-tower"></i></div>
                    <div class="arch-info">
                        <h4>Streaming Patterns</h4>
                        <p>Estrategias de procesamiento en tiempo real para flujos de datos continuos</p>
                    </div>
                    <div class="arch-source">
                        <a href="https://kafka.apache.org/documentation/streams/" target="_blank" class="source-link">
                            <i class="devicon-apachekafka-original"></i> Kafka Streams
                        </a>
                    </div>
                </div>

                <div class="streaming-patterns-grid">
                    <div class="streaming-pattern">
                        <div class="pattern-icon"><i class="fas fa-window-maximize"></i></div>
                        <h5 data-premium-tooltip="Windowing|Agrupa eventos en ventanas de tiempo para agregaciones. Tipos: Tumbling (fijas), Sliding (deslizantes), Session (por actividad).|Tumbling, Sliding, Session|feature|fas fa-window-maximize|Concepto Streaming">Windowing</h5>
                        <p>Ventanas Tumbling, Sliding, Session para agregaciones basadas en tiempo</p>
                    </div>
                    <div class="streaming-pattern">
                        <div class="pattern-icon"><i class="fas fa-water"></i></div>
                        <h5 data-premium-tooltip="Watermarks|Marcas de agua para manejar datos que llegan tarde. Define cuánto esperar antes de cerrar una ventana.|Late data, Event time|feature|fas fa-water|Concepto Streaming">Watermarks</h5>
                        <p>Manejo de datos tardíos con procesamiento de tiempo de evento</p>
                    </div>
                    <div class="streaming-pattern">
                        <div class="pattern-icon"><i class="fas fa-check-double"></i></div>
                        <h5 data-premium-tooltip="Exactly-Once|Garantía de procesamiento exactamente una vez, sin pérdida ni duplicación de eventos.|Idempotency, Checkpoints|feature|fas fa-check-double|Concepto Streaming">Exactly-Once</h5>
                        <p>Garantiza que cada evento se procese exactamente una vez</p>
                    </div>
                    <div class="streaming-pattern">
                        <div class="pattern-icon"><i class="fas fa-compress-arrows-alt"></i></div>
                        <h5 data-premium-tooltip="Backpressure|Mecanismo de control de flujo cuando los consumidores no pueden procesar tan rápido como llegan los datos.|Flow control, Buffering|feature|fas fa-compress-arrows-alt|Concepto Streaming">Backpressure</h5>
                        <p>Control de flujo cuando los consumidores no pueden seguir el ritmo</p>
                    </div>
                </div>

                <div class="streaming-engines">
                    <span class="engine-label">Motores Populares:</span>
                    <a href="https://kafka.apache.org/" target="_blank" class="engine-chip">
                        <i class="devicon-apachekafka-original"></i> Kafka
                    </a>
                    <a href="https://flink.apache.org/" target="_blank" class="engine-chip">
                        <img src="https://cdn.simpleicons.org/apacheflink/E6526F" alt="Flink" width="16" height="16"> Flink
                    </a>
                    <a href="https://spark.apache.org/streaming/" target="_blank" class="engine-chip">
                        <i class="devicon-apachespark-original"></i> Spark Streaming
                    </a>
                    <a href="https://pulsar.apache.org/" target="_blank" class="engine-chip">
                        <img src="https://cdn.simpleicons.org/apachepulsar/188FFF" alt="Pulsar" width="16" height="16"> Pulsar
                    </a>
                </div>
            </div>
        </div>

        <!-- ==================== STORAGE PLATFORMS ==================== -->
        <div id="pipeline-storage" class="pipeline-diagram-premium pipeline-mode">
            <!-- Storage Header -->
            <div class="storage-premium-header">
                <div class="storage-title-wrap">
                    <div class="storage-icon-glow">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="storage-title-text">
                        <h3>Storage <span class="gradient-text">Platforms</span></h3>
                        <p>Comparación de arquitecturas de datos modernas y modelado dimensional</p>
                    </div>
                </div>
                <div class="storage-badges">
                    <span class="storage-badge lake"><i class="fas fa-water"></i> Data Lake</span>
                    <span class="storage-badge warehouse"><i class="fas fa-warehouse"></i> Data Warehouse</span>
                    <span class="storage-badge lakehouse"><i class="fas fa-home"></i> Lakehouse</span>
                    <span class="storage-badge schema"><i class="fas fa-star"></i> Star Schema</span>
                    <span class="storage-badge schema"><i class="fas fa-snowflake"></i> Snowflake Schema</span>
                </div>
            </div>

            <!-- Platform Comparison -->
            <div class="storage-comparison">
                <div class="storage-platform lake">
                    <div class="platform-header">
                        <div class="platform-icon"><i class="fas fa-water"></i></div>
                        <h4>Data Lake</h4>
                    </div>
                    <div class="platform-description">
                        <p>Repositorio centralizado para almacenar datos crudos a escala</p>
                    </div>
                    <div class="platform-characteristics">
                        <div class="char-item">
                            <i class="fas fa-file-alt"></i>
                            <span>Cualquier formato (JSON, CSV, Parquet, Avro)</span>
                        </div>
                        <div class="char-item">
                            <i class="fas fa-dollar-sign"></i>
                            <span>Bajo costo de almacenamiento</span>
                        </div>
                        <div class="char-item">
                            <i class="fas fa-expand-arrows-alt"></i>
                            <span>Altamente escalable</span>
                        </div>
                        <div class="char-item warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Sin garantías ACID</span>
                        </div>
                    </div>
                    <div class="platform-techs">
                        <a href="https://aws.amazon.com/s3/" target="_blank" class="tech-link">
                            <i class="devicon-amazonwebservices-plain-wordmark"></i> S3
                        </a>
                        <a href="https://azure.microsoft.com/en-us/products/storage/data-lake-storage/" target="_blank" class="tech-link">
                            <i class="devicon-azure-original"></i> ADLS
                        </a>
                        <a href="https://cloud.google.com/storage" target="_blank" class="tech-link">
                            <i class="devicon-googlecloud-original"></i> GCS
                        </a>
                    </div>
                </div>

                <div class="storage-platform warehouse">
                    <div class="platform-header">
                        <div class="platform-icon"><i class="fas fa-warehouse"></i></div>
                        <h4>Data Warehouse</h4>
                    </div>
                    <div class="platform-description">
                        <p>Almacenamiento estructurado optimizado para analytics y BI</p>
                    </div>
                    <div class="platform-characteristics">
                        <div class="char-item">
                            <i class="fas fa-table"></i>
                            <span>Schema-on-write (estructura predefinida)</span>
                        </div>
                        <div class="char-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>Cumplimiento ACID completo</span>
                        </div>
                        <div class="char-item">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Consultas optimizadas</span>
                        </div>
                        <div class="char-item warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Mayor costo por TB</span>
                        </div>
                    </div>
                    <div class="platform-techs">
                        <a href="https://www.snowflake.com/" target="_blank" class="tech-link">
                            <img src="https://cdn.simpleicons.org/snowflake/29B5E8" alt="Snowflake" width="18" height="18"> Snowflake
                        </a>
                        <a href="https://cloud.google.com/bigquery" target="_blank" class="tech-link">
                            <img src="https://cdn.simpleicons.org/googlebigquery/669DF6" alt="BigQuery" width="18" height="18"> BigQuery
                        </a>
                        <a href="https://aws.amazon.com/redshift/" target="_blank" class="tech-link">
                            <i class="devicon-amazonwebservices-plain-wordmark"></i> Redshift
                        </a>
                    </div>
                </div>

                <div class="storage-platform lakehouse highlighted">
                    <div class="platform-header">
                        <div class="platform-icon"><i class="fas fa-home"></i></div>
                        <h4>Data Lakehouse</h4>
                        <span class="recommended-badge"><i class="fas fa-star"></i> Recomendado</span>
                    </div>
                    <div class="platform-description">
                        <p>Combina la flexibilidad del Data Lake con las capacidades del Data Warehouse</p>
                    </div>
                    <div class="platform-characteristics">
                        <div class="char-item">
                            <i class="fas fa-check-double"></i>
                            <span>Schema-on-read + Schema-on-write</span>
                        </div>
                        <div class="char-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>ACID on Parquet files</span>
                        </div>
                        <div class="char-item">
                            <i class="fas fa-history"></i>
                            <span>Viaje en el tiempo y versionado</span>
                        </div>
                        <div class="char-item">
                            <i class="fas fa-code-merge"></i>
                            <span>Unified Batch + Streaming</span>
                        </div>
                    </div>
                    <div class="platform-techs">
                        <a href="https://www.databricks.com/" target="_blank" class="tech-link">
                            <img src="https://cdn.simpleicons.org/databricks/FF3621" alt="Databricks" width="18" height="18"> Databricks
                        </a>
                        <a href="https://delta.io/" target="_blank" class="tech-link">
                            <img src="https://cdn.simpleicons.org/delta/003366" alt="Delta Lake" width="18" height="18"> Delta Lake
                        </a>
                    </div>
                </div>
            </div>

            <!-- Open Table Formats -->
            <div class="table-formats-section">
                <div class="formats-header">
                    <h4><i class="fas fa-layer-group"></i> Open Table Formats</h4>
                    <p>Formatos abiertos que habilitan funcionalidad Lakehouse en Data Lakes</p>
                </div>

                <div class="formats-grid">
                    <div class="format-card delta">
                        <div class="format-logo">
                            <img src="https://cdn.simpleicons.org/delta/003366" alt="Delta Lake" width="40" height="40">
                        </div>
                        <h5>Delta Lake</h5>
                        <p class="format-origin">Databricks</p>
                        <ul class="format-features">
                            <li>Transacciones ACID</li>
                            <li>Evolución de esquema</li>
                            <li>Viaje en el tiempo</li>
                            <li>Z-ordering</li>
                        </ul>
                        <a href="https://delta.io/" target="_blank" class="format-link">delta.io</a>
                    </div>

                    <div class="format-card iceberg">
                        <div class="format-logo">
                            <img src="https://cdn.simpleicons.org/apacheiceberg/4F7FE8" alt="Apache Iceberg" width="40" height="40">
                        </div>
                        <h5>Apache Iceberg</h5>
                        <p class="format-origin">Netflix → Apache</p>
                        <ul class="format-features">
                            <li>Particionamiento oculto</li>
                            <li>Integración con catálogo</li>
                            <li>Viaje en el tiempo</li>
                            <li>Neutral de proveedor</li>
                        </ul>
                        <a href="https://iceberg.apache.org/" target="_blank" class="format-link">iceberg.apache.org</a>
                    </div>

                    <div class="format-card hudi">
                        <div class="format-logo">
                            <img src="https://cdn.simpleicons.org/apachehudi/FF6B00" alt="Apache Hudi" width="40" height="40">
                        </div>
                        <h5>Apache Hudi</h5>
                        <p class="format-origin">Uber → Apache</p>
                        <ul class="format-features">
                            <li>Upserts optimizados</li>
                            <li>Consultas incrementales</li>
                            <li>Cambios a nivel de registro</li>
                            <li>Soporte CDC</li>
                        </ul>
                        <a href="https://hudi.apache.org/" target="_blank" class="format-link">hudi.apache.org</a>
                    </div>
                </div>
            </div>

            <!-- Dimensional Modeling: Star vs Snowflake Schema -->
            <div class="dimensional-modeling-section">
                <div class="modeling-header">
                    <h4><i class="fas fa-cubes"></i> Dimensional Modeling</h4>
                    <p>Patrones clásicos de diseño de data warehouse por Ralph Kimball</p>
                    <div class="modeling-source">
                        <a href="https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/" target="_blank" class="source-link">
                            <i class="fas fa-book"></i> Kimball Group
                        </a>
                    </div>
                </div>

                <div class="schema-comparison">
                    <div class="schema-item star">
                        <div class="schema-header">
                            <div class="schema-icon"><i class="fas fa-star"></i></div>
                            <h5>Star Schema</h5>
                            <span class="schema-badge popular"><i class="fas fa-fire"></i> Más Popular</span>
                        </div>
                        <div class="schema-diagram">
                            <div class="fact-table">
                                <i class="fas fa-table"></i>
                                <span>Fact Table</span>
                                <small>Ventas, Órdenes, Transacciones</small>
                            </div>
                            <div class="dim-connections star-connections">
                                <div class="dim-table"><i class="fas fa-calendar"></i> dim_date</div>
                                <div class="dim-table"><i class="fas fa-user"></i> dim_customer</div>
                                <div class="dim-table"><i class="fas fa-box"></i> dim_product</div>
                                <div class="dim-table"><i class="fas fa-store"></i> dim_store</div>
                            </div>
                        </div>
                        <ul class="schema-features">
                            <li><i class="fas fa-check"></i> Consultas simples (menos JOINs)</li>
                            <li><i class="fas fa-check"></i> Mejor rendimiento de consultas</li>
                            <li><i class="fas fa-check"></i> Dimensiones desnormalizadas</li>
                            <li><i class="fas fa-exclamation-triangle"></i> Redundancia de datos</li>
                        </ul>
                    </div>

                    <div class="schema-vs">
                        <span>VS</span>
                    </div>

                    <div class="schema-item snowflake">
                        <div class="schema-header">
                            <div class="schema-icon"><i class="fas fa-snowflake"></i></div>
                            <h5>Snowflake Schema</h5>
                            <span class="schema-badge normalized"><i class="fas fa-compress-alt"></i> Normalizado</span>
                        </div>
                        <div class="schema-diagram">
                            <div class="fact-table">
                                <i class="fas fa-table"></i>
                                <span>Fact Table</span>
                                <small>Ventas, Órdenes, Transacciones</small>
                            </div>
                            <div class="dim-connections snowflake-connections">
                                <div class="dim-branch">
                                    <div class="dim-table"><i class="fas fa-calendar"></i> dim_date</div>
                                    <div class="sub-dim"><i class="fas fa-clock"></i> dim_time</div>
                                </div>
                                <div class="dim-branch">
                                    <div class="dim-table"><i class="fas fa-box"></i> dim_product</div>
                                    <div class="sub-dim"><i class="fas fa-tags"></i> dim_category</div>
                                    <div class="sub-dim"><i class="fas fa-building"></i> dim_brand</div>
                                </div>
                            </div>
                        </div>
                        <ul class="schema-features">
                            <li><i class="fas fa-check"></i> Menos redundancia de datos</li>
                            <li><i class="fas fa-check"></i> Normalizado dimensions</li>
                            <li><i class="fas fa-check"></i> Mantenimiento más fácil</li>
                            <li><i class="fas fa-exclamation-triangle"></i> Consultas más complejas</li>
                        </ul>
                    </div>
                </div>

                <div class="modeling-tips">
                    <div class="tip">
                        <i class="fas fa-lightbulb"></i>
                        <span><strong>Consejo:</strong> Star Schema es preferido para la mayoría de cargas BI/analytics debido a consultas más simples y mejor rendimiento con bases de datos columnares modernas.</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== OOP ==================== -->
        <div id="pipeline-oop" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-cube"></i>
                    <span>Programación Orientada a Objetos (POO)</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-graduation-cap"></i> PRY2202 DuocUC</span>
                    <span class="stat-pill"><i class="fas fa-book"></i> SWEBOK v4</span>
                    <span class="stat-pill"><i class="fas fa-check-circle"></i> 4 Pilares</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <div class="oop-intro-banner">
                    <i class="fas fa-info-circle"></i>
                    <span>Asignatura <strong>PRY2202 - Desarrollo Orientado a Objetos I</strong> (Bimestre 02). Paradigma fundamental en Java, Python, C# y la mayoría de lenguajes modernos.</span>
                </div>
                <div class="oop-pillars-grid">
                    <div class="oop-pillar-card encapsulation">
                        <div class="pillar-icon"><i class="fas fa-lock"></i></div>
                        <h4>Encapsulamiento</h4>
                        <p>Ocultar datos internos (private) y controlar acceso mediante métodos públicos (getters/setters).</p>
                        <div class="pillar-code-example">
                            <pre><code set:html={`public class Empleado {
    private String rut;  // Oculto
    private double salario;

    public String getRut() {
        return this.rut;
    }

    public void setSalario(double s) {
        if (s >= 0) this.salario = s;
    }
}`}></code></pre>
                        </div>
                        <div class="pillar-keywords"><span>private</span><span>protected</span><span>getters</span><span>setters</span></div>
                    </div>
                    <div class="oop-pillar-card inheritance">
                        <div class="pillar-icon"><i class="fas fa-sitemap"></i></div>
                        <h4>Herencia</h4>
                        <p>Crear clases hijas que heredan atributos y métodos de una clase padre. Reutilización de código.</p>
                        <div class="pillar-code-example">
                            <pre><code set:html={`public class Persona {
    protected String nombre;
}

public class Estudiante extends Persona {
    private String matricula;

    public Estudiante(String n, String m) {
        super();  // Llama constructor padre
        this.nombre = n;
        this.matricula = m;
    }
}`}></code></pre>
                        </div>
                        <div class="pillar-keywords"><span>extends</span><span>super()</span><span>protected</span></div>
                    </div>
                    <div class="oop-pillar-card polymorphism">
                        <div class="pillar-icon"><i class="fas fa-shapes"></i></div>
                        <h4>Polimorfismo</h4>
                        <p>"Muchas formas": Un mismo método con diferentes comportamientos según la clase que lo implemente.</p>
                        <div class="pillar-code-example">
                            <pre><code set:html={`public abstract class Vehiculo {
    public abstract void acelerar();
}

public class Auto extends Vehiculo {
    @Override
    public void acelerar() {
        System.out.println("Pedal");
    }
}

// Una variable padre puede referenciar hijos
Vehiculo v = new Auto();
v.acelerar(); // Ejecuta versión de Auto`}></code></pre>
                        </div>
                        <div class="pillar-keywords"><span>@Override</span><span>abstract</span><span>dynamic binding</span></div>
                    </div>
                    <div class="oop-pillar-card abstraction">
                        <div class="pillar-icon"><i class="fas fa-layer-group"></i></div>
                        <h4>Abstracción</h4>
                        <p>Definir contratos (interfaces) que especifican QUÉ hacer, no CÓMO. Desacoplar implementación.</p>
                        <div class="pillar-code-example">
                            <pre><code set:html={`public interface Registrable {
    String getId();
    boolean validar();
}

public class Producto implements Registrable {
    private String codigo;

    @Override
    public String getId() {
        return this.codigo;
    }

    @Override
    public boolean validar() {
        return codigo != null;
    }
}`}></code></pre>
                        </div>
                        <div class="pillar-keywords"><span>interface</span><span>implements</span><span>contract</span></div>
                    </div>
                </div>
                <div class="oop-competencies">
                    <h5><i class="fas fa-bullseye"></i> Competencias PRY2202:</h5>
                    <div class="competency-tags">
                        <span class="competency-tag"><i class="fas fa-check"></i> Diseñar clases con encapsulamiento</span>
                        <span class="competency-tag"><i class="fas fa-check"></i> Implementar jerarquías de herencia</span>
                        <span class="competency-tag"><i class="fas fa-check"></i> Aplicar polimorfismo en colecciones</span>
                        <span class="competency-tag"><i class="fas fa-check"></i> Definir e implementar interfaces</span>
                    </div>
                </div>
                <div class="oop-languages">
                    <span class="lang-title">Lenguajes OOP:</span>
                    <div class="lang-icons">
                        <a href="https://www.java.com/" target="_blank" class="lang-chip hot"><i class="devicon-java-plain colored"></i> Java</a>
                        <a href="https://www.python.org/" target="_blank" class="lang-chip"><i class="devicon-python-plain colored"></i> Python</a>
                        <a href="https://docs.microsoft.com/dotnet/csharp/" target="_blank" class="lang-chip"><i class="devicon-csharp-plain colored"></i> C#</a>
                        <a href="https://kotlinlang.org/" target="_blank" class="lang-chip"><i class="devicon-kotlin-plain colored"></i> Kotlin</a>
                    </div>
                </div>
                <div class="fundamentals-references">
                    <a href="https://www.swebok.org/" target="_blank" class="ref-link"><i class="fas fa-book"></i> SWEBOK v4 (IEEE)</a>
                    <a href="https://refactoring.guru/design-patterns" target="_blank" class="ref-link"><i class="fas fa-shapes"></i> Refactoring Guru</a>
                    <a href="https://docs.oracle.com/javase/tutorial/java/concepts/" target="_blank" class="ref-link"><i class="fab fa-java"></i> Oracle Java OOP</a>
                </div>
            </div>
        </div>

        <!-- ==================== FUNCTIONAL PROGRAMMING ==================== -->
        <div id="pipeline-functional" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-infinity"></i>
                    <span>Functional Programming (FP)</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-calculator"></i> Lambda Calculus</span>
                    <span class="stat-pill"><i class="fas fa-history"></i> LISP 1958</span>
                    <span class="stat-pill"><i class="fas fa-stream"></i> Pipelines</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <div class="fp-concepts-grid">
                    <div class="fp-concept-card pure">
                        <div class="concept-icon"><i class="fas fa-atom"></i></div>
                        <h4>Pure Functions</h4>
                        <p>Mismo input produce mismo output. Sin efectos secundarios.</p>
                        <div class="concept-example"><code>f(x) = x * 2</code></div>
                    </div>
                    <div class="fp-concept-card immutable">
                        <div class="concept-icon"><i class="fas fa-lock"></i></div>
                        <h4>Immutability</h4>
                        <p>Los datos no se modifican despues de crearse.</p>
                        <div class="concept-example"><code>const newList = [...list, item]</code></div>
                    </div>
                    <div class="fp-concept-card hof">
                        <div class="concept-icon"><i class="fas fa-code-branch"></i></div>
                        <h4>Higher-Order Functions</h4>
                        <p>Funciones que reciben o retornan funciones.</p>
                        <div class="concept-example"><code>list.map(x =&gt; x * 2)</code></div>
                    </div>
                    <div class="fp-concept-card composition">
                        <div class="concept-icon"><i class="fas fa-link"></i></div>
                        <h4>Composition</h4>
                        <p>Combinar funciones para crear nuevas funciones.</p>
                        <div class="concept-example"><code>compose(f, g)(x)</code></div>
                    </div>
                </div>
                <div class="fp-applications">
                    <h5><i class="fas fa-rocket"></i> Aplicaciones en Data Engineering:</h5>
                    <div class="app-tags">
                        <span class="app-tag"><i class="devicon-apachespark-original"></i> Spark RDDs</span>
                        <span class="app-tag"><i class="fas fa-stream"></i> Stream Processing</span>
                        <span class="app-tag"><i class="fas fa-database"></i> ETL Pipelines</span>
                    </div>
                </div>
                <div class="fp-languages">
                    <span class="lang-title">Lenguajes FP:</span>
                    <div class="lang-icons">
                        <a href="https://www.haskell.org/" target="_blank" class="lang-chip fp-lang"><i class="devicon-haskell-plain"></i> Haskell</a>
                        <a href="https://www.scala-lang.org/" target="_blank" class="lang-chip fp-lang"><i class="devicon-scala-plain colored"></i> Scala</a>
                        <a href="https://elixir-lang.org/" target="_blank" class="lang-chip fp-lang"><i class="devicon-elixir-plain"></i> Elixir</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SOLID ==================== -->
        <div id="pipeline-solid" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-gem"></i>
                    <span>Principios SOLID</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-user"></i> Robert C. Martin</span>
                    <span class="stat-pill"><i class="fas fa-book"></i> Clean Architecture</span>
                    <span class="stat-pill"><i class="fas fa-check-circle"></i> 5 Principios</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <div class="solid-intro-banner">
                    <i class="fas fa-lightbulb"></i>
                    <span>Los 5 principios de diseño OO que hacen el código más <strong>mantenible</strong>, <strong>extensible</strong> y <strong>testeable</strong>. Aplicables en Java, C#, Python y todos los lenguajes OOP.</span>
                </div>
                <div class="solid-principles-list">
                    <div class="solid-principle srp">
                        <div class="principle-letter">S</div>
                        <div class="principle-content">
                            <h4>Single Responsibility Principle (SRP)</h4>
                            <p>Una clase debe tener <strong>una sola razón para cambiar</strong>. Separar responsabilidades en clases especializadas.</p>
                            <div class="principle-example">
                                <div class="example-bad">
                                    <span class="label"><i class="fas fa-times"></i> MAL</span>
                                    <code set:html={`class Empleado { guardarBD(); validar(); enviarEmail(); }`}></code>
                                </div>
                                <div class="example-good">
                                    <span class="label"><i class="fas fa-check"></i> BIEN</span>
                                    <code>class Empleado + EmpleadoValidator + EmpleadoRepository</code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="solid-principle ocp">
                        <div class="principle-letter">O</div>
                        <div class="principle-content">
                            <h4>Open/Closed Principle (OCP)</h4>
                            <p><strong>Abierto para extensión, cerrado para modificación</strong>. Usar herencia o interfaces para agregar comportamiento.</p>
                            <div class="principle-example">
                                <div class="example-bad">
                                    <span class="label"><i class="fas fa-times"></i> MAL</span>
                                    <code set:html={`if (tipo == "tarjeta") {...} else if (tipo == "paypal") {...}`}></code>
                                </div>
                                <div class="example-good">
                                    <span class="label"><i class="fas fa-check"></i> BIEN</span>
                                    <code set:html={`interface MetodoPago { procesar(); } → TarjetaPago, PayPalPago`}></code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="solid-principle lsp">
                        <div class="principle-letter">L</div>
                        <div class="principle-content">
                            <h4>Liskov Substitution Principle (LSP)</h4>
                            <p><strong>Subclases deben ser sustituibles por su clase base</strong> sin romper el programa. Diseño de herencia correcto.</p>
                            <div class="principle-example">
                                <div class="example-bad">
                                    <span class="label"><i class="fas fa-times"></i> MAL</span>
                                    <code>class Cuadrado extends Rectangulo // setWidth rompe setHeight</code>
                                </div>
                                <div class="example-good">
                                    <span class="label"><i class="fas fa-check"></i> BIEN</span>
                                    <code set:html={`interface Forma { getArea(); } → Cuadrado, Rectangulo`}></code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="solid-principle isp">
                        <div class="principle-letter">I</div>
                        <div class="principle-content">
                            <h4>Interface Segregation Principle (ISP)</h4>
                            <p><strong>Interfaces pequeñas y específicas</strong> mejor que una interfaz grande. No obligar a implementar métodos no usados.</p>
                            <div class="principle-example">
                                <div class="example-bad">
                                    <span class="label"><i class="fas fa-times"></i> MAL</span>
                                    <code set:html={`interface Trabajador { trabajar(); comer(); dormir(); }`}></code>
                                </div>
                                <div class="example-good">
                                    <span class="label"><i class="fas fa-check"></i> BIEN</span>
                                    <code>interface Trabajable + Alimentable + Descansable</code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="solid-principle dip">
                        <div class="principle-letter">D</div>
                        <div class="principle-content">
                            <h4>Dependency Inversion Principle (DIP)</h4>
                            <p><strong>Depender de abstracciones, no de concretos</strong>. Inyectar dependencias mediante interfaces.</p>
                            <div class="principle-example">
                                <div class="example-bad">
                                    <span class="label"><i class="fas fa-times"></i> MAL</span>
                                    <code set:html={`class Servicio { private MySQLRepo repo = new MySQLRepo(); }`}></code>
                                </div>
                                <div class="example-good">
                                    <span class="label"><i class="fas fa-check"></i> BIEN</span>
                                    <code set:html={`class Servicio { Servicio(IRepository repo) {...} }`}></code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="solid-benefits">
                    <h5><i class="fas fa-star"></i> Beneficios de aplicar SOLID:</h5>
                    <div class="benefit-tags">
                        <span class="benefit-tag"><i class="fas fa-wrench"></i> Código mantenible</span>
                        <span class="benefit-tag"><i class="fas fa-puzzle-piece"></i> Fácil de extender</span>
                        <span class="benefit-tag"><i class="fas fa-vial"></i> Testeable (unit tests)</span>
                        <span class="benefit-tag"><i class="fas fa-users"></i> Trabajo en equipo</span>
                    </div>
                </div>
                <div class="fundamentals-references">
                    <a href="https://blog.cleancoder.com/" target="_blank" class="ref-link"><i class="fas fa-user"></i> Uncle Bob Blog</a>
                    <a href="https://www.oreilly.com/library/view/clean-architecture-a/9780134494272/" target="_blank" class="ref-link"><i class="fas fa-book"></i> Clean Architecture</a>
                    <a href="https://refactoring.guru/refactoring/smells" target="_blank" class="ref-link"><i class="fas fa-nose"></i> Code Smells</a>
                </div>
            </div>
        </div>

        <!-- ==================== CLEAN CODE ==================== -->
        <div id="pipeline-cleancode" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-broom"></i>
                    <span>Clean Code Practices</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-user"></i> Uncle Bob (2008)</span>
                    <span class="stat-pill"><i class="fas fa-book"></i> Best Seller</span>
                    <span class="stat-pill"><i class="fas fa-code"></i> Readable Code</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <div class="cleancode-practices-grid">
                    <div class="cleancode-practice">
                        <div class="practice-header">
                            <div class="practice-icon"><i class="fas fa-tag"></i></div>
                            <h4>Meaningful Names</h4>
                        </div>
                        <p>Nombres que revelan intencion. Evitar abreviaciones.</p>
                        <div class="practice-examples">
                            <div class="practice-example bad"><i class="fas fa-times"></i> <code>int d;</code></div>
                            <div class="practice-example good"><i class="fas fa-check"></i> <code>int elapsedDays;</code></div>
                        </div>
                    </div>
                    <div class="cleancode-practice">
                        <div class="practice-header">
                            <div class="practice-icon"><i class="fas fa-code"></i></div>
                            <h4>Small Functions</h4>
                        </div>
                        <p>Funciones pequenas que hacen una sola cosa.</p>
                        <div class="practice-examples">
                            <div class="practice-example good"><i class="fas fa-check"></i> <code>Menos de 20 lineas</code></div>
                        </div>
                    </div>
                    <div class="cleancode-practice">
                        <div class="practice-header">
                            <div class="practice-icon"><i class="fas fa-comment-slash"></i></div>
                            <h4>Comments</h4>
                        </div>
                        <p>El codigo debe ser auto-documentado.</p>
                        <div class="practice-examples">
                            <div class="practice-example bad"><i class="fas fa-times"></i> <code>i++; // increment i</code></div>
                        </div>
                    </div>
                    <div class="cleancode-practice">
                        <div class="practice-header">
                            <div class="practice-icon"><i class="fas fa-align-left"></i></div>
                            <h4>Code Smells</h4>
                        </div>
                        <p>Long Method, Duplicate Code, God Class.</p>
                        <div class="practice-examples">
                            <div class="practice-example good"><i class="fas fa-check"></i> <code>Extract Method</code></div>
                        </div>
                    </div>
                </div>
                <div class="fundamentals-references">
                    <a href="https://www.oreilly.com/library/view/clean-code-a/9780136083238/" target="_blank" class="ref-link"><i class="fas fa-book"></i> Clean Code Book</a>
                </div>
            </div>
        </div>

        <!-- ==================== TESTING ==================== -->
        <div id="pipeline-testing" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-vial"></i>
                    <span>Testing Avanzado</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-user"></i> Mike Cohn</span>
                    <span class="stat-pill"><i class="fas fa-check-double"></i> 6 Técnicas</span>
                    <span class="stat-pill"><i class="fas fa-code"></i> Code Examples</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <!-- Intro Banner -->
                <div class="testing-intro-banner">
                    <div class="testing-intro-icon"><i class="fas fa-vial"></i></div>
                    <div class="testing-intro-text">
                        <p>El <strong>Testing de Software</strong> es fundamental para garantizar calidad. La <em>Testing Pyramid</em> de Mike Cohn establece la proporción óptima de tests. Técnicas avanzadas como TDD, BDD, Contract Testing y Mutation Testing mejoran la efectividad de las pruebas.</p>
                    </div>
                </div>

                <div class="testing-advanced-container">
                    <!-- Testing Pyramid Visual - Clickable -->
                    <div class="testing-pyramid-visual-v2">
                        <div class="pyramid-wrapper">
                            <button class="pyramid-level-btn e2e" data-test-type="e2e">
                                <span class="level-name">E2E Tests</span>
                                <span class="level-percent">~10%</span>
                                <span class="level-tools">Playwright, Cypress</span>
                            </button>
                            <button class="pyramid-level-btn integration" data-test-type="integration">
                                <span class="level-name">Integration Tests</span>
                                <span class="level-percent">~20%</span>
                                <span class="level-tools">Spring Boot Test</span>
                            </button>
                            <button class="pyramid-level-btn unit" data-test-type="unit">
                                <span class="level-name">Unit Tests</span>
                                <span class="level-percent">~70%</span>
                                <span class="level-tools">JUnit 5, Jest</span>
                            </button>
                        </div>
                        <div class="pyramid-legend">
                            <span><i class="fas fa-arrow-up"></i> Más lento, más costoso</span>
                            <span><i class="fas fa-arrow-down"></i> Más rápido, más económico</span>
                        </div>
                    </div>

                    <!-- Testing Methodologies Grid - Clickable -->
                    <div class="testing-methodologies-grid">
                        <button class="test-method-card selectable" data-test-type="tdd">
                            <div class="method-icon"><i class="fas fa-sync-alt"></i></div>
                            <h5>TDD</h5>
                            <p>Test Driven Development</p>
                            <div class="method-cycle">
                                <span class="cycle-dot red"></span>
                                <span class="cycle-dot green"></span>
                                <span class="cycle-dot blue"></span>
                            </div>
                        </button>
                        <button class="test-method-card selectable" data-test-type="bdd">
                            <div class="method-icon"><i class="fas fa-users"></i></div>
                            <h5>BDD</h5>
                            <p>Behavior Driven Development</p>
                            <div class="method-cycle">
                                <span class="cycle-keyword">Given</span>
                                <span class="cycle-keyword">When</span>
                                <span class="cycle-keyword">Then</span>
                            </div>
                        </button>
                        <button class="test-method-card selectable" data-test-type="contract">
                            <div class="method-icon"><i class="fas fa-handshake"></i></div>
                            <h5>Contract Testing</h5>
                            <p>Consumer-Driven Contracts</p>
                            <div class="method-tools">
                                <span>Pact</span>
                            </div>
                        </button>
                        <button class="test-method-card selectable" data-test-type="mutation">
                            <div class="method-icon"><i class="fas fa-dna"></i></div>
                            <h5>Mutation Testing</h5>
                            <p>Test Quality Assessment</p>
                            <div class="method-tools">
                                <span>PIT</span>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Hint to select -->
                <div id="testing-hint" class="testing-select-hint">
                    <i class="fas fa-hand-pointer"></i> Haz clic en un nivel de la pirámide o metodología para ver el código de ejemplo
                </div>

                <!-- Testing Detail Panels -->
                <div class="testing-details">
                    <!-- TDD Panel -->
                    <div id="test-panel-tdd" class="test-panel">
                        <div class="test-panel-header">
                            <h4><i class="fas fa-sync-alt"></i> TDD - Test Driven Development</h4>
                            <span class="test-badge tdd">Red → Green → Refactor</span>
                        </div>
                        <div class="test-panel-content">
                            <div class="tdd-cycle-visual">
                                <div class="tdd-step red">
                                    <div class="step-number">1</div>
                                    <div class="step-name">RED</div>
                                    <div class="step-desc">Escribir test que falla</div>
                                </div>
                                <div class="tdd-arrow">→</div>
                                <div class="tdd-step green">
                                    <div class="step-number">2</div>
                                    <div class="step-name">GREEN</div>
                                    <div class="step-desc">Código mínimo que pasa</div>
                                </div>
                                <div class="tdd-arrow">→</div>
                                <div class="tdd-step blue">
                                    <div class="step-number">3</div>
                                    <div class="step-name">REFACTOR</div>
                                    <div class="step-desc">Mejorar sin romper</div>
                                </div>
                            </div>
                            <div class="test-code-section">
                                <div class="code-header">
                                    <span class="code-lang"><i class="devicon-java-plain"></i> JUnit 5</span>
                                </div>
                                <pre class="code-block"><code set:html={tddCode}></code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- BDD Panel -->
                    <div id="test-panel-bdd" class="test-panel">
                        <div class="test-panel-header">
                            <h4><i class="fas fa-users"></i> BDD - Behavior Driven Development</h4>
                            <span class="test-badge bdd">Given → When → Then</span>
                        </div>
                        <div class="test-panel-content">
                            <div class="bdd-structure-visual">
                                <div class="bdd-keyword given">
                                    <span class="keyword-name">Given</span>
                                    <span class="keyword-desc">Contexto inicial</span>
                                </div>
                                <div class="bdd-keyword when">
                                    <span class="keyword-name">When</span>
                                    <span class="keyword-desc">Acción del usuario</span>
                                </div>
                                <div class="bdd-keyword then">
                                    <span class="keyword-name">Then</span>
                                    <span class="keyword-desc">Resultado esperado</span>
                                </div>
                            </div>
                            <div class="test-code-section">
                                <div class="code-header">
                                    <span class="code-lang"><i class="fas fa-cucumber"></i> Cucumber + Gherkin</span>
                                </div>
                                <pre class="code-block"><code set:html={bddCode}></code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Contract Testing Panel -->
                    <div id="test-panel-contract" class="test-panel">
                        <div class="test-panel-header">
                            <h4><i class="fas fa-handshake"></i> Contract Testing</h4>
                            <span class="test-badge contract">Consumer-Driven</span>
                        </div>
                        <div class="test-panel-content">
                            <div class="contract-flow-visual">
                                <div class="contract-party consumer">
                                    <i class="fas fa-mobile-alt"></i>
                                    <span>Consumer</span>
                                    <small>Frontend/Mobile</small>
                                </div>
                                <div class="contract-arrow">
                                    <div class="contract-doc">
                                        <i class="fas fa-file-contract"></i>
                                        <span>Contract</span>
                                    </div>
                                </div>
                                <div class="contract-party provider">
                                    <i class="fas fa-server"></i>
                                    <span>Provider</span>
                                    <small>Backend API</small>
                                </div>
                            </div>
                            <div class="test-code-section">
                                <div class="code-header">
                                    <span class="code-lang"><i class="devicon-javascript-plain"></i> Pact.js</span>
                                </div>
                                <pre class="code-block"><code set:html={contractTestCode}></code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Mutation Testing Panel -->
                    <div id="test-panel-mutation" class="test-panel">
                        <div class="test-panel-header">
                            <h4><i class="fas fa-dna"></i> Mutation Testing</h4>
                            <span class="test-badge mutation">Test Quality</span>
                        </div>
                        <div class="test-panel-content">
                            <div class="mutation-concept-visual">
                                <div class="mutation-step original">
                                    <span class="step-label">Código Original</span>
                                    <code>if (x > 10)</code>
                                </div>
                                <div class="mutation-arrow">
                                    <i class="fas fa-dna"></i>
                                    <span>Mutación</span>
                                </div>
                                <div class="mutation-step mutant">
                                    <span class="step-label">Mutante</span>
                                    <code>if (x >= 10)</code>
                                </div>
                                <div class="mutation-result">
                                    <span class="killed"><i class="fas fa-check"></i> Test detecta = Mutante Killed</span>
                                    <span class="survived"><i class="fas fa-times"></i> Test no detecta = Mutante Survived</span>
                                </div>
                            </div>
                            <div class="test-code-section">
                                <div class="code-header">
                                    <span class="code-lang"><i class="devicon-java-plain"></i> PIT (Java)</span>
                                </div>
                                <pre class="code-block"><code set:html={mutationTestCode}></code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Integration Testing Panel -->
                    <div id="test-panel-integration" class="test-panel">
                        <div class="test-panel-header">
                            <h4><i class="fas fa-puzzle-piece"></i> Integration Testing</h4>
                            <span class="test-badge integration">~20% Pyramid</span>
                        </div>
                        <div class="test-panel-content">
                            <div class="integration-layers-visual">
                                <div class="int-layer controller">Controller</div>
                                <div class="int-arrow">↓</div>
                                <div class="int-layer service">Service</div>
                                <div class="int-arrow">↓</div>
                                <div class="int-layer repository">Repository</div>
                                <div class="int-arrow">↓</div>
                                <div class="int-layer database">Database (H2/TestContainers)</div>
                            </div>
                            <div class="test-code-section">
                                <div class="code-header">
                                    <span class="code-lang"><i class="devicon-spring-plain"></i> Spring Boot Test</span>
                                </div>
                                <pre class="code-block"><code set:html={integrationTestCode}></code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- E2E Testing Panel -->
                    <div id="test-panel-e2e" class="test-panel">
                        <div class="test-panel-header">
                            <h4><i class="fas fa-globe"></i> E2E Testing</h4>
                            <span class="test-badge e2e">~10% Pyramid</span>
                        </div>
                        <div class="test-panel-content">
                            <div class="e2e-flow-visual">
                                <div class="e2e-step">
                                    <i class="fas fa-user"></i>
                                    <span>Usuario</span>
                                </div>
                                <div class="e2e-arrow">→</div>
                                <div class="e2e-step">
                                    <i class="fas fa-browser"></i>
                                    <span>Browser</span>
                                </div>
                                <div class="e2e-arrow">→</div>
                                <div class="e2e-step">
                                    <i class="fas fa-server"></i>
                                    <span>Backend</span>
                                </div>
                                <div class="e2e-arrow">→</div>
                                <div class="e2e-step">
                                    <i class="fas fa-database"></i>
                                    <span>Database</span>
                                </div>
                            </div>
                            <div class="test-code-section">
                                <div class="code-header">
                                    <span class="code-lang"><i class="fas fa-theater-masks"></i> Playwright</span>
                                </div>
                                <pre class="code-block"><code set:html={e2eTestCode}></code></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Unit Testing Panel -->
                    <div id="test-panel-unit" class="test-panel">
                        <div class="test-panel-header">
                            <h4><i class="fas fa-cube"></i> Unit Testing</h4>
                            <span class="test-badge unit">~70% Pyramid</span>
                        </div>
                        <div class="test-panel-content">
                            <div class="unit-concept-visual">
                                <div class="unit-principle">
                                    <div class="principle-icon"><i class="fas fa-bullseye"></i></div>
                                    <div class="principle-text">
                                        <strong>Una unidad = Una función/método</strong>
                                        <p>Aislar dependencias con Mocks</p>
                                    </div>
                                </div>
                                <div class="unit-characteristics">
                                    <span class="char-item"><i class="fas fa-bolt"></i> Rápidos</span>
                                    <span class="char-item"><i class="fas fa-cube"></i> Aislados</span>
                                    <span class="char-item"><i class="fas fa-redo"></i> Repetibles</span>
                                    <span class="char-item"><i class="fas fa-check"></i> Auto-verificables</span>
                                </div>
                            </div>
                            <div class="test-code-section">
                                <div class="code-header">
                                    <span class="code-lang"><i class="devicon-java-plain"></i> JUnit 5</span>
                                </div>
                                <pre class="code-block"><code set:html={tddCode}></code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="fundamentals-references">
                    <a href="https://martinfowler.com/bliki/TestPyramid.html" target="_blank" class="ref-link"><i class="fas fa-layer-group"></i> Test Pyramid</a>
                    <a href="https://cucumber.io/docs/bdd/" target="_blank" class="ref-link"><i class="fas fa-cucumber"></i> Cucumber BDD</a>
                    <a href="https://pact.io/" target="_blank" class="ref-link"><i class="fas fa-handshake"></i> Pact Contract Testing</a>
                    <a href="https://pitest.org/" target="_blank" class="ref-link"><i class="fas fa-dna"></i> PIT Mutation</a>
                </div>
            </div>
        </div>

        <!-- ==================== DESIGN PATTERNS ==================== -->
        <div id="pipeline-designpatterns" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-shapes"></i>
                    <span>Design Patterns (GoF)</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-users"></i> Gang of Four</span>
                    <span class="stat-pill"><i class="fas fa-book"></i> 1994</span>
                    <span class="stat-pill"><i class="fas fa-puzzle-piece"></i> 23 Patterns</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <!-- Intro Banner -->
                <div class="gof-intro-banner">
                    <div class="gof-intro-icon"><i class="fas fa-shapes"></i></div>
                    <div class="gof-intro-text">
                        <p>Los <strong>Design Patterns</strong> son soluciones reutilizables a problemas comunes en el diseño de software. El libro <em>"Design Patterns: Elements of Reusable Object-Oriented Software"</em> (1994) documentó 23 patrones clasificados en tres categorías.</p>
                    </div>
                </div>

                <!-- Categories Grid -->
                <div class="patterns-categories-grid">
                    <div class="pattern-category creational">
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-plus-circle"></i></div>
                            <div class="category-info"><h4>Creational</h4><span>Creación de objetos</span></div>
                        </div>
                        <div class="pattern-list">
                            <button class="pattern-item hot selectable" data-pattern="singleton"><i class="fas fa-fingerprint"></i> Singleton</button>
                            <button class="pattern-item hot selectable" data-pattern="factory"><i class="fas fa-industry"></i> Factory Method</button>
                            <button class="pattern-item hot selectable" data-pattern="builder"><i class="fas fa-hammer"></i> Builder</button>
                            <button class="pattern-item"><i class="fas fa-cube"></i> Abstract Factory</button>
                            <button class="pattern-item"><i class="fas fa-clone"></i> Prototype</button>
                        </div>
                    </div>
                    <div class="pattern-category structural">
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-cubes"></i></div>
                            <div class="category-info"><h4>Structural</h4><span>Composición de clases</span></div>
                        </div>
                        <div class="pattern-list">
                            <button class="pattern-item hot selectable" data-pattern="adapter"><i class="fas fa-plug"></i> Adapter</button>
                            <button class="pattern-item hot selectable" data-pattern="decorator"><i class="fas fa-paint-brush"></i> Decorator</button>
                            <button class="pattern-item"><i class="fas fa-door-open"></i> Facade</button>
                            <button class="pattern-item"><i class="fas fa-bridge"></i> Bridge</button>
                            <button class="pattern-item"><i class="fas fa-folder-tree"></i> Composite</button>
                        </div>
                    </div>
                    <div class="pattern-category behavioral">
                        <div class="category-header">
                            <div class="category-icon"><i class="fas fa-exchange-alt"></i></div>
                            <div class="category-info"><h4>Behavioral</h4><span>Comunicación entre objetos</span></div>
                        </div>
                        <div class="pattern-list">
                            <button class="pattern-item hot selectable" data-pattern="observer"><i class="fas fa-eye"></i> Observer</button>
                            <button class="pattern-item hot selectable" data-pattern="strategy"><i class="fas fa-route"></i> Strategy</button>
                            <button class="pattern-item"><i class="fas fa-terminal"></i> Command</button>
                            <button class="pattern-item"><i class="fas fa-list"></i> Iterator</button>
                            <button class="pattern-item"><i class="fas fa-file-alt"></i> Template Method</button>
                        </div>
                    </div>
                </div>

                <!-- Pattern Detail Panels -->
                <div class="gof-pattern-details">
                    <div class="gof-select-hint" id="gof-hint">
                        <i class="fas fa-hand-pointer"></i>
                        <span>Selecciona un patrón con <span class="hot-badge">HOT</span> para ver el código de ejemplo</span>
                    </div>

                    <!-- Singleton Panel -->
                    <div class="gof-pattern-panel" id="gof-panel-singleton">
                        <div class="pattern-panel-header">
                            <div class="pattern-title">
                                <i class="fas fa-fingerprint"></i>
                                <h4>Singleton Pattern</h4>
                                <span class="pattern-category-badge creational">Creational</span>
                            </div>
                            <div class="pattern-intent">
                                <strong>Intención:</strong> Garantizar que una clase tenga una única instancia y proporcionar un punto de acceso global a ella.
                            </div>
                        </div>
                        <div class="pattern-diagram">
                            <div class="uml-simple">
                                <div class="uml-class singleton-class">
                                    <div class="uml-class-name">DatabaseConnection</div>
                                    <div class="uml-class-attrs">
                                        <span>- instance: DatabaseConnection</span>
                                        <span>- connection: Connection</span>
                                    </div>
                                    <div class="uml-class-methods">
                                        <span>- DatabaseConnection()</span>
                                        <span>+ getInstance(): DatabaseConnection</span>
                                        <span>+ executeQuery(sql): void</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pattern-code-section">
                            <div class="code-header">
                                <span class="code-lang"><i class="devicon-java-plain"></i> Java</span>
                                <span class="code-file">DatabaseConnection.java</span>
                            </div>
                            <pre class="code-block"><code set:html={singletonCode}></code></pre>
                        </div>
                        <div class="pattern-use-cases">
                            <h5><i class="fas fa-check-circle"></i> Casos de Uso</h5>
                            <div class="use-case-tags">
                                <span>Conexiones BD</span>
                                <span>Logger</span>
                                <span>Cache</span>
                                <span>Config Manager</span>
                                <span>Thread Pool</span>
                            </div>
                        </div>
                    </div>

                    <!-- Factory Method Panel -->
                    <div class="gof-pattern-panel" id="gof-panel-factory">
                        <div class="pattern-panel-header">
                            <div class="pattern-title">
                                <i class="fas fa-industry"></i>
                                <h4>Factory Method Pattern</h4>
                                <span class="pattern-category-badge creational">Creational</span>
                            </div>
                            <div class="pattern-intent">
                                <strong>Intención:</strong> Definir una interfaz para crear objetos, pero permitir que las subclases decidan qué clase instanciar.
                            </div>
                        </div>
                        <div class="pattern-diagram">
                            <div class="uml-simple factory-diagram">
                                <div class="uml-row">
                                    <div class="uml-class interface">
                                        <div class="uml-class-name">«interface» Notification</div>
                                        <div class="uml-class-methods">
                                            <span>+ send(message): void</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="uml-arrow-down"></div>
                                <div class="uml-row implementations">
                                    <div class="uml-class impl">
                                        <div class="uml-class-name">EmailNotification</div>
                                    </div>
                                    <div class="uml-class impl">
                                        <div class="uml-class-name">SMSNotification</div>
                                    </div>
                                    <div class="uml-class impl">
                                        <div class="uml-class-name">PushNotification</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pattern-code-section">
                            <div class="code-header">
                                <span class="code-lang"><i class="devicon-java-plain"></i> Java</span>
                                <span class="code-file">NotificationFactory.java</span>
                            </div>
                            <pre class="code-block"><code set:html={factoryCode}></code></pre>
                        </div>
                        <div class="pattern-use-cases">
                            <h5><i class="fas fa-check-circle"></i> Casos de Uso</h5>
                            <div class="use-case-tags">
                                <span>Notificaciones</span>
                                <span>Documentos</span>
                                <span>Conexiones BD</span>
                                <span>UI Components</span>
                                <span>Parsers</span>
                            </div>
                        </div>
                    </div>

                    <!-- Builder Panel -->
                    <div class="gof-pattern-panel" id="gof-panel-builder">
                        <div class="pattern-panel-header">
                            <div class="pattern-title">
                                <i class="fas fa-hammer"></i>
                                <h4>Builder Pattern</h4>
                                <span class="pattern-category-badge creational">Creational</span>
                            </div>
                            <div class="pattern-intent">
                                <strong>Intención:</strong> Separar la construcción de un objeto complejo de su representación, permitiendo crear diferentes representaciones.
                            </div>
                        </div>
                        <div class="pattern-diagram">
                            <div class="uml-simple builder-diagram">
                                <div class="uml-class">
                                    <div class="uml-class-name">User</div>
                                    <div class="uml-class-attrs">
                                        <span>- firstName: String (req)</span>
                                        <span>- lastName: String (req)</span>
                                        <span>- email: String (opt)</span>
                                        <span>- age: int (opt)</span>
                                    </div>
                                </div>
                                <div class="uml-arrow-right"></div>
                                <div class="uml-class builder-class">
                                    <div class="uml-class-name">UserBuilder</div>
                                    <div class="uml-class-methods">
                                        <span>+ email(e): UserBuilder</span>
                                        <span>+ age(a): UserBuilder</span>
                                        <span>+ build(): User</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pattern-code-section">
                            <div class="code-header">
                                <span class="code-lang"><i class="devicon-java-plain"></i> Java</span>
                                <span class="code-file">User.java</span>
                            </div>
                            <pre class="code-block"><code set:html={builderCode}></code></pre>
                        </div>
                        <div class="pattern-use-cases">
                            <h5><i class="fas fa-check-circle"></i> Casos de Uso</h5>
                            <div class="use-case-tags">
                                <span>DTOs complejos</span>
                                <span>Queries SQL</span>
                                <span>HTTP Requests</span>
                                <span>Configuraciones</span>
                                <span>Documentos</span>
                            </div>
                        </div>
                    </div>

                    <!-- Adapter Panel -->
                    <div class="gof-pattern-panel" id="gof-panel-adapter">
                        <div class="pattern-panel-header">
                            <div class="pattern-title">
                                <i class="fas fa-plug"></i>
                                <h4>Adapter Pattern</h4>
                                <span class="pattern-category-badge structural">Structural</span>
                            </div>
                            <div class="pattern-intent">
                                <strong>Intención:</strong> Convertir la interfaz de una clase en otra interfaz que el cliente espera. Permite que clases incompatibles trabajen juntas.
                            </div>
                        </div>
                        <div class="pattern-diagram">
                            <div class="uml-simple adapter-diagram">
                                <div class="uml-class client">
                                    <div class="uml-class-name">Client</div>
                                </div>
                                <div class="uml-arrow-uses"></div>
                                <div class="uml-class interface">
                                    <div class="uml-class-name">«interface» PaymentProcessor</div>
                                    <div class="uml-class-methods">
                                        <span>+ processPayment()</span>
                                        <span>+ refund()</span>
                                    </div>
                                </div>
                                <div class="uml-arrow-down"></div>
                                <div class="uml-class adapter">
                                    <div class="uml-class-name">StripePaymentAdapter</div>
                                </div>
                                <div class="uml-arrow-uses"></div>
                                <div class="uml-class external">
                                    <div class="uml-class-name">StripeAPI</div>
                                    <div class="uml-class-methods">
                                        <span>+ charge()</span>
                                        <span>+ cancelCharge()</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pattern-code-section">
                            <div class="code-header">
                                <span class="code-lang"><i class="devicon-java-plain"></i> Java</span>
                                <span class="code-file">StripePaymentAdapter.java</span>
                            </div>
                            <pre class="code-block"><code set:html={adapterCode}></code></pre>
                        </div>
                        <div class="pattern-use-cases">
                            <h5><i class="fas fa-check-circle"></i> Casos de Uso</h5>
                            <div class="use-case-tags">
                                <span>APIs externas</span>
                                <span>Legacy systems</span>
                                <span>Payment gateways</span>
                                <span>Librerías 3rd party</span>
                                <span>Data formats</span>
                            </div>
                        </div>
                    </div>

                    <!-- Decorator Panel -->
                    <div class="gof-pattern-panel" id="gof-panel-decorator">
                        <div class="pattern-panel-header">
                            <div class="pattern-title">
                                <i class="fas fa-paint-brush"></i>
                                <h4>Decorator Pattern</h4>
                                <span class="pattern-category-badge structural">Structural</span>
                            </div>
                            <div class="pattern-intent">
                                <strong>Intención:</strong> Añadir responsabilidades adicionales a un objeto dinámicamente. Alternativa flexible a la herencia.
                            </div>
                        </div>
                        <div class="pattern-diagram">
                            <div class="uml-simple decorator-diagram">
                                <div class="decorator-visual">
                                    <div class="decorator-layer outer">VanillaDecorator</div>
                                    <div class="decorator-layer middle">MilkDecorator</div>
                                    <div class="decorator-layer inner">SimpleCoffee</div>
                                </div>
                                <div class="decorator-result">
                                    <span>= "Café simple, con leche, con vainilla"</span>
                                    <span class="price">$2.20</span>
                                </div>
                            </div>
                        </div>
                        <div class="pattern-code-section">
                            <div class="code-header">
                                <span class="code-lang"><i class="devicon-java-plain"></i> Java</span>
                                <span class="code-file">CoffeeDecorator.java</span>
                            </div>
                            <pre class="code-block"><code set:html={decoratorCode}></code></pre>
                        </div>
                        <div class="pattern-use-cases">
                            <h5><i class="fas fa-check-circle"></i> Casos de Uso</h5>
                            <div class="use-case-tags">
                                <span>I/O Streams</span>
                                <span>UI Components</span>
                                <span>Logging</span>
                                <span>Compression</span>
                                <span>Encryption</span>
                            </div>
                        </div>
                    </div>

                    <!-- Observer Panel -->
                    <div class="gof-pattern-panel" id="gof-panel-observer">
                        <div class="pattern-panel-header">
                            <div class="pattern-title">
                                <i class="fas fa-eye"></i>
                                <h4>Observer Pattern</h4>
                                <span class="pattern-category-badge behavioral">Behavioral</span>
                            </div>
                            <div class="pattern-intent">
                                <strong>Intención:</strong> Definir una dependencia uno-a-muchos entre objetos, de modo que cuando uno cambie de estado, todos sus dependientes sean notificados.
                            </div>
                        </div>
                        <div class="pattern-diagram">
                            <div class="uml-simple observer-diagram">
                                <div class="observer-subject">
                                    <div class="subject-box">
                                        <div class="subject-name">Stock (Subject)</div>
                                        <div class="subject-state">price: $155.00</div>
                                    </div>
                                    <div class="notify-arrows">
                                        <div class="notify-arrow"></div>
                                        <div class="notify-arrow"></div>
                                        <div class="notify-arrow"></div>
                                    </div>
                                </div>
                                <div class="observer-list">
                                    <div class="observer-box">
                                        <i class="fas fa-bell"></i>
                                        <span>Inversor1</span>
                                    </div>
                                    <div class="observer-box">
                                        <i class="fas fa-bell"></i>
                                        <span>Inversor2</span>
                                    </div>
                                    <div class="observer-box">
                                        <i class="fas fa-bell"></i>
                                        <span>Dashboard</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pattern-code-section">
                            <div class="code-header">
                                <span class="code-lang"><i class="devicon-java-plain"></i> Java</span>
                                <span class="code-file">StockObserver.java</span>
                            </div>
                            <pre class="code-block"><code set:html={observerCode}></code></pre>
                        </div>
                        <div class="pattern-use-cases">
                            <h5><i class="fas fa-check-circle"></i> Casos de Uso</h5>
                            <div class="use-case-tags">
                                <span>Event systems</span>
                                <span>MVC/MVVM</span>
                                <span>Real-time updates</span>
                                <span>Pub/Sub</span>
                                <span>Reactive programming</span>
                            </div>
                        </div>
                    </div>

                    <!-- Strategy Panel -->
                    <div class="gof-pattern-panel" id="gof-panel-strategy">
                        <div class="pattern-panel-header">
                            <div class="pattern-title">
                                <i class="fas fa-route"></i>
                                <h4>Strategy Pattern</h4>
                                <span class="pattern-category-badge behavioral">Behavioral</span>
                            </div>
                            <div class="pattern-intent">
                                <strong>Intención:</strong> Definir una familia de algoritmos, encapsular cada uno, y hacerlos intercambiables. Permite variar el algoritmo independientemente de los clientes.
                            </div>
                        </div>
                        <div class="pattern-diagram">
                            <div class="uml-simple strategy-diagram">
                                <div class="strategy-context">
                                    <div class="context-box">
                                        <div class="context-name">ShoppingCart</div>
                                        <div class="context-method">checkout()</div>
                                    </div>
                                </div>
                                <div class="strategy-arrow"></div>
                                <div class="strategy-interface">
                                    <div class="interface-box">
                                        <div class="interface-name">«interface» PaymentStrategy</div>
                                        <div class="interface-methods">
                                            <span>pay(amount)</span>
                                            <span>validate()</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="strategy-implementations">
                                    <div class="impl-box credit"><i class="fas fa-credit-card"></i> CreditCard</div>
                                    <div class="impl-box paypal"><i class="fab fa-paypal"></i> PayPal</div>
                                    <div class="impl-box crypto"><i class="fab fa-bitcoin"></i> Crypto</div>
                                </div>
                            </div>
                        </div>
                        <div class="pattern-code-section">
                            <div class="code-header">
                                <span class="code-lang"><i class="devicon-java-plain"></i> Java</span>
                                <span class="code-file">PaymentStrategy.java</span>
                            </div>
                            <pre class="code-block"><code set:html={strategyCode}></code></pre>
                        </div>
                        <div class="pattern-use-cases">
                            <h5><i class="fas fa-check-circle"></i> Casos de Uso</h5>
                            <div class="use-case-tags">
                                <span>Payment processing</span>
                                <span>Sorting algorithms</span>
                                <span>Validation rules</span>
                                <span>Compression</span>
                                <span>Route planning</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="fundamentals-references">
                    <a href="https://refactoring.guru/design-patterns" target="_blank" class="ref-link"><i class="fas fa-shapes"></i> Refactoring Guru</a>
                    <a href="https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612" target="_blank" class="ref-link"><i class="fas fa-book"></i> GoF Book</a>
                    <a href="https://sourcemaking.com/design_patterns" target="_blank" class="ref-link"><i class="fas fa-code"></i> SourceMaking</a>
                </div>
            </div>
        </div>

        <!-- ==================== DSA ==================== -->
        <div id="pipeline-dsa" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-project-diagram"></i>
                    <span>Data Structures and Algorithms</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-user"></i> Knuth, Cormen</span>
                    <span class="stat-pill"><i class="fas fa-briefcase"></i> Tech Interviews</span>
                    <span class="stat-pill"><i class="fas fa-chart-line"></i> Big O</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <div class="dsa-container">
                    <div class="dsa-categories">
                        <div class="dsa-category">
                            <h4><i class="fas fa-database"></i> Data Structures</h4>
                            <div class="dsa-items-grid">
                                <span class="dsa-item">Arrays</span>
                                <span class="dsa-item">Hash Tables</span>
                                <span class="dsa-item">Trees</span>
                                <span class="dsa-item">Graphs</span>
                                <span class="dsa-item">Heaps</span>
                                <span class="dsa-item">Queues</span>
                            </div>
                        </div>
                        <div class="dsa-category">
                            <h4><i class="fas fa-cogs"></i> Algorithms</h4>
                            <div class="dsa-items-grid">
                                <span class="dsa-item algo">Sorting</span>
                                <span class="dsa-item algo">Binary Search</span>
                                <span class="dsa-item algo">Dynamic Prog</span>
                                <span class="dsa-item algo">Recursion</span>
                                <span class="dsa-item algo">BFS/DFS</span>
                                <span class="dsa-item algo">Dijkstra</span>
                            </div>
                        </div>
                    </div>
                    <div class="big-o-container">
                        <h4><i class="fas fa-chart-line"></i> Big O Complexity</h4>
                        <div class="complexity-scale">
                            <div class="complexity-row excellent"><span class="complexity-notation">O(1)</span><div class="complexity-bar" data-label="Excellent"></div></div>
                            <div class="complexity-row good"><span class="complexity-notation">O(log n)</span><div class="complexity-bar" data-label="Good"></div></div>
                            <div class="complexity-row fair"><span class="complexity-notation">O(n)</span><div class="complexity-bar" data-label="Fair"></div></div>
                            <div class="complexity-row bad"><span class="complexity-notation">O(n log n)</span><div class="complexity-bar" data-label="Bad"></div></div>
                            <div class="complexity-row horrible"><span class="complexity-notation">O(n2)</span><div class="complexity-bar" data-label="Horrible"></div></div>
                        </div>
                    </div>
                </div>
                <div class="fundamentals-references">
                    <a href="https://leetcode.com/" target="_blank" class="ref-link"><i class="fas fa-code"></i> LeetCode</a>
                    <a href="https://neetcode.io/" target="_blank" class="ref-link"><i class="fas fa-road"></i> NeetCode</a>
                </div>
            </div>
        </div>

        <!-- ==================== SECURITY ==================== -->
        <div id="pipeline-security" class="pipeline-diagram-premium pipeline-mode">
            <div class="pipeline-mode-header fundamentals">
                <div class="mode-indicator">
                    <i class="fas fa-shield-virus"></i>
                    <span>Software Security (OWASP)</span>
                </div>
                <div class="mode-stats">
                    <span class="stat-pill"><i class="fas fa-exclamation-triangle"></i> OWASP Top 10</span>
                    <span class="stat-pill"><i class="fas fa-book"></i> SWEBOK v4</span>
                    <span class="stat-pill"><i class="fas fa-lock"></i> Secure Coding</span>
                </div>
            </div>
            <div class="fundamentals-content">
                <div class="security-container">
                    <div class="owasp-section">
                        <h4><i class="fas fa-exclamation-triangle"></i> OWASP Top 10 (2021)</h4>
                        <div class="owasp-top10">
                            <div class="owasp-item"><span class="owasp-rank">A01</span><span class="owasp-name">Broken Access Control</span></div>
                            <div class="owasp-item"><span class="owasp-rank">A02</span><span class="owasp-name">Cryptographic Failures</span></div>
                            <div class="owasp-item"><span class="owasp-rank">A03</span><span class="owasp-name">Injection</span></div>
                            <div class="owasp-item"><span class="owasp-rank">A04</span><span class="owasp-name">Insecure Design</span></div>
                            <div class="owasp-item"><span class="owasp-rank">A05</span><span class="owasp-name">Security Misconfiguration</span></div>
                        </div>
                    </div>
                    <div class="security-practices-section">
                        <h4><i class="fas fa-shield-alt"></i> Secure Coding Practices</h4>
                        <div class="security-practices">
                            <div class="security-practice"><i class="fas fa-check"></i><span>Input Validation</span></div>
                            <div class="security-practice"><i class="fas fa-check"></i><span>Output Encoding</span></div>
                            <div class="security-practice"><i class="fas fa-check"></i><span>Authentication and Password Management</span></div>
                            <div class="security-practice"><i class="fas fa-check"></i><span>Session Management</span></div>
                            <div class="security-practice"><i class="fas fa-check"></i><span>Error Handling and Logging</span></div>
                        </div>
                    </div>
                </div>
                <div class="fundamentals-references">
                    <a href="https://owasp.org/www-project-top-ten/" target="_blank" class="ref-link"><i class="fas fa-shield-alt"></i> OWASP Top 10</a>
                    <a href="https://cheatsheetseries.owasp.org/" target="_blank" class="ref-link"><i class="fas fa-file-alt"></i> OWASP Cheat Sheets</a>
                </div>
            </div>
        </div>

    </div>
</section>

<script is:inline>
    // Pipeline Mode Switcher
    function switchPipelineMode(mode) {
        // Update buttons - remove active from all, add to clicked
        var buttons = document.querySelectorAll('.mode-btn');
        buttons.forEach(function(btn) {
            btn.classList.remove('active');
            if (btn.dataset.mode === mode) {
                btn.classList.add('active');
            }
        });

        // Update pipeline views - hide all, show selected
        var pipelines = document.querySelectorAll('.pipeline-mode');
        pipelines.forEach(function(pipeline) {
            pipeline.classList.remove('active');
        });

        var targetPipeline = document.getElementById('pipeline-' + mode);
        if (targetPipeline) {
            targetPipeline.classList.add('active');
        }
    }

    // Initialize pipeline buttons
    function initPipelineButtons() {
        var btnRealtime = document.getElementById('btn-realtime');
        var btnBatch = document.getElementById('btn-batch');
        var btnArchitecture = document.getElementById('btn-architecture');
        var btnGovernance = document.getElementById('btn-governance');
        var btnVisualization = document.getElementById('btn-visualization');
        var btnIngestion = document.getElementById('btn-ingestion');
        var btnOrchestration = document.getElementById('btn-orchestration');
        var btnPatterns = document.getElementById('btn-patterns');
        var btnProcessing = document.getElementById('btn-processing');
        var btnStorage = document.getElementById('btn-storage');

        if (btnRealtime) {
            btnRealtime.onclick = function() { switchPipelineMode('realtime'); };
        }
        if (btnBatch) {
            btnBatch.onclick = function() { switchPipelineMode('batch'); };
        }
        if (btnArchitecture) {
            btnArchitecture.onclick = function() { switchPipelineMode('architecture'); };
        }
        if (btnGovernance) {
            btnGovernance.onclick = function() { switchPipelineMode('governance'); };
        }
        if (btnVisualization) {
            btnVisualization.onclick = function() { switchPipelineMode('visualization'); };
        }
        if (btnIngestion) {
            btnIngestion.onclick = function() { switchPipelineMode('ingestion'); };
        }
        if (btnOrchestration) {
            btnOrchestration.onclick = function() { switchPipelineMode('orchestration'); };
        }
        if (btnPatterns) {
            btnPatterns.onclick = function() { switchPipelineMode('patterns'); };
        }
        if (btnProcessing) {
            btnProcessing.onclick = function() { switchPipelineMode('processing'); };
        }
        if (btnStorage) {
            btnStorage.onclick = function() { switchPipelineMode('storage'); };
        }

        // Software Fundamentals buttons
        var btnOop = document.getElementById('btn-oop');
        var btnFunctional = document.getElementById('btn-functional');
        var btnSolid = document.getElementById('btn-solid');
        var btnCleancode = document.getElementById('btn-cleancode');
        var btnTesting = document.getElementById('btn-testing');
        var btnDesignpatterns = document.getElementById('btn-designpatterns');
        var btnDsa = document.getElementById('btn-dsa');
        var btnSecurity = document.getElementById('btn-security');

        if (btnOop) { btnOop.onclick = function() { switchPipelineMode('oop'); }; }
        if (btnFunctional) { btnFunctional.onclick = function() { switchPipelineMode('functional'); }; }
        if (btnSolid) { btnSolid.onclick = function() { switchPipelineMode('solid'); }; }
        if (btnCleancode) { btnCleancode.onclick = function() { switchPipelineMode('cleancode'); }; }
        if (btnTesting) { btnTesting.onclick = function() { switchPipelineMode('testing'); }; }
        if (btnDesignpatterns) { btnDesignpatterns.onclick = function() { switchPipelineMode('designpatterns'); }; }
        if (btnDsa) { btnDsa.onclick = function() { switchPipelineMode('dsa'); }; }
        if (btnSecurity) { btnSecurity.onclick = function() { switchPipelineMode('security'); }; }
    }

    // Add event listeners for both initial load and Astro View Transitions
    document.addEventListener('DOMContentLoaded', initPipelineButtons);
    document.addEventListener('astro:page-load', initPipelineButtons);

    // ===== Dashboard Tab Switcher =====
    function switchDashboardTab(tabName) {
        // Update tabs - remove active from all, add to clicked
        var tabs = document.querySelectorAll('.dash-tab');
        tabs.forEach(function(tab) {
            tab.classList.remove('active');
            if (tab.dataset.tab === tabName) {
                tab.classList.add('active');
            }
        });

        // Update panels - hide all, show selected
        var panels = document.querySelectorAll('.dashboard-panel');
        panels.forEach(function(panel) {
            panel.classList.remove('active');
        });

        var targetPanel = document.querySelector('.dashboard-panel[data-panel="' + tabName + '"]');
        if (targetPanel) {
            targetPanel.classList.add('active');
        }
    }

    // Initialize dashboard tabs
    function initDashboardTabs() {
        var dashTabs = document.querySelectorAll('.dash-tab[data-tab]');
        dashTabs.forEach(function(tab) {
            tab.onclick = function() {
                var tabName = this.dataset.tab;
                if (tabName) {
                    switchDashboardTab(tabName);
                }
            };
        });
    }

    // Add event listeners for dashboard tabs
    document.addEventListener('DOMContentLoaded', initDashboardTabs);
    document.addEventListener('astro:page-load', initDashboardTabs);

    // ===== GoF Design Patterns Selector =====
    function initGofPatterns() {
        var patternButtons = document.querySelectorAll('.pattern-item.selectable');
        var patternPanels = document.querySelectorAll('.gof-pattern-panel');
        var gofHint = document.getElementById('gof-hint');

        patternButtons.forEach(function(btn) {
            btn.onclick = function() {
                var patternName = this.dataset.pattern;
                if (!patternName) return;

                // Update button states
                patternButtons.forEach(function(b) {
                    b.classList.remove('selected');
                });
                this.classList.add('selected');

                // Hide hint and all panels
                if (gofHint) {
                    gofHint.style.display = 'none';
                }
                patternPanels.forEach(function(panel) {
                    panel.classList.remove('active');
                });

                // Show selected panel
                var targetPanel = document.getElementById('gof-panel-' + patternName);
                if (targetPanel) {
                    targetPanel.classList.add('active');
                }
            };
        });
    }

    // Add event listeners for GoF patterns
    document.addEventListener('DOMContentLoaded', initGofPatterns);
    document.addEventListener('astro:page-load', initGofPatterns);

    // ===== Testing Avanzado Selector =====
    function initTestingPanels() {
        var pyramidButtons = document.querySelectorAll('.pyramid-level-btn');
        var methodCards = document.querySelectorAll('.test-method-card.selectable');
        var testPanels = document.querySelectorAll('.test-panel');
        var testingHint = document.getElementById('testing-hint');

        function showTestPanel(testType) {
            // Hide hint
            if (testingHint) {
                testingHint.style.display = 'none';
            }

            // Remove selected from all buttons
            pyramidButtons.forEach(function(btn) {
                btn.classList.remove('selected');
            });
            methodCards.forEach(function(card) {
                card.classList.remove('selected');
            });

            // Hide all panels
            testPanels.forEach(function(panel) {
                panel.classList.remove('active');
            });

            // Show target panel
            var targetPanel = document.getElementById('test-panel-' + testType);
            if (targetPanel) {
                targetPanel.classList.add('active');
            }
        }

        // Pyramid level buttons
        pyramidButtons.forEach(function(btn) {
            btn.onclick = function() {
                var testType = this.dataset.testType;
                if (!testType) return;
                this.classList.add('selected');
                showTestPanel(testType);
            };
        });

        // Method cards
        methodCards.forEach(function(card) {
            card.onclick = function() {
                var testType = this.dataset.testType;
                if (!testType) return;
                this.classList.add('selected');
                showTestPanel(testType);
            };
        });
    }

    // Add event listeners for Testing panels
    document.addEventListener('DOMContentLoaded', initTestingPanels);
    document.addEventListener('astro:page-load', initTestingPanels);
</script>
